import{s as e,r as s,j as t,u as a,f as r}from"./index-DHTLMDH8.js";import{u as l}from"./useGroupSettings-D3bIAl4s.js";const i={ADMINS:5e3,MEMBERS:4999,OWNER:1},o={process:(s,t)=>({counts:{owner:s.filter(e=>"Dono"===e.role).length||1,customRoles:(t||[]).map(e=>({id:e.id,name:e.name,color:e.color,count:s.filter(s=>s.roleId===e.id).length})).sort((e,s)=>s.count-e.count),unassigned:s.filter(e=>"Dono"!==e.role&&(!e.roleId||""===e.roleId)).length},totalPower:s.reduce((s,a)=>{if("Dono"===a.role)return s+e.Dono;if(a.roleId){const e=t.find(e=>e.id===a.roleId);return s+(e?10*e.priority:10)}return s+e.Membro},0),limits:i})},c=({members:e,roles:a,memberLimit:r})=>{const l=s.useMemo(()=>o.process(e,a),[e,a]),i="number"==typeof r&&r>0,c=e.length,n=i?c/r*100:0;return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-white/5 border border-[#00c2ff]/30 rounded-3xl p-6 shadow-2xl relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#00c2ff] to-transparent opacity-50"}),t.jsx("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-[2px] block mb-2",children:"Capacidade Absoluta"}),t.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[t.jsx("span",{className:"text-4xl font-black text-white",children:c.toLocaleString()}),t.jsxs("span",{className:"text-gray-500 font-bold flex items-center",children:["/ ",i?null==r?void 0:r.toLocaleString():t.jsx("i",{className:"fa-solid fa-infinity text-sm ml-1.5 text-[#00c2ff]/60"})]})]}),t.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mb-2",children:t.jsx("div",{className:"h-full rounded-full transition-all duration-1000 bg-[#00c2ff]",style:{width:`${i?Math.min(100,n):100}%`,boxShadow:"0 0 15px rgba(0, 194, 255, 0.4)"}})}),t.jsx("p",{className:"text-[11px] text-gray-500 font-bold uppercase tracking-wider text-right",children:i?`${Math.min(100,n).toFixed(1)}% preenchido`:"Capacidade Adaptativa"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-[9px] font-black text-gray-600 uppercase tracking-[3px] ml-2 mb-4",children:"Distribuição de Cargos"}),t.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FFD7001a] flex items-center justify-center text-[#FFD700] border border-[#FFD70033]",children:t.jsx("i",{className:"fa-solid fa-crown"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-white",children:"Dono"}),t.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Proprietário"})]})]}),t.jsx("span",{className:"text-lg font-black text-[#FFD700]",children:l.counts.owner})]}),l.counts.customRoles.map(e=>t.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between animate-fade-in",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-xs font-black",style:{backgroundColor:`${e.color}1a`,color:e.color,border:`1px solid ${e.color}33`},children:t.jsx("i",{className:"fa-solid fa-user-shield"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-white",children:e.name}),t.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Cargo Customizado"})]})]}),t.jsx("span",{className:"text-lg font-black text-white",style:{color:e.count>0?e.color:void 0},children:e.count})]},e.id)),t.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-gray-400",children:t.jsx("i",{className:"fa-solid fa-users"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold text-white",children:"Membros"}),t.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Sem cargo atribuído"})]})]}),t.jsx("span",{className:"text-lg font-black text-gray-500",children:l.counts.unassigned})]})]}),t.jsxs("div",{className:"pt-4 border-t border-white/5 opacity-50 flex justify-between items-center px-2",children:[t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-gray-500",children:"Força da Comunidade"}),t.jsxs("span",{className:"text-xs font-black text-[#00c2ff]",children:[l.totalPower.toLocaleString()," pts"]})]})]})},n=()=>{const e=a(),{id:s}=r(),{group:i,loading:o,form:n}=l();return o||!i?null:t.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[t.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[t.jsx("button",{onClick:()=>e(`/group-settings/${s}`),className:"mr-4 text-white text-xl",children:t.jsx("i",{className:"fa-solid fa-arrow-left"})}),t.jsx("h1",{className:"font-bold",children:"Estrutura e Estatísticas"})]}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-24 no-scrollbar",children:[t.jsx(c,{members:n.members,roles:n.roles||[],memberLimit:n.memberLimit}),t.jsx("div",{className:"mt-8 bg-[#00c2ff1a] border border-[#00c2ff33] p-5 rounded-2xl",children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx("i",{className:"fa-solid fa-circle-nodes text-[#00c2ff] text-xl"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-black text-[#00c2ff] uppercase tracking-wider mb-1",children:"Escalabilidade Flux"}),t.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:"Seu grupo está preparado para o crescimento em massa. Os limites garantem que comunidades gigantescas mantenham uma moderação eficiente."})]})]})})]}),t.jsx("div",{className:"fixed bottom-0 left-0 w-full p-6 bg-gradient-to-t from-[#0a0c10] to-transparent",children:t.jsx("button",{className:"w-full py-4 bg-white/5 border border-white/10 text-white font-black rounded-2xl uppercase tracking-widest text-xs transition-all hover:bg-white/10",onClick:()=>e(`/group-settings/${s}`),children:"Voltar"})})]})};export{n as GroupStatisticsPage};
