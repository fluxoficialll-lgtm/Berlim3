import{r as e,j as s,g as t,u as a,f as i}from"./index-DHTLMDH8.js";import{u as l}from"./useGroupSettings-D3bIAl4s.js";const n=({groupId:a,isAdmin:i,approveMembers:l,setApproveMembers:n,pendingRequests:r,handlePendingAction:c,links:d,setLinks:o})=>{const[x,m]=e.useState(!1),[p,f]=e.useState(""),[h,u]=e.useState("");return s.jsxs("div",{className:"flex flex-col gap-4",children:[i&&s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5 mb-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h4",{className:"font-bold text-sm text-white",children:"Aprovar Membros"}),s.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-wider",children:"Moderação de entrada ativa"})]}),s.jsxs("label",{className:"switch",children:[s.jsx("input",{type:"checkbox",checked:l,onChange:()=>n(!l)}),s.jsx("span",{className:"slider"})]})]}),r.length>0&&s.jsxs("div",{className:"bg-[#ffaa00]/10 border border-[#ffaa00]/20 rounded-xl p-4 mb-2",children:[s.jsxs("div",{className:"text-[10px] font-black text-[#ffaa00] uppercase mb-3 tracking-widest",children:["Solicitações Pendentes (",r.length,")"]}),s.jsx("div",{className:"flex flex-col gap-2",children:r.slice(0,3).map(e=>{var t,a;return s.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-3 rounded-lg border border-white/5",children:[s.jsx("span",{className:"text-xs font-bold truncate pr-4",children:(null==(t=e.profile)?void 0:t.nickname)||(null==(a=e.profile)?void 0:a.name)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>c(e.id,"accept"),className:"w-8 h-8 rounded-lg bg-[#00ff82]/10 text-[#00ff82] flex items-center justify-center text-xs",children:s.jsx("i",{className:"fa-solid fa-check"})}),s.jsx("button",{onClick:()=>c(e.id,"deny"),className:"w-8 h-8 rounded-lg bg-red-500/10 text-red-500 flex items-center justify-center text-xs",children:s.jsx("i",{className:"fa-solid fa-xmark"})})]})]},e.id)})})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex justify-between items-center px-1",children:[s.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Links de Convite"}),i&&s.jsxs("button",{onClick:()=>m(!0),className:"text-[#00c2ff] text-[10px] font-black uppercase tracking-wider",children:[s.jsx("i",{className:"fa-solid fa-plus-circle mr-1"})," Gerar Novo"]})]}),s.jsxs("div",{className:"space-y-2",children:[d.map(e=>s.jsxs("div",{className:"flex items-center justify-between bg-black/20 p-4 rounded-xl border border-white/5 hover:border-white/10 transition-colors",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-xs font-bold text-white truncate",children:e.name}),s.jsxs("div",{className:"text-[10px] font-mono text-gray-500 mt-0.5 uppercase tracking-tighter",children:["REF: ",e.code]})]}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsxs("div",{className:"text-[10px] font-black text-[#00ff82]",children:[e.joins," ",s.jsx("i",{className:"fa-solid fa-user-plus ml-0.5"})]}),s.jsx("button",{onClick:()=>(e=>{const s=`${window.location.origin}/#/groups?join=${e}`;navigator.clipboard.writeText(s),alert("Link copiado!")})(e.code),className:"text-[#00c2ff] hover:text-white transition-colors p-2",children:s.jsx("i",{className:"fa-regular fa-copy"})})]})]},e.id)),0===d.length&&s.jsx("div",{className:"text-center py-4 text-xs text-gray-600 italic",children:"Nenhum link ativo."})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-6 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-[#1a1e26] p-8 rounded-3xl w-full max-w-sm border border-white/10 shadow-2xl animate-pop-in",children:[s.jsx("h3",{className:"text-lg font-black mb-6 uppercase tracking-wider text-center",children:"Criar Link"}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{children:"Nome do Canal (Origem)"}),s.jsx("input",{type:"text",className:"input-field",placeholder:"Ex: Bio Instagram",value:p,onChange:e=>f(e.target.value)})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{children:"Limite de Usos (Opcional)"}),s.jsx("input",{type:"number",className:"input-field",placeholder:"Ilimitado",value:h,onChange:e=>u(e.target.value)})]}),s.jsxs("div",{className:"flex gap-3 mt-8",children:[s.jsx("button",{className:"flex-1 py-4 bg-white/5 text-gray-400 font-bold rounded-2xl uppercase text-xs",onClick:()=>m(!1),children:"Cancelar"}),s.jsx("button",{className:"flex-1 py-4 bg-[#00c2ff] text-black font-black rounded-2xl uppercase text-xs shadow-lg shadow-[#00c2ff]/20",onClick:()=>{if(!p.trim())return;const e=h?parseInt(h):void 0,s=t.addGroupLink(a,p,e);s&&(o([s,...d]),f(""),u(""),m(!1))},children:"Confirmar"})]})]})})]})},r=()=>{const e=a(),{id:t}=i(),{group:r,loading:c,isAdmin:d,handlePendingAction:o,form:x}=l();return c||!r?null:s.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>e(`/group-settings/${t}`),className:"mr-4 text-white text-xl",children:s.jsx("i",{className:"fa-solid fa-arrow-left"})}),s.jsx("h1",{className:"font-bold",children:"Acesso e Convites"})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full",children:[s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:s.jsx(n,{groupId:t,isAdmin:d,approveMembers:x.approveMembers,setApproveMembers:x.setApproveMembers,pendingRequests:x.pendingRequests,handlePendingAction:o,links:x.links,setLinks:x.setLinks})}),s.jsx("button",{className:"btn-save-fixed",onClick:()=>e(`/group-settings/${t}`),children:"Voltar ao Menu"})]})]})};export{r as GroupAccessPage};
