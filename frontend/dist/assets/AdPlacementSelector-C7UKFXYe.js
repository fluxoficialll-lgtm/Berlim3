import{u as e,a,e as n,r as t,c as s,g as i,h as r,j as o,R as l}from"./index-Bkpya5GW.js";import{g as c}from"./idGenerator-C-_CWH9r.js";import{A as d,C as p}from"./AdPreview-HGhSkwC6.js";import{a as m,M as x}from"./MarketingPrompts-B9HQ0I_5.js";import"./FeedItem-BVlRJhTQ.js";import"./UserBadge-B6APxn0Y.js";import"./UserAvatar-B4jG9SAR.js";import"./postService-B_maMF9u.js";import"./ProductCard-CkqBdyAW.js";const g=({currentStep:e,onBack:a})=>o.jsxs("header",{className:"flex items-center px-6 bg-[#0c0f14] fixed w-full top-0 z-50 border-b border-white/10 h-[70px]",children:[o.jsx("style",{children:"\n                .back-btn-flow { background:none; border:none; color:#fff; font-size:20px; cursor:pointer; }\n                .stepper-container { display: flex; align-items: center; gap: 10px; margin-left: 20px; flex: 1; }\n                .step-pill { display: flex; align-items: center; gap: 8px; font-size: 11px; font-weight: 800; text-transform: uppercase; color: #555; transition: 0.3s; cursor: default; }\n                .step-pill.active { color: #00c2ff; }\n                .step-pill.completed { color: #fff; }\n                .step-dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; }\n                .step-line { flex: 1; height: 1px; background: rgba(255,255,255,0.05); max-width: 40px; }\n            "}),o.jsx("button",{onClick:a,className:"back-btn-flow",children:o.jsx("i",{className:"fa-solid fa-xmark"})}),o.jsxs("div",{className:"stepper-container",children:[o.jsxs("div",{className:"step-pill "+("campaign"===e?"active":"completed"),children:[o.jsx("div",{className:"step-dot"})," CAMPANHA"]}),o.jsx("div",{className:"step-line"}),o.jsxs("div",{className:"step-pill "+("adset"===e?"active":"ad"===e?"completed":""),children:[o.jsx("div",{className:"step-dot"})," CONJUNTO"]}),o.jsx("div",{className:"step-line"}),o.jsxs("div",{className:"step-pill "+("ad"===e?"active":""),children:[o.jsx("div",{className:"step-dot"})," ANÚNCIO"]})]})]}),u=({currentStep:e,isLoading:a,onPrev:n,onNext:t,onSubmit:s})=>o.jsxs("div",{className:"fixed bottom-0 left-0 w-full padding-6 bg-[#0c0f14]/90 backdrop-blur-xl border-t border-white/10 flex justify-between z-[60] p-6",children:[o.jsx("style",{children:"\n                .btn-nav { padding: 14px 28px; border-radius: 12px; font-weight: 900; font-size: 13px; text-transform: uppercase; cursor: pointer; transition: 0.2s; border: none; letter-spacing: 1px; }\n                .btn-prev { background: rgba(255,255,255,0.05); color: #fff; border: 1px solid rgba(255,255,255,0.1); }\n                .btn-next { background: #00c2ff; color: #000; box-shadow: 0 4px 20px rgba(0,194,255,0.3); }\n                .btn-next:disabled { background: #333; color: #777; box-shadow: none; cursor: not-allowed; }\n            "}),o.jsx("button",{className:"btn-nav btn-prev",onClick:n,children:"campaign"===e?"Sair":"Anterior"}),o.jsx("button",{className:"btn-nav btn-next",onClick:"ad"===e?s:t,disabled:a,children:a?o.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"ad"===e?"Publicar Anúncio":"Continuar"})]}),f=({name:e,onNameChange:a})=>o.jsxs("div",{className:"form-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-bullhorn"})," Detalhes Macro"]}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Nome da Campanha"}),o.jsx("input",{type:"text",className:"meta-field",placeholder:"Ex: Campanha de Vendas Outono/Inverno",value:e,onChange:e=>a(e.target.value)})]})})]}),b=[{id:"awareness",label:"Reconhecimento",icon:"fa-bullhorn",description:"Alcance o maior número de pessoas."},{id:"traffic",label:"Tráfego",icon:"fa-arrow-up-right-dots",description:"Envie pessoas para um destino."},{id:"engagement",label:"Engajamento",icon:"fa-comments",description:"Obtenha mais mensagens e curtidas."},{id:"leads",label:"Leads",icon:"fa-user-plus",description:"Encontre pessoas interessadas em você."},{id:"app_promotion",label:"Promoção do app",icon:"fa-download",description:"Faça com que as pessoas instalem seu app."},{id:"sales",label:"Vendas",icon:"fa-cart-shopping",description:"Encontre pessoas com intenção de compra."}],h=({campaign:e,onInputChange:a})=>o.jsxs("div",{className:"form-card animate-fade-in",children:[o.jsx("style",{children:"\n                .objective-grid {\n                    display: grid;\n                    grid-template-columns: 1fr;\n                    gap: 10px;\n                }\n                .objective-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 15px;\n                    padding: 15px;\n                    background: rgba(255,255,255,0.02);\n                    border: 1px solid rgba(255,255,255,0.05);\n                    border-radius: 16px;\n                    cursor: pointer;\n                    transition: 0.2s;\n                }\n                .objective-item:hover {\n                    background: rgba(0,194,255,0.05);\n                    border-color: rgba(0,194,255,0.2);\n                }\n                .objective-item.active {\n                    background: rgba(0,194,255,0.1);\n                    border-color: #00c2ff;\n                }\n                .obj-icon-circle {\n                    width: 40px;\n                    height: 40px;\n                    border-radius: 50%;\n                    background: rgba(255,255,255,0.05);\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 16px;\n                    color: #aaa;\n                    flex-shrink: 0;\n                }\n                .objective-item.active .obj-icon-circle {\n                    background: #00c2ff;\n                    color: #000;\n                }\n                .obj-text-info {\n                    display: flex;\n                    flex-direction: column;\n                    text-align: left;\n                }\n                .obj-label {\n                    font-size: 14px;\n                    font-weight: 700;\n                    color: #fff;\n                }\n                .obj-desc {\n                    font-size: 11px;\n                    color: #666;\n                }\n                .objective-item.active .obj-desc {\n                    color: #888;\n                }\n            "}),o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-crosshairs"})," Objetivo da Campanha"]}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-[11px] text-gray-500 mb-4 font-bold uppercase tracking-widest pl-1",children:"Escolha um objetivo"}),o.jsx("div",{className:"objective-grid",children:b.map(n=>o.jsxs("div",{className:"objective-item "+(e.campaignObjective===n.id?"active":""),onClick:()=>a("campaignObjective",n.id),children:[o.jsx("div",{className:"obj-icon-circle",children:o.jsx("i",{className:`fa-solid ${n.icon}`})}),o.jsxs("div",{className:"obj-text-info",children:[o.jsx("span",{className:"obj-label",children:n.label}),o.jsx("span",{className:"obj-desc",children:n.description})]}),e.campaignObjective===n.id&&o.jsx("i",{className:"fa-solid fa-circle-check text-[#00c2ff] ml-auto"})]},n.id))})]})]}),v=({campaign:e,onInputChange:a})=>o.jsxs("div",{className:"animate-fade-in space-y-5",children:[o.jsx(f,{name:e.name||"",onNameChange:e=>a("name",e)}),o.jsx(h,{campaign:e,onInputChange:a})]}),j=({campaign:e,onInputChange:a})=>o.jsxs("div",{className:"form-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-wallet"})," Orçamento e Modelo de Cobrança"]}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"type-selector",children:[o.jsxs("div",{className:"type-btn "+("budget"===e.pricingModel?"active":""),onClick:()=>a("pricingModel","budget"),children:[o.jsx("i",{className:"fa-solid fa-calendar-day"}),o.jsx("span",{children:"Orçamento Diário"})]}),o.jsxs("div",{className:"type-btn "+("commission"===e.pricingModel?"active":""),onClick:()=>a("pricingModel","commission"),children:[o.jsx("i",{className:"fa-solid fa-calendar-check"}),o.jsx("span",{children:"Orçamento Total"})]})]}),o.jsxs("div",{className:"input-group highlight-box animate-fade-in",children:[o.jsx("label",{children:"budget"===e.pricingModel?"Investimento Diário (R$)":"Investimento Total (R$)"}),o.jsx("input",{type:"number",className:"meta-field",placeholder:"0,00",value:e.budget,onChange:e=>a("budget",e.target.value)}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-3 font-bold uppercase tracking-widest",children:"budget"===e.pricingModel?"• Cobrança recorrente a cada 24h":"• O valor será distribuído durante toda a campanha"})]})]})]}),N={async getSmartSuggestions(e){try{return await m.run(x.suggestInterests(e.title,e.text),{task:"marketing_suggestion",tier:"flash",jsonMode:!0})}catch(a){return[]}}},y={estimate(e){var a;const n=Number(e.budget||10),t=e.targeting;let s=100*n;if(!t)return{min:s,max:2.5*s,status:"broad"};let i=1;if(i*=(t.ageMax-t.ageMin)/30,t.locations&&t.locations.length>0){i*=t.locations.reduce((e,a)=>e+a.radius,0)/t.locations.length/50}else i*=5;const r=(null==(a=t.interests)?void 0:a.length)||0;r>0&&(i*=Math.max(.2,1-.05*r));const o=s*i;let l="ideal";return i<.4?l="narrow":i>3&&(l="broad"),{min:Math.round(.7*o),max:Math.round(1.3*o),status:l}}},k={async search(e){if(e.length<3)return[];try{const a=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&addressdetails=1&limit=5&accept-language=pt-BR`);return(await a.json()).map(e=>({name:e.address.city||e.address.town||e.address.village||e.display_name.split(",")[0],lat:parseFloat(e.lat),lon:parseFloat(e.lon),state:e.address.state,country:e.address.country}))}catch(a){return[]}}},w=({campaign:e,interestInput:a,setInterestInput:n,onTargetingChange:s,addInterest:i,removeInterest:r})=>{var l,c,d,p,m,x,g,u;const[f,b]=t.useState(!1),[h,v]=t.useState(""),[j,w]=t.useState([]),[C,I]=t.useState(!1),[S,D]=t.useState(!1),M=t.useRef(null),T=t.useMemo(()=>y.estimate(e),[e]);t.useEffect(()=>{const e=setTimeout(async()=>{if(h.length>=3){I(!0);const e=await k.search(h);w(e),D(!0),I(!1)}},500);return()=>clearTimeout(e)},[h]);return o.jsxs("div",{className:"form-card",children:[o.jsx("style",{children:"\n                .meter-container { margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.03); }\n                .meter-bar { height: 4px; width: 100%; background: rgba(255,255,255,0.05); border-radius: 2px; position: relative; margin: 10px 0; }\n                .meter-pointer { position: absolute; top: -4px; width: 2px; height: 12px; background: #fff; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 0 10px #fff; }\n                .magic-btn { background: rgba(0, 194, 255, 0.1); color: #00c2ff; border: 1px solid rgba(0, 194, 255, 0.3); padding: 0 15px; border-radius: 12px; font-weight: 800; cursor: pointer; transition: 0.3s; }\n                .magic-btn:hover { background: #00c2ff; color: #000; }\n                .loc-dropdown { position: absolute; top: 100%; left: 0; width: 100%; background: #1a1e26; border: 1px solid #333; border-radius: 12px; z-index: 50; overflow: hidden; margin-top: 5px; }\n                .loc-item { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #222; font-size: 13px; color: #ccc; }\n                .loc-item:hover { background: #222; color: #fff; }\n            "}),o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-users-viewfinder"})," Público e Segmentação"]}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"input-group mb-6 relative",ref:M,children:[o.jsx("label",{children:"Cidades ou Estados"}),o.jsx("div",{className:"flex gap-2 mb-2",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",className:"meta-field w-full",placeholder:"Ex: São Paulo, Rio de Janeiro...",value:h,onChange:e=>v(e.target.value)}),C&&o.jsx("i",{className:"fa-solid fa-circle-notch fa-spin absolute right-4 top-4 text-[#00c2ff]"})]})}),S&&j.length>0&&o.jsx("div",{className:"loc-dropdown shadow-2xl",children:j.map((a,n)=>o.jsxs("div",{className:"loc-item",onClick:()=>(a=>{var n;const t=(null==(n=e.targeting)?void 0:n.locations)||[],i={id:`loc_${Date.now()}`,name:`${a.name}, ${a.state||a.country}`,radius:40,lat:a.lat,lon:a.lon};s("locations",[...t,i]),v(""),D(!1)})(a),children:[o.jsx("i",{className:"fa-solid fa-location-dot mr-2 opacity-40"}),a.name,", ",a.state]},n))}),o.jsx("div",{className:"flex flex-wrap gap-2",children:null==(c=null==(l=e.targeting)?void 0:l.locations)?void 0:c.map(a=>o.jsxs("div",{className:"interest-tag !bg-blue-500/10 !border-blue-500/20 !text-blue-400",children:[a.name,o.jsx("i",{className:"fa-solid fa-xmark",onClick:()=>{var n,t;const i=null==(t=null==(n=e.targeting)?void 0:n.locations)?void 0:t.filter(e=>e.id!==a.id);s("locations",i)}})]},a.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Idade Mínima"}),o.jsx("input",{type:"number",className:"meta-field",value:null==(d=e.targeting)?void 0:d.ageMin,onChange:e=>s("ageMin",parseInt(e.target.value))})]}),o.jsxs("div",{className:"input-group",children:[o.jsx("label",{children:"Idade Máxima"}),o.jsx("input",{type:"number",className:"meta-field",value:null==(p=e.targeting)?void 0:p.ageMax,onChange:e=>s("ageMax",parseInt(e.target.value))})]})]}),o.jsxs("div",{className:"input-group mb-6",children:[o.jsx("label",{children:"Gênero"}),o.jsxs("div",{className:"gender-selector",children:[o.jsx("button",{className:"gender-btn "+("all"===(null==(m=e.targeting)?void 0:m.gender)?"active":""),onClick:()=>s("gender","all"),children:"Todos"}),o.jsx("button",{className:"gender-btn "+("male"===(null==(x=e.targeting)?void 0:x.gender)?"active":""),onClick:()=>s("gender","male"),children:"Homens"}),o.jsx("button",{className:"gender-btn "+("female"===(null==(g=e.targeting)?void 0:g.gender)?"active":""),onClick:()=>s("gender","female"),children:"Mulheres"})]})]}),o.jsxs("div",{className:"input-group",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"mb-0",children:"Interesses Sugeridos"}),o.jsxs("button",{type:"button",className:"magic-btn text-[9px] uppercase tracking-widest py-1",onClick:async()=>{var a,n;b(!0);const t=await N.getSmartSuggestions({title:e.name||"",text:(null==(a=e.creative)?void 0:a.text)||""});if(t.length>0){const a=(null==(n=e.targeting)?void 0:n.interests)||[];s("interests",Array.from(new Set([...a,...t])))}b(!1)},disabled:f,children:[f?o.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-1"}):o.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-1"}),"Sugerir Interesses"]})]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsx("input",{type:"text",className:"meta-field",placeholder:"Adicionar interesse manual...",value:a,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&i()}),o.jsx("button",{onClick:i,className:"bg-[#00c2ff] text-black w-12 rounded-xl font-bold",children:"+"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:null==(u=e.targeting)?void 0:u.interests.map(e=>o.jsxs("div",{className:"interest-tag",children:[e,o.jsx("i",{className:"fa-solid fa-xmark",onClick:()=>r(e)})]},e))})]}),o.jsxs("div",{className:"meter-container",children:[o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest",children:"Alcance Estimado"}),o.jsxs("span",{className:"text-sm font-black text-white",children:[T.min.toLocaleString()," - ",T.max.toLocaleString()," ",o.jsx("span",{className:"text-gray-500 font-medium",children:"pessoas/dia"})]})]}),o.jsx("span",{className:"text-[10px] font-black uppercase",style:{color:"narrow"===T.status?"#ffaa00":"broad"===T.status?"#00c2ff":"#00ff82"},children:"narrow"===T.status?"Muito Específico":"broad"===T.status?"Muito Amplo":"Ideal"})]}),o.jsxs("div",{className:"meter-bar",children:[o.jsx("div",{className:"h-full rounded-full opacity-30",style:{background:"linear-gradient(90deg, #ffaa00 0%, #00ff82 50%, #00c2ff 100%)",width:"100%"}}),o.jsx("div",{className:"meter-pointer",style:{left:"narrow"===T.status?"15%":"ideal"===T.status?"50%":"85%"}})]})]})]})]})},C=({campaign:e,myGroups:a,onTargetingChange:n})=>{var t,s;const i=a.filter(e=>e.isVip);return o.jsxs("div",{className:"form-card",children:[o.jsx("style",{children:"\n                .lookalike-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 12px;\n                    padding: 12px;\n                    background: rgba(255,255,255,0.02);\n                    border: 1px solid rgba(255,255,255,0.05);\n                    border-radius: 14px;\n                    margin-bottom: 8px;\n                    cursor: pointer;\n                    transition: 0.2s;\n                }\n                .lookalike-item.selected {\n                    background: rgba(255, 215, 0, 0.05);\n                    border-color: #FFD700;\n                }\n                .lookalike-icon {\n                    width: 36px;\n                    height: 36px;\n                    border-radius: 10px;\n                    background: #1a1e26;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    color: #FFD700;\n                    font-size: 16px;\n                }\n            "}),o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-users-rays"})," Públicos Semelhantes (Lookalike)"]}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-[10px] text-gray-500 mb-4 font-bold uppercase tracking-widest leading-relaxed",children:"A IA encontrará pessoas com o mesmo comportamento de compra dos membros do seu grupo selecionado."}),i.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"lookalike-item "+((null==(t=e.targeting)?void 0:t.lookalikeGroupId)?"":"selected"),onClick:()=>n("lookalikeGroupId",void 0),children:[o.jsx("div",{className:"lookalike-icon",style:{color:"#aaa"},children:o.jsx("i",{className:"fa-solid fa-globe"})}),o.jsx("div",{className:"flex-1",children:o.jsx("span",{className:"text-xs font-bold text-white",children:"Nenhum (Público Amplo)"})}),!(null==(s=e.targeting)?void 0:s.lookalikeGroupId)&&o.jsx("i",{className:"fa-solid fa-circle-check text-[#FFD700]"})]}),i.map(a=>{var t,s,i;return o.jsxs("div",{className:"lookalike-item "+((null==(t=e.targeting)?void 0:t.lookalikeGroupId)===a.id?"selected":""),onClick:()=>n("lookalikeGroupId",a.id),children:[o.jsx("div",{className:"lookalike-icon",children:o.jsx("i",{className:"fa-solid fa-crown"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("span",{className:"text-xs font-bold text-white block truncate",children:a.name}),o.jsxs("span",{className:"text-[9px] text-gray-500 uppercase font-black",children:[(null==(s=a.memberIds)?void 0:s.length)||0," Modelos de Perfil"]})]}),(null==(i=e.targeting)?void 0:i.lookalikeGroupId)===a.id&&o.jsx("i",{className:"fa-solid fa-circle-check text-[#FFD700]"})]},a.id)})]}):o.jsxs("div",{className:"bg-white/5 border border-dashed border-white/10 p-5 rounded-2xl text-center",children:[o.jsx("i",{className:"fa-solid fa-lock text-gray-700 text-2xl mb-2"}),o.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Você ainda não possui grupos VIP para usar como base."})]})]})]})},I=({label:e,value:a,icon:n,onClick:t,disabled:s,color:i="#00c2ff"})=>o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest pl-1",children:e}),o.jsxs("div",{onClick:s?void 0:t,className:"flex items-center justify-between p-4 bg-[#0c0f14] border rounded-2xl transition-all group "+(s?"opacity-40 cursor-not-allowed":"cursor-pointer hover:border-white/20 active:scale-[0.98]"),style:{borderColor:s?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.1)"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("i",{className:`${n}`,style:{color:s?"#555":i}}),o.jsx("span",{className:"font-bold text-sm text-gray-200",children:a||"Escolher..."})]}),o.jsx("i",{className:"fa-solid fa-chevron-down text-[10px] text-gray-600 transition-transform group-hover:translate-y-0.5"})]})]}),S=({isOpen:e,onClose:a,pricingModel:n,currentType:s,onSave:i,initialConfig:r})=>{var c;const[d,p]=t.useState(s),[m,x]=t.useState(r.startDate?new Date(r.startDate).toISOString().split("T")[0]:""),[g,u]=t.useState(r.endDate?new Date(r.endDate).toISOString().split("T")[0]:""),[f,b]=t.useState((null==(c=r.periodConfig)?void 0:c.days)||[1,2,3,4,5]),[h,v]=t.useState(()=>{var e;if(null==(e=r.periodConfig)?void 0:e.hours){const e=[];return r.periodConfig.hours.forEach(a=>{const[n,t]=a.start.split(":").map(Number),[s,i]=a.end.split(":").map(Number),r=2*s+(30===i?1:0);for(let o=2*n+(30===t?1:0);o<r;o++)e.push(o)}),e.length>0?e:[18,19,20,21,22,23,36,37,38,39,40,41]}return[18,19,20,21,22,23,36,37,38,39,40,41]});if(t.useEffect(()=>{"budget"===n&&"period"===d&&p("continuous")},[n,d]),!e)return null;const j=e=>{const a=Math.floor(e/2),n=e%2*30;return`${String(a).padStart(2,"0")}:${String(n).padStart(2,"0")}`},N=e=>{if(0===e.length)return[];const a=[...e].sort((e,a)=>e-a),n=[];let t=a[0];for(let s=0;s<a.length;s++)a[s+1]!==a[s]+1&&(n.push({start:j(t),end:j(a[s]+1)}),t=a[s+1]);return n},y=Array.from({length:48},(e,a)=>a),k="budget"===n;return o.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-fade-in",onClick:a,children:[o.jsx("style",{children:"\n                .duration-modal {\n                    width: 100%;\n                    max-width: 460px;\n                    background: #161a21;\n                    border: 1px solid rgba(0, 194, 255, 0.2);\n                    border-radius: 32px;\n                    padding: 28px;\n                    box-shadow: 0 25px 60px rgba(0,0,0,0.8);\n                    animation: popIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n                    max-height: 95vh;\n                    overflow-y: auto;\n                }\n                .mode-selector {\n                    display: flex;\n                    gap: 6px;\n                    background: #090b0e;\n                    padding: 6px;\n                    border-radius: 18px;\n                    margin-bottom: 24px;\n                }\n                .mode-btn {\n                    flex: 1;\n                    padding: 12px;\n                    border: none;\n                    background: transparent;\n                    color: #555;\n                    font-size: 10px;\n                    font-weight: 800;\n                    text-transform: uppercase;\n                    border-radius: 14px;\n                    cursor: pointer;\n                    transition: 0.3s;\n                    letter-spacing: 1px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 6px;\n                }\n                .mode-btn.active {\n                    background: #00c2ff;\n                    color: #000;\n                    box-shadow: 0 4px 12px rgba(0, 194, 255, 0.3);\n                }\n                .mode-btn.disabled {\n                    opacity: 0.2;\n                    cursor: not-allowed;\n                }\n                .day-chip {\n                    width: 44px;\n                    height: 44px;\n                    border-radius: 14px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    background: rgba(255,255,255,0.03);\n                    border: 1px solid rgba(255,255,255,0.08);\n                    color: #666;\n                    font-weight: 800;\n                    cursor: pointer;\n                    transition: 0.2s;\n                }\n                .day-chip.selected {\n                    background: #00c2ff15;\n                    border-color: #00c2ff;\n                    color: #00c2ff;\n                }\n                .slots-grid {\n                    display: grid;\n                    grid-template-columns: repeat(6, 1fr);\n                    gap: 6px;\n                    margin-top: 12px;\n                }\n                .slot-btn {\n                    padding: 8px 0;\n                    border-radius: 10px;\n                    background: rgba(255,255,255,0.03);\n                    border: 1px solid rgba(255,255,255,0.08);\n                    color: #444;\n                    font-size: 10px;\n                    font-weight: 700;\n                    cursor: pointer;\n                    transition: 0.2s;\n                }\n                .slot-btn.selected {\n                    background: #00c2ff;\n                    color: #000;\n                    border-color: #00c2ff;\n                    box-shadow: 0 0 8px rgba(0, 194, 255, 0.2);\n                }\n                .hour-marker {\n                    grid-column: span 6;\n                    font-size: 9px;\n                    color: #444;\n                    margin-top: 10px;\n                    border-bottom: 1px solid rgba(255,255,255,0.03);\n                    padding-bottom: 4px;\n                    font-weight: 800;\n                    text-transform: uppercase;\n                }\n                .custom-input {\n                    background: #0c0f14;\n                    border: 1px solid rgba(255,255,255,0.1);\n                    color: #fff;\n                    padding: 14px;\n                    border-radius: 14px;\n                    outline: none;\n                    width: 100%;\n                    font-size: 14px;\n                }\n                .custom-input:focus { border-color: #00c2ff; }\n                \n                @keyframes popIn {\n                    from { transform: scale(0.95) translateY(10px); opacity: 0; }\n                    to { transform: scale(1) translateY(0); opacity: 1; }\n                }\n                .no-scrollbar::-webkit-scrollbar { display: none; }\n                \n                .lock-notice {\n                    background: rgba(255, 215, 0, 0.05);\n                    border: 1px solid rgba(255, 215, 0, 0.2);\n                    padding: 12px;\n                    border-radius: 16px;\n                    margin-bottom: 20px;\n                    display: flex;\n                    gap: 12px;\n                    align-items: center;\n                }\n            "}),o.jsxs("div",{className:"duration-modal no-scrollbar",onClick:e=>e.stopPropagation(),children:[o.jsx("h3",{className:"text-xl font-black text-center mb-6 uppercase tracking-[3px] text-[#00c2ff]",children:"Programação de Pico"}),k&&o.jsxs("div",{className:"lock-notice animate-fade-in",children:[o.jsx("i",{className:"fa-solid fa-lock text-[#FFD700]"}),o.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase leading-relaxed",children:["A ",o.jsx("span",{className:"text-[#FFD700]",children:"Programação por Slots"})," está disponível apenas no modelo de ",o.jsx("span",{className:"text-[#FFD700]",children:"Orçamento Total / Comissão"}),"."]})]}),o.jsxs("div",{className:"mode-selector",children:[o.jsx("button",{className:"mode-btn "+("continuous"===d?"active":""),onClick:()=>p("continuous"),children:"Contínua"}),o.jsx("button",{className:"mode-btn "+("date"===d?"active":""),onClick:()=>p("date"),children:"Calendário"}),o.jsxs("button",{className:`mode-btn ${"period"===d?"active":""} ${k?"disabled":""}`,onClick:()=>!k&&p("period"),children:[k&&o.jsx("i",{className:"fa-solid fa-lock text-[9px]"}),"Slots"]})]}),o.jsxs("div",{className:"config-section min-h-[350px]",children:["continuous"===d&&o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-16 animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-[#00c2ff]/10 rounded-full flex items-center justify-center text-[#00c2ff] text-3xl mb-6 border border-[#00c2ff]/20",children:o.jsx("i",{className:"fa-solid fa-infinity"})}),o.jsx("h4",{className:"text-white text-lg font-bold mb-2",children:"Entrega Fluida"}),o.jsx("p",{className:"text-gray-500 text-xs leading-relaxed px-10",children:"Os anúncios serão exibidos sem interrupções diárias enquanto houver orçamento."})]}),"date"===d&&o.jsxs("div",{className:"space-y-6 animate-fade-in py-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest pl-1",children:"Data Inicial"}),o.jsx("input",{type:"date",className:"custom-input",value:m,onChange:e=>x(e.target.value),style:{colorScheme:"dark"}})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest pl-1",children:"Data Final"}),o.jsx("input",{type:"date",className:"custom-input",value:g,onChange:e=>u(e.target.value),style:{colorScheme:"dark"}})]})]}),"period"===d&&!k&&o.jsxs("div",{className:"space-y-6 animate-fade-in py-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block mb-4 pl-1",children:"Dias de Atividade"}),o.jsx("div",{className:"flex justify-between",children:[{id:1,label:"S"},{id:2,label:"T"},{id:3,label:"Q"},{id:4,label:"Q"},{id:5,label:"S"},{id:6,label:"S"},{id:0,label:"D"}].map(e=>o.jsx("div",{className:"day-chip "+(f.includes(e.id)?"selected":""),onClick:()=>(e=>{b(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])})(e.id),children:e.label},e.id))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 pl-1",children:[o.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Gráfico de Picos (30 em 30 min)"}),o.jsxs("span",{className:"text-[9px] font-bold text-[#00c2ff] bg-[#00c2ff]/10 px-2 py-0.5 rounded-full",children:[(.5*h.length).toFixed(1),"h Totais"]})]}),o.jsx("div",{className:"slots-grid h-[240px] overflow-y-auto pr-2 no-scrollbar",children:y.map(e=>{const a=e%2==0;return o.jsxs(l.Fragment,{children:[a&&o.jsxs("div",{className:"hour-marker",children:["Das ",Math.floor(e/2),":00 às ",Math.floor(e/2)+1,":00"]}),o.jsx("button",{className:"slot-btn "+(h.includes(e)?"selected":""),onClick:()=>{return a=e,void v(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a]);var a},children:"00"===j(e).split(":")[1]?":00":":30"})]},e)})})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8 pt-4 border-t border-white/5",children:[o.jsx("button",{onClick:a,className:"flex-1 py-4 text-gray-500 font-bold uppercase text-xs hover:text-white transition-colors",children:"Voltar"}),o.jsx("button",{onClick:()=>{const e={type:d};if("date"===d){if(!m||!g)return void alert("Por favor, selecione as datas de início e fim.");e.startDate=new Date(m).getTime(),e.endDate=new Date(g).getTime()}else if("period"===d){if(0===f.length)return void alert("Selecione ao menos um dia da semana.");if(0===h.length)return void alert("Selecione ao menos um slot de veiculação.");e.periodConfig={days:f,hours:N(h)}}i(e),a()},className:"flex-[1.5] py-4 bg-[#00c2ff] text-black font-black rounded-2xl uppercase text-sm shadow-[0_8px_20px_rgba(0,194,255,0.2)] active:scale-95 transition-all",children:"Confirmar"})]})]})]})},D=({campaign:e,onInputChange:a})=>{const[n,s]=t.useState(!1);return o.jsxs("div",{className:"form-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-clock"})," Duração"]}),o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"w-full",children:o.jsx(I,{label:"Período de Veiculação",value:"continuous"===e.scheduleType?"Contínua":"date"===e.scheduleType?"Data Definida":"period"===e.scheduleType?"Por Período":"Escolher",icon:"fa-solid fa-calendar-days",onClick:()=>s(!0)})})}),o.jsx(S,{isOpen:n,onClose:()=>s(!1),pricingModel:e.pricingModel||"budget",currentType:e.scheduleType||"continuous",onSave:e=>{a("scheduleType",e.type),e.startDate&&a("startDate",e.startDate),e.endDate&&a("endDate",e.endDate),e.periodConfig&&a("scheduleConfig",e.periodConfig)},initialConfig:{startDate:e.startDate,endDate:e.endDate,periodConfig:e.scheduleConfig}})]})},M=({campaign:e,onToggle:a,isLocked:n})=>{var t;return o.jsxs("div",{className:"form-card",children:[o.jsx("style",{children:"\n                .placement-chip.locked { \n                    opacity: 0.4; \n                    cursor: not-allowed !important; \n                    background: rgba(255,255,255,0.02) !important;\n                    border-color: rgba(255,255,255,0.05) !important;\n                    color: #555 !important;\n                }\n                .lock-indicator {\n                    position: absolute;\n                    top: 8px;\n                    right: 8px;\n                    font-size: 10px;\n                    color: #ff4d4d;\n                }\n            "}),o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-map"})," Posicionamento"]}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"placements-row",children:["feed","reels","marketplace"].map(t=>{var s;const i=n(t),r=null==(s=e.placements)?void 0:s.includes(t);return o.jsxs("div",{className:`placement-chip ${r?"selected":""} ${i?"locked":""}`,onClick:()=>!i&&a(t),children:[o.jsx("i",{className:"fa-solid "+("feed"===t?"fa-newspaper":"reels"===t?"fa-video":"fa-store")}),o.jsx("span",{children:t.charAt(0).toUpperCase()+t.slice(1)}),i&&o.jsx("div",{className:"lock-indicator",children:o.jsx("i",{className:"fa-solid fa-lock"})})]},t)})}),1===(null==(t=e.placements)?void 0:t.length)&&o.jsxs("p",{className:"text-[9px] text-gray-600 mt-4 text-center font-bold uppercase tracking-widest",children:[o.jsx("i",{className:"fa-solid fa-circle-info mr-1"})," Formatos restritos para manter a compatibilidade da mídia."]})]})]})},T=({campaign:e,interestInput:a,setInterestInput:n,onInputChange:t,onTargetingChange:s,addInterest:i,removeInterest:r,onTogglePlacement:l,isPlacementLocked:c,myGroups:d})=>o.jsxs("div",{className:"animate-fade-in space-y-5",children:[o.jsx(j,{campaign:e,onInputChange:t}),o.jsx(w,{campaign:e,interestInput:a,setInterestInput:n,onTargetingChange:s,addInterest:i,removeInterest:r}),o.jsx(C,{campaign:e,myGroups:d,onTargetingChange:s}),o.jsx(D,{campaign:e,onInputChange:t}),o.jsx(M,{campaign:e,onToggle:l,isLocked:c})]}),P=({campaign:e,destinationMode:a,setDestinationMode:t,onInputChange:s,onNestedChange:i,onPlacementCreativeChange:r,myGroups:l,selectedContent:c,ctaOptions:d,onCtaUpdate:p,isUrlAllowed:m,isGroupAllowed:x})=>{var g,u,f,b,h;const{showOptions:v}=n(),j=null==(g=e.placements)?void 0:g.includes("feed"),N=null==(u=e.placements)?void 0:u.includes("reels"),y=null==(f=e.placements)?void 0:f.includes("marketplace"),k=(a,n,t,s)=>{var i,l;const c=null==(i=e.placementCreatives)?void 0:i[a],m=(null==(l=e.placementCtas)?void 0:l[a])||e.ctaButton||"saiba mais",x=`file-input-${a}`;return o.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-2xl p-4 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${n}1a`,color:n},children:o.jsx("i",{className:`fa-solid ${t}`})}),o.jsx("h4",{className:"font-bold text-xs text-white uppercase tracking-widest",children:s})]}),(null==c?void 0:c.mediaUrl)&&o.jsx("i",{className:"fa-solid fa-circle-check text-[#00ff82] text-[10px]"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("button",{onClick:()=>{var e;return null==(e=document.getElementById(x))?void 0:e.click()},className:"py-3 bg-white/5 border border-white/10 rounded-xl text-[10px] font-black text-gray-400 hover:text-white hover:border-[#00c2ff] transition-all flex items-center justify-center gap-2",children:[o.jsx("i",{className:"fa-solid fa-image text-[#00c2ff]"}),(null==c?void 0:c.mediaUrl)?"ALTERAR":"MÍDIA"]}),o.jsx("input",{type:"file",id:x,hidden:!0,accept:"image/*,video/*",onChange:e=>((e,a)=>{var n;const t=null==(n=a.target.files)?void 0:n[0];if(t){const a=new FileReader;a.onload=a=>{var n;const s=null==(n=a.target)?void 0:n.result,i=t.type.startsWith("video/")?"video":"image";r(e,s,i)},a.readAsDataURL(t)}})(a,e)}),o.jsxs("button",{onClick:()=>(async e=>{const a=d.map(e=>({label:e.label.toUpperCase(),value:e.label,icon:`fa-solid ${e.icon}`})),n=await v(`Ação do ${e.toUpperCase()}`,a);n&&p(e,n)})(a),className:"py-3 bg-white/5 border border-white/10 rounded-xl text-[10px] font-black text-gray-400 hover:text-white hover:border-[#00c2ff] transition-all flex items-center justify-center gap-2 truncate",children:[o.jsx("i",{className:"fa-solid fa-mouse-pointer text-[#00c2ff]"}),m.toUpperCase()]})]})]})};return o.jsxs("div",{className:"form-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("i",{className:"fa-solid fa-bullseye"})," Destino e Criativos"]}),o.jsxs("div",{className:"card-body space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx(I,{label:"Para onde o tráfego será enviado?",value:"url"===a?"Link Externo":"Comunidade Flux",icon:"fa-solid fa-location-arrow",onClick:async()=>{if("commission"===e.pricingModel)return;const a=[];m&&a.push({label:"Link Externo",value:"url",icon:"fa-solid fa-link"}),x&&a.push({label:"Comunidade Flux",value:"group",icon:"fa-solid fa-users"});const n=await v("Tipo de Destino",a);n&&t(n)},disabled:"commission"===e.pricingModel}),"url"===a&&o.jsxs("div",{className:"input-group highlight-box",children:[o.jsx("label",{children:"URL de Destino"}),o.jsx("input",{type:"url",value:e.targetUrl,onChange:e=>s("targetUrl",e.target.value),placeholder:"https://exemplo.com",className:"w-full bg-[#0c0f14] border border-[#00c2ff]/30 p-4 rounded-2xl outline-none focus:border-[#00c2ff] text-sm text-[#00c2ff]"})]}),"group"===a&&o.jsx(I,{label:"Comunidade de Destino",value:(null==(b=l.find(a=>a.id===e.targetGroupId))?void 0:b.name)||"Selecione a Comunidade",icon:"fa-solid fa-circle-nodes",onClick:async()=>{if(c)return;const e=l.map(e=>({label:e.name,value:e.id,icon:e.isVip?"fa-solid fa-crown":"fa-solid fa-users"}));if(0===e.length)return void alert("Você não possui comunidades criadas.");const a=await v("Escolher Comunidade",e);a&&s("targetGroupId",a)},disabled:!!c})]}),o.jsx("div",{className:"w-full h-px bg-white/5 my-2"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-[2px] ml-1",children:"Configurar Criativos Individuais"}),o.jsxs("div",{className:"grid gap-3",children:[j&&k("feed","#00c2ff","fa-newspaper","Feed"),N&&k("reels","#ee2a7b","fa-clapperboard","Reels"),y&&k("marketplace","#00ff82","fa-store","Mercado")]})]}),o.jsxs("div",{className:"input-group mt-6",children:[o.jsx("label",{children:"Legenda Principal (Copy)"}),o.jsx("textarea",{value:null==(h=e.creative)?void 0:h.text,onChange:e=>i("creative","text",e.target.value),placeholder:"Escreva algo impactante para atrair seu público...",rows:4,className:"w-full bg-[#0c0f14] border border-white/10 p-4 rounded-2xl outline-none focus:border-[#00c2ff] text-sm resize-none"})]})]})]})},F=({campaign:e,previewTab:a,setPreviewTab:n,destinationMode:t,setDestinationMode:s,onInputChange:i,onNestedChange:r,onPlacementCreativeChange:l,myGroups:c,selectedContent:p,fileInputRef:m,onFileChange:x,onCtaUpdate:g,isUrlAllowed:u,isGroupAllowed:f,ctaOptions:b})=>o.jsxs("div",{className:"animate-fade-in space-y-5",children:[o.jsx(d,{campaign:e,previewTab:a,setPreviewTab:n,destinationMode:t}),o.jsx(P,{campaign:e,destinationMode:t,setDestinationMode:s,onInputChange:i,onNestedChange:r,onPlacementCreativeChange:l,myGroups:c,selectedContent:p,fileInputRef:m,onFileChange:x,ctaOptions:b,onCtaUpdate:g,isUrlAllowed:u,isGroupAllowed:f})]}),A=()=>{const{campaign:l,currentStep:d,myGroups:m,selectedContent:x,isLoading:f,previewTab:b,setPreviewTab:h,destinationMode:j,setDestinationMode:N,interestInput:y,setInterestInput:k,fileInputRef:w,isPlacementLocked:C,handleInputChange:I,handlePlacementToggle:S,handleInterestAdd:D,handleInterestRemove:M,handleFileChange:P,nextStep:A,prevStep:U,submitCampaign:z}=(()=>{const o=e(),l=a(),{showAlert:d}=n(),p=t.useRef(null),[m,x]=t.useState("campaign"),[g,u]=t.useState([]),[f,b]=t.useState(null),[h,v]=t.useState(!1),[j,N]=t.useState("feed"),[y,k]=t.useState("url"),[w,C]=t.useState(""),[I,S]=t.useState({name:"",scheduleType:"continuous",budget:10,trafficObjective:"visits",pricingModel:"budget",creative:{text:"",mediaType:"image"},placementCreatives:{feed:{},reels:{},marketplace:{}},campaignObjective:"traffic",destinationType:"url",optimizationGoal:"views",placements:["feed","reels","marketplace"],ctaButton:"saiba mais",placementCtas:{feed:"saiba mais",reels:"saiba mais",marketplace:"comprar"},targeting:{ageMin:18,ageMax:65,gender:"all",interests:[],locations:[],location:"",radius:50},targetUrl:"",targetGroupId:""});t.useEffect(()=>{const e=l.state;if(null==e?void 0:e.boostedContent){const a=e.boostedContent;b(a);const n="video"===a.type?"video":"image",t=a.video||a.image,s="video"===a.type?["reels"]:["feed"];N("video"===a.type?"reels":"feed"),S(e=>({...e,name:`Turbinar: ${a.text.substring(0,20)}...`,placements:s,creative:{text:a.text,mediaUrl:t,mediaType:n},placementCreatives:{feed:"video"!==a.type?{mediaUrl:t,mediaType:"image"}:{},reels:"video"===a.type?{mediaUrl:t,mediaType:"video"}:{},marketplace:{}}}))}const a=s.getCurrentUserEmail();a&&u(i.getGroupsSync().filter(e=>e.creatorEmail===a))},[l.state]);const D=t.useCallback(e=>!!f&&("marketplace"===e||("video"===f.type?"feed"===e:"reels"===e)),[f]),M=(e,a)=>{S(n=>({...n,[e]:a}))};return{campaign:I,currentStep:m,myGroups:g,selectedContent:f,isLoading:h,previewTab:j,setPreviewTab:N,destinationMode:y,setDestinationMode:k,interestInput:w,setInterestInput:C,fileInputRef:p,isPlacementLocked:D,handleInputChange:M,handlePlacementToggle:e=>{if(D(e))return;const a=I.placements||[];a.includes(e)?a.length>1&&M("placements",a.filter(a=>a!==e)):M("placements",[...a,e])},handleInterestAdd:()=>{var e;if(!w.trim())return;const a=(null==(e=I.targeting)?void 0:e.interests)||[];if(!a.includes(w.trim())){const e=[...a,w.trim()];M("targeting",{...I.targeting,interests:e})}C("")},handleInterestRemove:e=>{var a;const n=((null==(a=I.targeting)?void 0:a.interests)||[]).filter(a=>a!==e);M("targeting",{...I.targeting,interests:n})},handleFileChange:e=>{var a;const n=null==(a=e.target.files)?void 0:a[0];if(n){const e=new FileReader;e.onload=e=>{var a;const t=null==(a=e.target)?void 0:a.result,s=n.type.startsWith("video/")?"video":"image";S(e=>({...e,creative:{...e.creative,mediaUrl:t,mediaType:s}}))},e.readAsDataURL(n)}},nextStep:()=>{var e;"campaign"!==m||I.name?"adset"!==m||(null==(e=I.targeting)?void 0:e.locations)&&0!==I.targeting.locations.length?"campaign"===m?x("adset"):"adset"===m&&x("ad"):d("Aviso","Selecione uma área de alcance."):d("Aviso","Dê um nome para a campanha.")},prevStep:()=>{"campaign"===m?o("/ad-type-selector"):x("adset"===m?"campaign":"adset")},submitCampaign:async()=>{v(!0);const e=s.getCurrentUser();if(e){const a={...I,id:c(),status:"pending",ownerId:e.id,ownerEmail:e.email};await r.createCampaign(a),o("/my-store")}else v(!1),d("Erro","Você precisa estar logado.")}}})();return o.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[o.jsx("style",{children:"\n        main { \n          padding: 90px 20px 120px 20px; \n          flex-grow: 1; \n          overflow-y: auto; \n          -webkit-overflow-scrolling: touch; \n          background: radial-gradient(circle at 50% 0%, #1a1e26 0%, #0a0c10 100%);\n        }\n        .flow-content { max-width: 650px; margin: 0 auto; }\n        \n        .boost-banner { \n          background: linear-gradient(90deg, rgba(255, 215, 0, 0.15), transparent); \n          border-left: 4px solid #FFD700; \n          padding: 16px 20px; \n          border-radius: 16px; \n          margin-bottom: 24px; \n          display: flex; \n          align-items: center; \n          gap: 15px; \n          backdrop-filter: blur(10px);\n          box-shadow: 0 10px 30px rgba(0,0,0,0.2);\n        }\n\n        /* Form Cards & Common Layout */\n        .form-card {\n          background: rgba(255, 255, 255, 0.03);\n          border: 1px solid rgba(255, 255, 255, 0.05);\n          border-radius: 24px;\n          padding: 24px;\n          margin-bottom: 20px;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.2);\n          animation: slideUp 0.4s ease-out;\n        }\n        \n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          font-size: 14px;\n          font-weight: 800;\n          color: #00c2ff;\n          text-transform: uppercase;\n          letter-spacing: 1.5px;\n          margin-bottom: 24px;\n          border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n          padding-bottom: 16px;\n        }\n\n        .input-group label {\n          display: block;\n          font-size: 11px;\n          font-weight: 900;\n          color: rgba(255, 255, 255, 0.4);\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          margin-bottom: 10px;\n          padding-left: 4px;\n        }\n\n        .meta-field {\n          width: 100%;\n          background: rgba(0, 0, 0, 0.3);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          border-radius: 14px;\n          padding: 14px 18px;\n          color: #fff;\n          font-size: 15px;\n          outline: none;\n          transition: all 0.3s;\n        }\n        .meta-field:focus {\n          border-color: #00c2ff;\n          background: rgba(0, 0, 0, 0.5);\n          box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.1);\n        }\n\n        /* Type & Gender Selectors */\n        .type-selector, .gender-selector {\n          display: flex;\n          gap: 10px;\n          margin-bottom: 20px;\n        }\n        .type-btn, .gender-btn {\n          flex: 1;\n          background: rgba(255, 255, 255, 0.03);\n          border: 1px solid rgba(255, 255, 255, 0.05);\n          padding: 14px;\n          border-radius: 14px;\n          text-align: center;\n          cursor: pointer;\n          transition: all 0.3s;\n          font-size: 13px;\n          font-weight: 700;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n          color: rgba(255, 255, 255, 0.5);\n        }\n        .type-btn.active, .gender-btn.active {\n          background: rgba(0, 194, 255, 0.1);\n          border-color: #00c2ff;\n          color: #fff;\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(0, 194, 255, 0.15);\n        }\n\n        /* Placements */\n        .placements-row {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 12px;\n        }\n        .placement-chip {\n          padding: 16px 12px;\n          border-radius: 16px;\n          background: rgba(255, 255, 255, 0.03);\n          border: 2px solid transparent;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 10px;\n          cursor: pointer;\n          transition: all 0.3s;\n          position: relative;\n        }\n        .placement-chip i { font-size: 20px; color: rgba(255,255,255,0.2); }\n        .placement-chip span { font-size: 11px; font-weight: 800; text-transform: uppercase; color: rgba(255,255,255,0.4); }\n        \n        .placement-chip.selected {\n          background: rgba(0, 194, 255, 0.05);\n          border-color: #00c2ff;\n        }\n        .placement-chip.selected i { color: #00c2ff; }\n        .placement-chip.selected span { color: #fff; }\n\n        /* Interest Tags */\n        .interest-tag {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          background: rgba(255, 255, 255, 0.05);\n          border: 1px solid rgba(255, 255, 255, 0.1);\n          padding: 8px 14px;\n          border-radius: 10px;\n          font-size: 12px;\n          font-weight: 600;\n          color: #00c2ff;\n        }\n        .interest-tag i {\n          font-size: 10px;\n          cursor: pointer;\n          opacity: 0.5;\n        }\n        .interest-tag i:hover { opacity: 1; }\n\n        .highlight-box {\n          background: rgba(0, 194, 255, 0.04);\n          padding: 20px;\n          border-radius: 18px;\n          border: 1px solid rgba(0, 194, 255, 0.1);\n        }\n\n        @keyframes slideUp {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n      "}),o.jsx(g,{currentStep:d,onBack:U}),o.jsx("main",{className:"no-scrollbar",children:o.jsxs("div",{className:"flow-content animate-fade-in",children:[x&&o.jsxs("div",{className:"boost-banner",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#FFD700]/10 flex items-center justify-center border border-[#FFD700]/20",children:o.jsx("i",{className:"fa-solid fa-lock text-[#FFD700] text-xl"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-[#FFD700]",children:"Modo de Impulsionamento"}),o.jsx("span",{className:"text-xs font-bold text-white/80",children:"Formato Vinculado ao Post Original"})]})]}),"campaign"===d&&o.jsx(v,{campaign:l,onInputChange:I}),"adset"===d&&o.jsx(T,{campaign:l,interestInput:y,setInterestInput:k,onInputChange:I,onTargetingChange:(e,a)=>I("targeting",{...l.targeting,[e]:a}),addInterest:D,removeInterest:M,onTogglePlacement:S,isPlacementLocked:C,myGroups:m}),"ad"===d&&o.jsx(F,{campaign:l,previewTab:b,setPreviewTab:h,destinationMode:j,setDestinationMode:N,onInputChange:I,onNestedChange:(e,a,n)=>I(e,{...l[e],[a]:n}),onPlacementCreativeChange:(e,a,n)=>I("placementCreatives",{...l.placementCreatives,[e]:{mediaUrl:a,mediaType:n}}),myGroups:m,selectedContent:x,fileInputRef:w,onFileChange:P,onCtaUpdate:(e,a)=>I("placementCtas",{...l.placementCtas,[e]:a}),isUrlAllowed:!0,isGroupAllowed:!0,ctaOptions:p})]})}),o.jsx(u,{currentStep:d,isLoading:f,onPrev:U,onNext:A,onSubmit:z})]})};export{A as AdPlacementSelector};
