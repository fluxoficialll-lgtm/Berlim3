import{u as e,f as a,r as n,c as r,g as t,i as s,j as o}from"./index-CipjSFYz.js";import{P as i}from"./PurchaseIntention-BPUq0Pu8.js";const c=e=>{if(!e)return"/groups";if(e.isSalesPlatformEnabled)return`/group-platform/${e.id}`;return e.channels&&e.channels.length>0?`/group/${e.id}/channels`:`/group-chat/${e.id}`},l=()=>{const l=e(),{id:d}=a(),[f,p]=n.useState("validating"),[u,x]=n.useState("Validando transação..."),[h,m]=n.useState(null),g=n.useCallback(async()=>{if(!d)return;const e=r.getCurrentUserId();if(!e)return i.set(d),void l("/register");try{const a=await t.fetchGroupById(d);if(!a)throw new Error("Grupo não encontrado");m(a);if(s.vipAccess.check(e,d))p("ready"),x("Acesso Liberado!"),i.clear();else{const e=["Sincronizando banco de dados...","Preparando sua licença VIP...","Configurando canais de conteúdo...","Quase pronto..."];x(e[Math.floor(Math.random()*e.length)])}}catch(a){p("error"),x("Falha ao validar acesso.")}},[d,l]);n.useEffect(()=>{const e=setInterval(g,2500);return g(),()=>clearInterval(e)},[g]);return o.jsxs("div",{className:"min-h-screen bg-[#0c0f14] text-white font-['Inter'] flex flex-col items-center justify-center p-8 text-center overflow-hidden",children:[o.jsx("style",{children:"\n                .success-pulse {\n                    width: 100px; height: 100px;\n                    background: rgba(0, 194, 255, 0.1);\n                    border: 2px solid #00c2ff;\n                    border-radius: 30px;\n                    display: flex; align-items: center; justify-content: center;\n                    color: #00c2ff; font-size: 32px; margin-bottom: 32px;\n                    box-shadow: 0 0 30px rgba(0, 194, 255, 0.2);\n                    animation: pulse-glow 2s infinite;\n                }\n                .status-ready { border-color: #00ff82; color: #00ff82; box-shadow: 0 0 30px rgba(0, 255, 130, 0.2); }\n                @keyframes pulse-glow {\n                    0% { transform: scale(1); opacity: 1; }\n                    50% { transform: scale(1.05); opacity: 0.7; }\n                    100% { transform: scale(1); opacity: 1; }\n                }\n                .loader-bar {\n                    width: 200px; height: 4px; background: rgba(255,255,255,0.05);\n                    border-radius: 10px; overflow: hidden; margin: 20px 0;\n                }\n                .loader-fill {\n                    height: 100%; background: #00c2ff; width: 30%;\n                    animation: loading-flow 2s infinite ease-in-out;\n                }\n                @keyframes loading-flow {\n                    0% { transform: translateX(-100%); width: 30%; }\n                    50% { width: 60%; }\n                    100% { transform: translateX(200%); width: 30%; }\n                }\n                .btn-access {\n                    width: 100%; max-width: 300px; padding: 18px;\n                    background: #00ff82; color: #000;\n                    border-radius: 16px; font-weight: 900; font-size: 16px;\n                    text-transform: uppercase; letter-spacing: 1px;\n                    border: none; cursor: pointer; transition: 0.3s;\n                    box-shadow: 0 10px 25px rgba(0, 255, 130, 0.3);\n                    animation: slideUp 0.5s ease;\n                }\n                .btn-access:active { transform: scale(0.98); }\n                @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }\n            "}),o.jsx("div",{className:"success-pulse "+("ready"===f?"status-ready":""),children:o.jsx("i",{className:"fa-solid "+("ready"===f?"fa-check-double":"fa-shield-halved")})}),o.jsx("h1",{className:"text-2xl font-black mb-2 uppercase tracking-tight",children:"ready"===f?"Pagamento Confirmado":"Preparando seu Acesso"}),o.jsx("p",{className:"text-gray-500 text-sm font-medium mb-6",children:u}),"validating"===f&&o.jsx("div",{className:"loader-bar",children:o.jsx("div",{className:"loader-fill"})}),"ready"===f&&o.jsxs("button",{className:"btn-access",onClick:()=>{if(h){const e=c(h);l(e,{replace:!0})}},children:["Acessar Agora ",o.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]}),"error"===f&&o.jsx("button",{onClick:()=>window.location.reload(),className:"text-[#00c2ff] text-xs font-bold uppercase underline",children:"Tentar Novamente"}),o.jsx("div",{className:"absolute bottom-10 opacity-20 text-[9px] font-black uppercase tracking-[5px]",children:"Flux Synchronization Gateway"})]})};export{l as SuccessBridge};
