import{j as e,u as s,f as a,e as t,r as l,g as n}from"./index-CipjSFYz.js";const c=({schedules:s,channels:a,onAddClick:t,onDelete:l})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("h2",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Postagens em Fila"}),e.jsx("button",{onClick:t,className:"bg-[#00c2ff] text-black px-4 py-2 rounded-xl font-black text-[10px] uppercase",children:"Programar"})]}),e.jsxs("div",{className:"space-y-4",children:[s.map(s=>{var t;return e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/10 flex items-center justify-center text-orange-400",children:e.jsx("i",{className:"fa-regular fa-clock"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-widest",children:["#","general"===s.channelId?"Geral":null==(t=a.find(e=>e.id===s.channelId))?void 0:t.name]}),e.jsx("div",{className:"text-xs font-bold",children:new Date(s.scheduledTime).toLocaleString()})]})]}),e.jsx("button",{onClick:()=>l(s.id),className:"text-red-400 p-2",children:e.jsx("i",{className:"fa-solid fa-trash-can text-sm"})})]}),e.jsxs("p",{className:"text-sm text-gray-300 italic",children:['"',s.text,'"']})]},s.id)}),0===s.length&&e.jsxs("div",{className:"text-center py-20 opacity-30",children:[e.jsx("i",{className:"fa-solid fa-calendar-plus text-5xl mb-4"}),e.jsx("p",{className:"text-sm font-bold",children:"Fila de agendamento vazia."})]})]})]}),i=()=>{const i=s(),{id:r}=a(),{showConfirm:d}=t(),[o,x]=l.useState([]),[m,h]=l.useState([]),[u,p]=l.useState(!1),[f,g]=l.useState(""),[j,b]=l.useState(""),[N,v]=l.useState(""),[w,k]=l.useState("general");l.useEffect(()=>{if(r){const e=n.getGroupById(r);e&&(x(e.scheduledMessages||[]),h(e.channels||[]))}},[r]);return e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[e.jsx("button",{onClick:()=>i(`/group-settings/${r}`),className:"mr-4 text-white text-xl",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"font-bold",children:"Agendamentos"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-10 no-scrollbar",children:e.jsx(c,{schedules:o,channels:m,onAddClick:()=>p(!0),onDelete:async e=>{if(await d("Cancelar Agendamento?")){const s=o.filter(s=>s.id!==e);x(s),n.updateGroup({id:r,scheduledMessages:s})}}})}),u&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center p-6 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-[#1a1e26] p-8 rounded-3xl w-full max-w-sm border border-white/10 shadow-2xl animate-pop-in",children:[e.jsx("h3",{className:"text-lg font-black mb-6 uppercase tracking-wider text-center",children:"Programar Post"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"ConteÃºdo da Mensagem"}),e.jsx("textarea",{className:"input-field",value:f,onChange:e=>g(e.target.value),placeholder:"O que deseja postar?",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Data"}),e.jsx("input",{type:"date",className:"input-field",value:j,onChange:e=>b(e.target.value),style:{colorScheme:"dark"}})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Hora"}),e.jsx("input",{type:"time",className:"input-field",value:N,onChange:e=>v(e.target.value),style:{colorScheme:"dark"}})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{children:"Destino"}),e.jsxs("select",{className:"input-field uppercase text-[10px] font-black",value:w,onChange:e=>k(e.target.value),children:[e.jsx("option",{value:"general",children:"# GERAL"}),m.map(s=>e.jsxs("option",{value:s.id,children:["# ",s.name.toUpperCase()]},s.id))]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsx("button",{className:"flex-1 py-4 bg-white/5 text-gray-400 font-bold rounded-2xl uppercase text-xs",onClick:()=>p(!1),children:"Cancelar"}),e.jsx("button",{className:"flex-1 py-4 bg-[#00c2ff] text-black font-black rounded-2xl uppercase text-xs shadow-lg shadow-[#00c2ff]/20",onClick:()=>{if(!f||!j||!N)return;const e=new Date(`${j}T${N}`).getTime(),s=[{id:Date.now().toString(),channelId:w,text:f,scheduledTime:e,isSent:!1},...o];x(s),n.updateGroup({id:r,scheduledMessages:s}),p(!1),g("")},children:"Programar"})]})]})})]})};export{i as GroupSchedule};
