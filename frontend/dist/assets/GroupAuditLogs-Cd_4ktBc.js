import{r as o,g as m,j as e,u,f as p}from"./index-BC19Iu_T.js";const f=t=>{const[s,a]=o.useState([]),[r,l]=o.useState(!0),c=()=>{if(t){l(!0);try{const i=m.getGroupById(t);if(i){const n=i.auditLogs||[{id:"1",adminId:"1",adminName:"Sistema Flux",action:"Criação do Grupo",target:"Estrutura inicial do grupo configurada",timestamp:Date.now()-72e5}];a(n.sort((d,x)=>x.timestamp-d.timestamp))}}catch(i){console.error("Erro ao carregar logs:",i)}finally{l(!1)}}};return o.useEffect(()=>{c()},[t]),{logs:s,loading:r,refresh:c}},h=({log:t})=>{const s=a=>new Date(a).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"relative pl-6 border-l border-white/10 py-1",children:[e.jsx("div",{className:"absolute left-[-5px] top-2 w-2.5 h-2.5 rounded-full bg-[#00c2ff] shadow-[0_0_10px_#00c2ff]"}),e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:"text-[11px] font-bold text-[#00c2ff] uppercase tracking-tighter",children:t.action}),e.jsx("span",{className:"text-[10px] text-gray-600",children:s(t.timestamp)})]}),e.jsx("p",{className:"text-sm text-white/90 font-medium mb-1",children:t.target}),e.jsxs("div",{className:"text-[10px] text-gray-500",children:["Por: ",e.jsx("strong",{className:"text-white/60",children:t.adminName})]})]})},g=()=>e.jsx("div",{className:"text-center py-10 text-gray-600 italic text-xs",children:"Nenhum log de auditoria disponível para este período."}),j=({logs:t})=>e.jsx("div",{className:"space-y-4",children:t.length>0?t.map(s=>e.jsx(h,{log:s},s.id)):e.jsx(g,{})}),N=()=>{const t=u(),{id:s}=p(),{logs:a,loading:r}=f(s);return e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[e.jsx("button",{onClick:()=>t(`/group-settings/${s}`),className:"mr-4 text-white text-xl p-2 hover:bg-white/5 rounded-full transition-all",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"font-bold",children:"Logs de Auditoria"})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-10 no-scrollbar",children:[r?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-2xl text-[#00c2ff]"})}):e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 shadow-2xl animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-400",children:e.jsx("i",{className:"fa-solid fa-list-check"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold",children:"Transparência Administrativa"}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Histórico de ações recentes"})]})]}),e.jsx(j,{logs:a})]}),e.jsx("div",{className:"mt-8 bg-blue-500/10 border border-blue-500/20 p-5 rounded-2xl",children:e.jsx("p",{className:"text-[11px] text-blue-300 leading-relaxed italic text-center",children:'"Logs de auditoria são imutáveis e essenciais para a segurança de grupos com múltiplos moderadores."'})})]})]})};export{N as GroupAuditLogs};
