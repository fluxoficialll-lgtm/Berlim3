import{f as e,r as n,y as o,i,j as r,u as a,c as t}from"./index-CipjSFYz.js";const s=({activeTab:e,onTabChange:n})=>r.jsxs("div",{className:"tabs-container",children:[r.jsx("button",{className:"tab-btn "+("public"===e?"active":""),onClick:()=>n("public"),children:"PÃºblicos"}),r.jsx("button",{className:"tab-btn "+("private"===e?"active":""),onClick:()=>n("private"),children:"Privados"}),r.jsx("button",{className:"tab-btn "+("vip"===e?"active":""),onClick:()=>n("vip"),children:"VIP"})]}),c=({group:e,position:n,onClick:o})=>{var i;return r.jsxs("div",{className:"podium-item "+(1===n?"first-place":2===n?"second-place":"third-place"),onClick:()=>o(e),children:[r.jsxs("div",{className:"podium-cover-wrapper",children:[r.jsx("i",{className:"fa-solid fa-crown crown-icon"}),r.jsx("div",{className:"podium-cover",children:e.coverImage?r.jsx("img",{src:e.coverImage,alt:e.name}):r.jsx("i",{className:"fa-solid "+(e.isVip?"fa-crown":"fa-users")})}),r.jsx("div",{className:"rank-badge",children:n})]}),r.jsx("div",{className:"podium-name",children:e.name}),r.jsxs("div",{className:"podium-count",children:[e.memberCount||(null==(i=e.memberIds)?void 0:i.length)||0," membros"]})]})},l=({groups:e,onGroupClick:n})=>0===e.length?null:r.jsxs("div",{className:"top-three-container",children:[e[1]&&r.jsx(c,{group:e[1],position:2,onClick:n}),e[0]&&r.jsx(c,{group:e[0],position:1,onClick:n}),e[2]&&r.jsx(c,{group:e[2],position:3,onClick:n})]}),d=({group:e,rank:n,onClick:o,isMember:i})=>{var a;return r.jsxs("div",{className:"rank-item",onClick:()=>o(e),children:[r.jsxs("div",{className:"rank-number",children:["#",n]}),r.jsx("div",{className:"list-cover",children:e.coverImage?r.jsx("img",{src:e.coverImage,alt:"cover"}):r.jsx("i",{className:"fa-solid "+(e.isVip?"fa-crown":"fa-users")})}),r.jsxs("div",{className:"list-info",children:[r.jsx("span",{className:"list-name",children:e.name}),r.jsxs("span",{className:"list-desc",children:[e.memberCount||(null==(a=e.memberIds)?void 0:a.length)||0," membros"]})]}),r.jsx("div",{onClick:e=>e.stopPropagation(),children:i?r.jsx("button",{className:"action-btn open-btn",onClick:()=>o(e),children:"Acessar"}):r.jsx("button",{className:"action-btn join-btn",onClick:()=>o(e),children:"Explorar"})})]})},p=()=>{const c=a(),p=t.getCurrentUserId(),{groups:x,loading:m,activeTab:g}=(()=>{const{category:r}=e(),a="private"===r||"vip"===r||"public"===r?r:"public",[t,s]=n.useState([]),[c,l]=n.useState(!0),d=n.useCallback((e=!1)=>{e||l(!0);const n=o.getRankedList(a);s(n),l(!1)},[a]);return n.useEffect(()=>{d();const e=i.subscribe("groups",()=>{d(!0)});return()=>e()},[d]),{groups:t,loading:c,activeTab:a}})(),b=e=>{var n;if(!p)return void alert("VocÃª precisa estar logado para acessar os grupos.");(null==(n=e.memberIds)?void 0:n.includes(p))?c(`/group-chat/${e.id}`):e.isVip?c(`/vip-group-sales/${e.id}`):c(`/group-landing/${e.id}`)};return r.jsxs("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#0c0f14,_#0a0c10)] text-white font-['Inter'] flex flex-col overflow-x-hidden",children:[r.jsx("style",{children:"\n        * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }\n        header { display:flex; align-items:center; padding:16px; background: #0c0f14; position:fixed; width:100%; z-index:10; border-bottom:1px solid rgba(255,255,255,0.1); top: 0; height: 65px; }\n        header button { background:none; border:none; color:#fff; font-size:22px; cursor:pointer; transition:0.3s; padding-right: 15px; }\n        header h1 { font-size:20px; font-weight:700; color: #FFD700; text-transform: uppercase; letter-spacing: 1px; }\n        main { padding-top: 80px; padding-bottom: 40px; width: 100%; max-width: 600px; margin: 0 auto; padding-left: 20px; padding-right: 20px; }\n        .tabs-container { display: flex; background: rgba(255,255,255,0.05); border-radius: 12px; padding: 4px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1); }\n        .tab-btn { flex: 1; padding: 10px; border: none; background: transparent; color: #aaa; font-size: 13px; font-weight: 600; cursor: pointer; border-radius: 8px; transition: 0.3s; }\n        .tab-btn.active { background: #00c2ff; color: #000; box-shadow: 0 2px 10px rgba(0,194,255,0.3); }\n        .top-three-container { display: flex; justify-content: center; align-items: flex-end; margin-bottom: 40px; gap: 10px; }\n        .podium-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; transition: transform 0.3s; position: relative; width: 33%; }\n        .podium-item:hover { transform: translateY(-5px); }\n        .podium-cover-wrapper { position: relative; margin-bottom: 10px; }\n        .podium-cover { border-radius: 16px; object-fit: cover; background: #333; display: flex; align-items: center; justify-content: center; color: #555; overflow: hidden; }\n        .podium-cover i { font-size: 24px; }\n        .podium-cover img { width: 100%; height: 100%; object-fit: cover; }\n        .crown-icon { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); font-size: 24px; filter: drop-shadow(0 0 5px rgba(0,0,0,0.8)); }\n        .rank-badge { position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 24px; height: 24px; border-radius: 50%; color: #000; font-weight: 800; font-size: 14px; display: flex; align-items: center; justify-content: center; border: 2px solid #0c0f14; }\n        .podium-name { text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; margin-top: 5px; padding: 0 5px; }\n        .first-place .podium-cover { width: 100px; height: 100px; border: 4px solid #FFD700; box-shadow: 0 0 25px rgba(255, 215, 0, 0.4); }\n        .first-place .crown-icon { color: #FFD700; font-size: 32px; }\n        .first-place .rank-badge { background: #FFD700; }\n        .first-place .podium-name { color: #FFD700; font-size: 16px; font-weight: 700; }\n        .second-place .podium-cover { width: 80px; height: 80px; border: 3px solid #C0C0C0; box-shadow: 0 0 15px rgba(192, 192, 192, 0.3); }\n        .second-place .crown-icon { color: #C0C0C0; }\n        .second-place .rank-badge { background: #C0C0C0; }\n        .second-place .podium-name { color: #C0C0C0; font-size: 14px; font-weight: 600; }\n        .third-place .podium-cover { width: 80px; height: 80px; border: 3px solid #CD7F32; box-shadow: 0 0 15px rgba(205, 127, 50, 0.3); }\n        .third-place .crown-icon { color: #CD7F32; }\n        .third-place .rank-badge { background: #CD7F32; }\n        .third-place .podium-name { color: #CD7F32; font-size: 14px; font-weight: 600; }\n        .podium-count { font-size: 12px; color: #aaa; margin-top: 2px; }\n        .rank-list { display: flex; flex-direction: column; gap: 10px; }\n        .rank-item { display: flex; align-items: center; padding: 15px; background: rgba(255,255,255,0.03); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); transition: background 0.2s; cursor: pointer; }\n        .rank-item:hover { background: rgba(255,255,255,0.06); }\n        .rank-number { font-size: 16px; font-weight: 700; color: #555; width: 30px; text-align: center; margin-right: 10px; }\n        .list-cover { width: 45px; height: 45px; border-radius: 10px; object-fit: cover; margin-right: 15px; border: 1px solid #333; display: flex; align-items: center; justify-content: center; background: #222; color: #555; flex-shrink: 0; overflow: hidden; }\n        .list-info { flex-grow: 1; display: flex; flex-direction: column; min-width: 0; }\n        .list-name { font-weight: 600; font-size: 15px; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }\n        .list-desc { font-size: 12px; color: #888; }\n        .action-btn { border: none; border-radius: 20px; padding: 6px 16px; font-size: 12px; font-weight: 700; cursor: pointer; transition: 0.2s; white-space: nowrap; margin-left: 10px; }\n        .open-btn { background: rgba(0,194,255,0.1); color: #00c2ff; border: 1px solid #00c2ff; }\n        .open-btn:hover { background: #00c2ff; color: #000; }\n        .join-btn { background: #00c2ff; color: #000; box-shadow: 0 4px 10px rgba(0, 194, 255, 0.2); }\n        .join-btn:hover { background: #0099cc; transform: translateY(-1px); }\n        .empty-state { text-align: center; color: #777; margin-top: 50px; }\n      "}),r.jsxs("header",{children:[r.jsx("button",{onClick:()=>{c("/groups")},"aria-label":"Voltar",children:r.jsx("i",{className:"fa-solid fa-arrow-left"})}),r.jsx("h1",{children:"Top Grupos"})]}),r.jsxs("main",{children:[r.jsx(s,{activeTab:g,onTabChange:e=>{e!==g&&c(`/top-groups/${e}`,{replace:!0})}}),m?r.jsxs("div",{className:"text-center text-gray-500 mt-10",children:[r.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-2xl mb-2 text-[#FFD700]"}),r.jsxs("p",{children:["Sincronizando ranking ",g,"..."]})]}):r.jsxs(r.Fragment,{children:[r.jsx(l,{groups:x,onGroupClick:b}),r.jsx("div",{className:"rank-list",children:x.length>0?x.map((e,n)=>{var o;return n<3?null:r.jsx(d,{group:e,rank:n+1,onClick:b,isMember:!!(null==(o=e.memberIds)?void 0:o.includes(p||""))},e.id)}):!m&&r.jsxs("div",{className:"empty-state",children:[r.jsx("i",{className:"fa-solid fa-ghost text-4xl mb-2 opacity-30"}),r.jsx("p",{children:"Nenhum grupo nesta categoria ainda."})]})})]})]})]})};export{p as TopGroups};
