import{j as e,r as t,u as a,f as s}from"./index-Bkpya5GW.js";import{u as i}from"./useGroupSettings-Dn9VoWgb.js";import{P as r}from"./PixelSettingsModal-CRRhV-Zm.js";import{P as l}from"./ProviderSelectorModal--Zu3GEGf.js";import{p as n}from"./postService-B_maMF9u.js";import{U as o}from"./UploadProgressCard-BBVv78iL.js";const d=({config:t,onOpen:a})=>{const s=[{id:"meta",name:"Meta (Facebook)",icon:"fa-brands fa-facebook",active:!!t.metaId,color:"#1877F2"},{id:"tiktok",name:"TikTok Ads",icon:"fa-brands fa-tiktok",active:!!t.tiktokId,color:"#00f2ea"},{id:"google",name:"Google Ads",icon:"fa-brands fa-google",active:!!t.googleId,color:"#4285F4"},{id:"x",name:"X / Twitter",icon:"fa-brands fa-x-twitter",active:!!t.xId,color:"#fff"}].filter(e=>e.active);return e.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-[32px] p-6 mb-6 overflow-hidden animate-fade-in",children:[e.jsx("style",{children:"\n                .add-pixel-trigger {\n                    width: 100%;\n                    padding: 18px;\n                    background: rgba(0, 194, 255, 0.05);\n                    border: 1px dashed rgba(0, 194, 255, 0.3);\n                    border-radius: 20px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: space-between;\n                    cursor: pointer;\n                    transition: 0.3s;\n                    margin-bottom: 20px;\n                }\n                .add-pixel-trigger:hover {\n                    background: rgba(0, 194, 255, 0.1);\n                    border-color: #00c2ff;\n                }\n                .active-pixel-item {\n                    display: flex;\n                    align-items: center;\n                    gap: 15px;\n                    padding: 14px 18px;\n                    background: rgba(255, 255, 255, 0.03);\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                    border-radius: 16px;\n                    margin-bottom: 8px;\n                    cursor: pointer;\n                    transition: 0.2s;\n                }\n                .active-pixel-item:hover {\n                    background: rgba(255, 255, 255, 0.06);\n                    border-color: rgba(255, 215, 0, 0.2);\n                }\n                .pixel-status-tag {\n                    font-size: 8px;\n                    font-weight: 900;\n                    color: #00ff82;\n                    text-transform: uppercase;\n                    letter-spacing: 1px;\n                    background: rgba(0, 255, 130, 0.1);\n                    padding: 2px 6px;\n                    border-radius: 4px;\n                    margin-left: auto;\n                }\n            "}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-[#FFD7001a] flex items-center justify-center text-[#FFD700] text-xl border border-[#FFD70033]",children:e.jsx("i",{className:"fa-solid fa-rocket"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-sm",children:"Hub de Marketing"}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Multi-Pixel Tracking"})]})]}),e.jsxs("div",{className:"add-pixel-trigger",onClick:()=>a(),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#00c2ff1a] flex items-center justify-center text-[#00c2ff]",children:e.jsx("i",{className:"fa-solid fa-plus"})}),e.jsx("span",{className:"text-xs font-black text-white uppercase tracking-wider",children:"Adicionar Pixel"})]}),e.jsx("i",{className:"fa-solid fa-chevron-right text-gray-700 text-[10px]"})]}),s.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h5",{className:"text-[9px] font-black text-gray-600 uppercase tracking-[2px] ml-1 mb-3",children:["Pixels Ativos (",s.length,")"]}),s.map(t=>e.jsxs("div",{className:"active-pixel-item animate-slide-up",onClick:()=>a(t.id),children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center bg-black/40",style:{color:t.color},children:e.jsx("i",{className:t.icon})}),e.jsx("span",{className:"text-xs font-bold text-gray-300",children:t.name}),e.jsx("div",{className:"pixel-status-tag",children:"Ativo"})]},t.id))]}):e.jsx("p",{className:"text-[10px] text-gray-600 text-center italic mt-2",children:"Nenhum pixel configurado ainda."}),e.jsx("p",{className:"text-[8px] text-gray-700 text-center mt-6 uppercase font-black tracking-widest leading-relaxed",children:"O Flux enviará eventos de conversão (Lead, InitiateCheckout e Purchase) para todas as plataformas ativas simultaneamente."})]})},c=({vipPrice:a,setVipPrice:s,vipCurrency:i,setVipCurrency:r,selectedProviderId:l,onOpenProviderSelector:n,pixelConfig:o,onOpenDoorEditor:c,onOpenPixelEditor:x,onManualRelease:p})=>{const[f,m]=t.useState("");return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 rounded-[24px] p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#00ff821a] flex items-center justify-center text-[#00ff82]",children:e.jsx("i",{className:"fa-solid fa-tag text-xs"})}),e.jsx("h4",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[2px]",children:"Estratégia de Preço"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Valor do Acesso"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30 font-black text-xs",children:"BRL"===i?"R$":"$"}),e.jsx("input",{type:"text",className:"input-field pl-12 font-black text-[#00ff82] border-white/5",value:a,onChange:e=>{const t=e.target.value.replace(/\D/g,""),a=parseFloat(t)/100;s(a.toLocaleString("pt-BR",{minimumFractionDigits:2}))}})]})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Moeda de Recebimento"}),e.jsxs("select",{className:"input-field font-black uppercase text-xs border-white/5",value:i,onChange:e=>r(e.target.value),children:[e.jsx("option",{value:"BRL",children:"BRL"}),e.jsx("option",{value:"USD",children:"USD"})]})]})]})]}),e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 rounded-[24px] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#00c2ff1a] flex items-center justify-center text-[#00c2ff]",children:e.jsx("i",{className:"fa-solid fa-wallet text-xs"})}),e.jsx("h4",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[2px]",children:"Motor de Pagamento"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 bg-[#00ff821a] px-2 py-0.5 rounded-md border border-[#00ff8222]",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-[#00ff82] animate-pulse"}),e.jsx("span",{className:"text-[8px] font-black text-[#00ff82] uppercase",children:"Ativo"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/40 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[11px] font-bold text-white",children:(()=>{if(!l)return"Nenhum";return{syncpay:"SyncPay (Pix)",stripe:"Stripe (Global)",paypal:"PayPal"}[l]||l.toUpperCase()})()}),e.jsx("span",{className:"text-[9px] text-gray-600 uppercase font-medium",children:"Checkout Verificado"})]}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black text-[#00c2ff] uppercase tracking-widest hover:bg-[#00c2ff1a] transition-all",children:"Trocar Provedor"})]})]}),e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 rounded-[24px] p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#FFD7001a] flex items-center justify-center text-[#FFD700]",children:e.jsx("i",{className:"fa-solid fa-wand-magic-sparkles text-xs"})}),e.jsx("h4",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[2px]",children:"Interface da Porta VIP"})]}),e.jsxs("button",{className:"w-full py-4 bg-white/5 border border-dashed border-[#FFD700]/30 text-[#FFD700] rounded-2xl font-black uppercase text-[10px] tracking-[2px] transition-all hover:bg-[#FFD700]/10 flex items-center justify-center gap-3",onClick:c,children:[e.jsx("i",{className:"fa-solid fa-palette"})," Editar Design do Funil"]})]}),e.jsx(d,{config:o,onOpen:x}),e.jsxs("div",{className:"bg-black/20 rounded-[28px] border border-white/5 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-gray-500",children:e.jsx("i",{className:"fa-solid fa-user-plus text-xs"})}),e.jsx("h4",{className:"text-[10px] font-black text-white/30 uppercase tracking-[2px]",children:"Concessão Administrativa"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",className:"input-field flex-1 border-white/5",placeholder:"@usuario...",value:f,onChange:e=>m(e.target.value)}),e.jsx("button",{onClick:async()=>{await p(f)&&m("")},className:"bg-white text-black px-6 rounded-xl font-black uppercase text-[10px] hover:bg-[#FFD700] transition-all active:scale-95",children:"Liberar"})]}),e.jsx("p",{className:"text-[9px] text-gray-700 mt-3 px-1 italic",children:"Utilize para liberar acessos de cortesia ou parcerias manuais."})]})]})},x=()=>{const d=a(),{id:x}=s(),{group:p,loading:f,handleSave:m,handleManualRelease:u,form:h}=i(),[b,g]=t.useState(!1),[v,j]=t.useState(!1),[N,y]=t.useState(!1),[k,w]=t.useState(void 0),[P,C]=t.useState(!1),[F,I]=t.useState(0),[M,S]=t.useState(0),[D,V]=t.useState(0);if(f||!p)return null;return e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[e.jsx("style",{children:"\n                .vip-editor-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 100; display: flex; flex-direction: column; }\n                .input-field { background: #15191f; border: 1px solid rgba(255,255,255,0.05); border-radius: 12px; padding: 12px; color: #fff; width: 100%; outline: none; }\n                \n                .media-item-container { position: relative; width: 96px; height: 120px; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); background: #000; }\n                .media-controls-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.6); display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding: 8px; opacity: 0; transition: 0.2s; }\n                .media-item-container:hover .media-controls-overlay { opacity: 1; }\n                \n                .reorder-btn { width: 28px; height: 28px; border-radius: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; display: flex; items-center; justify-content: center; cursor: pointer; font-size: 10px; transition: 0.2s; }\n                .reorder-btn:hover { background: #00c2ff; color: #000; border-color: #00c2ff; }\n                .reorder-btn:disabled { opacity: 0.2; cursor: not-allowed; }\n                \n                .delete-media-btn { width: 28px; height: 28px; border-radius: 8px; background: rgba(255, 77, 77, 0.2); border: 1px solid rgba(255, 77, 77, 0.4); color: #ff4d4d; display: flex; items-center; justify-content: center; cursor: pointer; font-size: 10px; }\n                .delete-media-btn:hover { background: #ff4d4d; color: #fff; }\n            "}),e.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[e.jsx("button",{onClick:()=>d(`/group-settings/${x}`),className:"mr-4 text-white text-xl",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"font-bold text-[#FFD700]",children:"Funil de Vendas VIP"})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-32 no-scrollbar",children:[e.jsx("div",{className:"animate-fade-in",children:e.jsx(c,{vipPrice:h.vipPrice,setVipPrice:h.setVipPrice,vipCurrency:h.vipCurrency,setVipCurrency:h.setVipCurrency,selectedProviderId:h.selectedProviderId,onOpenProviderSelector:()=>y(!0),pixelConfig:h.pixelConfig,onOpenDoorEditor:()=>g(!0),onOpenPixelEditor:e=>{w(e),j(!0)},onManualRelease:u})}),e.jsx("button",{className:"btn-save-fixed",style:{background:"#FFD700",color:"#000"},onClick:m,disabled:P,children:P?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"Salvar Estrutura de Vendas"}),e.jsx(o,{progress:F,current:M,total:D,isVisible:P})]}),b&&e.jsxs("div",{className:"vip-editor-modal animate-fade-in",children:[e.jsxs("header",{className:"flex items-center p-4 border-b border-white/10",children:[e.jsx("button",{onClick:()=>g(!1),className:"mr-4 text-white text-xl",children:e.jsx("i",{className:"fa-solid fa-xmark"})}),e.jsx("h1",{className:"font-bold",children:"Design da Porta VIP"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 no-scrollbar",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Copy de Venda"}),e.jsx("textarea",{className:"input-field min-h-[150px]",value:h.vipDoorText,onChange:e=>h.setVipDoorText(e.target.value),placeholder:"Benefícios do acesso..."}),e.jsx("input",{type:"text",className:"input-field",value:h.vipButtonText,onChange:e=>h.setVipButtonText(e.target.value),placeholder:"Texto do botão..."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:["Galeria de Mídia (",h.vipMediaItems.length,"/10)"]}),h.vipMediaItems.length>1&&e.jsx("span",{className:"text-[9px] text-[#00c2ff] font-black uppercase",children:"Passe o mouse para reordenar"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.vipMediaItems.map((t,a)=>e.jsxs("div",{className:"media-item-container",children:["image"===t.type?e.jsx("img",{src:t.url,className:"w-full h-full object-cover",alt:"VIP"}):e.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-video text-xs text-[#FFD700]"})}),e.jsxs("div",{className:"media-controls-overlay",children:[e.jsxs("div",{className:"flex gap-1 w-full justify-center",children:[e.jsx("button",{type:"button",onClick:()=>h.moveVipMediaItem(a,"left"),disabled:0===a,className:"reorder-btn",title:"Mover para trás",children:e.jsx("i",{className:"fa-solid fa-chevron-left"})}),e.jsx("button",{type:"button",onClick:()=>h.moveVipMediaItem(a,"right"),disabled:a===h.vipMediaItems.length-1,className:"reorder-btn",title:"Mover para frente",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsx("button",{type:"button",onClick:()=>h.setVipMediaItems(h.vipMediaItems.filter((e,t)=>t!==a)),className:"delete-media-btn",title:"Remover",children:e.jsx("i",{className:"fa-solid fa-trash-can"})})]}),e.jsxs("div",{className:"absolute top-1 left-1 bg-black/60 text-[8px] font-black text-white px-1.5 py-0.5 rounded-md border border-white/10",children:["#",a+1]})]},a)),h.vipMediaItems.length<10&&e.jsx("button",{onClick:()=>{var e;return null==(e=document.getElementById("mediaSubVip"))?void 0:e.click()},className:"w-[96px] h-[120px] rounded-2xl border-2 border-dashed border-white/10 flex flex-col items-center justify-center text-white/20 hover:text-[#00c2ff] hover:border-[#00c2ff]/30 transition-all",disabled:P,children:P?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-xl"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-plus text-xl mb-1"}),e.jsx("span",{className:"text-[8px] font-black uppercase",children:"Adicionar"})]})})]}),e.jsx("input",{type:"file",id:"mediaSubVip",hidden:!0,accept:"image/*,video/*",multiple:!0,onChange:async e=>{const t=e.target.files;if(!t||0===t.length)return;const a=Array.from(t),s=10-h.vipMediaItems.length,i=a.slice(0,s);if(0===i.length)return void alert("Limite de 10 mídias atingido.");C(!0),V(i.length),S(0),I(0);const r=[];for(let o=0;o<i.length;o++){const e=i[o];S(o+1),I(Math.round(o/i.length*100));try{const t=await n.uploadMedia(e,"vips_doors"),a=e.type.startsWith("video")?"video":"image";r.push({url:t,type:a}),I(Math.round((o+1)/i.length*100))}catch(l){}}r.length>0&&h.setVipMediaItems([...h.vipMediaItems,...r]),setTimeout(()=>{C(!1),I(0)},1e3)}})]})]}),e.jsx("div",{className:"p-6 bg-[#0c0f14] border-t border-white/5",children:e.jsx("button",{className:"w-full py-4 bg-[#FFD700] text-black font-black rounded-2xl uppercase shadow-lg shadow-[#FFD700]/10",onClick:()=>g(!1),children:"Concluir Design"})})]}),e.jsx(r,{isOpen:v,onClose:()=>j(!1),initialData:h.pixelConfig,initialPlatform:k,onSave:h.updatePlatformPixel}),e.jsx(l,{isOpen:N,onClose:()=>y(!1),selectedProviderId:h.selectedProviderId,onSelect:e=>h.setSelectedProviderId(e)})]})};export{x as GroupVipPage};
