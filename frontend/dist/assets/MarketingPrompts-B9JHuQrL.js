import{c as e}from"./index-CipjSFYz.js";class t{}class s extends t{constructor(){super(...arguments),this.id="gemini"}async generate(e,t){throw new Error("GEMINI_API_KEY_MISSING")}}const r=new class{constructor(){this.requestHistory={}}canProcess(e){const t=Date.now();this.requestHistory[e]||(this.requestHistory[e]=[]),this.requestHistory[e]=this.requestHistory[e].filter(e=>t-e<6e4);return this.requestHistory[e].length<8}record(e){this.requestHistory[e]||(this.requestHistory[e]=[]),this.requestHistory[e].push(Date.now())}};const n=new class{constructor(){this.providers=[new s],this.defaultProvider="gemini"}async run(t,s){const n=e.getCurrentUser(),o=(null==n?void 0:n.id)||"anonymous_guest";if(!r.canProcess(o))throw new Error("Limite de requisições de IA atingido. Tente novamente em 1 minuto.");const a=this.providers.find(e=>e.id===this.defaultProvider);if(!a)throw new Error("AI_PROVIDER_NOT_FOUND");const i=performance.now();try{const e=await a.generate(t,s);performance.now();return r.record(o),e.content}catch(c){throw c}}},o={suggestInterests:(e,t)=>`\n    Aja como um especialista em tráfego pago de alta performance.\n    Analise este produto/anúncio:\n    "${e} - ${t}"\n    \n    Com base no comportamento de consumo atual nas redes sociais, retorne uma lista das 8 melhores \n    palavras-chave de interesses e comportamentos para segmentar o público ideal no gerenciador de anúncios.\n    \n    REQUISITO TÉCNICO: Retorne estritamente um array JSON de strings sem formatação markdown.\n  `,translateCopy:(e,t)=>`\n    Act as a professional direct-response copywriter.\n    Translate the following marketing text to the language: ${t}.\n    \n    Rules:\n    1. Maintain the emotional urgency and sales triggers.\n    2. Use local cultural nuances for higher conversion (slangs are allowed if professional).\n    3. Keep all emojis.\n    4. Return ONLY the translated text.\n    \n    Text: "${e}"\n  `};export{o as M,n as a};
