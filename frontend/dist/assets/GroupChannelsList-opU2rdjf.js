import{j as e,k as s,u as n,f as a,r as t,g as i,c as l}from"./index-Bkpya5GW.js";import{O as r}from"./OwnerControls-CZmu-gEp.js";const c=({groupName:s,coverImage:n})=>e.jsxs("div",{className:"group-hero-mini animate-fade-in",children:[e.jsx("style",{children:"\n                .group-hero-mini {\n                    background: linear-gradient(135deg, rgba(0, 194, 255, 0.1) 0%, rgba(0, 0, 0, 0) 100%);\n                    border-radius: 24px;\n                    padding: 20px;\n                    margin-bottom: 30px;\n                    border: 1px solid rgba(255, 255, 255, 0.05);\n                    display: flex;\n                    align-items: center;\n                    gap: 15px;\n                }\n            "}),e.jsx("div",{className:"w-14 h-14 rounded-2xl overflow-hidden flex-shrink-0 border-2 border-[#00c2ff33]",children:n?e.jsx("img",{src:n,className:"w-full h-full object-cover",alt:"Cover"}):e.jsx("div",{className:"w-full h-full bg-black flex items-center justify-center text-[#00c2ff]",children:e.jsx("i",{className:"fa-solid fa-users"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-xl font-black text-white truncate leading-tight",children:s}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest mt-1",children:"Canais da Comunidade"})]})]}),d=({title:s})=>e.jsxs("div",{className:"flex flex-col gap-1 mb-6 px-2 mt-8 first:mt-2 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-4 w-1 bg-[#00c2ff] rounded-full shadow-[0_0_10px_#00c2ff]"}),e.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-[3px]",children:s})]}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-white/10 to-transparent mt-2"})]}),o=({id:n,groupId:a,name:t,icon:i="fa-hashtag",isPrivate:l=!1,onClick:r})=>{const c=s.getGroupUnreadCount(`${a}_${n}`);return e.jsxs("div",{onClick:r,className:"flex items-center justify-between p-4 bg-white/5 border border-white/5 rounded-2xl cursor-pointer hover:bg-white/10 transition-all active:scale-[0.98] group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-black/40 flex items-center justify-center text-[#00c2ff] group-hover:bg-[#00c2ff1a] transition-colors",children:e.jsx("i",{className:`fa-solid ${i}`})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"font-bold text-gray-200",children:["# ",t]}),l&&e.jsx("span",{className:"text-[9px] text-gray-500 uppercase font-black",children:"Somente Admins"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[c>0&&e.jsx("div",{className:"bg-[#ff4d4d] text-white text-[10px] font-black px-2 py-0.5 rounded-full",children:c}),e.jsx("i",{className:"fa-solid fa-chevron-right text-gray-700 text-xs"})]})]})},x=()=>e.jsxs("div",{className:"text-center py-10 opacity-20 border-2 border-dashed border-white/5 rounded-3xl mt-4",children:[e.jsx("i",{className:"fa-solid fa-hashtag text-4xl mb-2"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Nenhum canal extra ativo"})]}),m=({group:s,isAdmin:n,onChannelClick:a})=>s.channelSections&&s.channelSections.length>0?e.jsx("div",{className:"space-y-4",children:s.channelSections.map(n=>e.jsxs("div",{className:"animate-fade-in",children:[e.jsx(d,{title:n.title}),e.jsx("div",{className:"space-y-3",children:(n.channelIds||[]).map(n=>{const t=(e=>"general"===e?{id:"general",name:"Geral",onlyAdminsPost:!1,type:"text"}:(s.channels||[]).find(s=>s.id===e))(n);return t?e.jsx(o,{id:t.id,groupId:s.id,name:t.name,icon:"fa-hashtag",isPrivate:t.onlyAdminsPost,onClick:()=>a(t.id)},t.id):null})})]},n.id))}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{title:"DiscussÃµes"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{id:"general",groupId:s.id,name:"Geral",icon:"fa-hashtag",onClick:()=>a("general")}),(s.channels||[]).map(n=>e.jsx(o,{id:n.id,groupId:s.id,name:n.name,icon:"fa-hashtag",isPrivate:n.onlyAdminsPost,onClick:()=>a(n.id)},n.id)),(!s.channels||0===s.channels.length)&&!n&&e.jsx(x,{})]})]}),f=()=>e.jsx("div",{className:"text-center opacity-10 text-[8px] uppercase font-black tracking-[3px] mb-8 mt-auto",children:"Flux Community Engine v4.2"}),p=()=>{const s=n(),{id:d}=a(),[o,x]=t.useState(null),[p,h]=t.useState(!0),[g,u]=t.useState(!1);if(t.useEffect(()=>{var e;if(d){const n=i.getGroupById(d);if(n){x(n);const s=l.getCurrentUserId(),a=n.creatorId===s||(null==(e=n.adminIds)?void 0:e.includes(s||""));u(!!a)}else s("/groups");h(!1)}},[d,s]),p||!o)return e.jsx("div",{className:"min-h-screen bg-[#0c0f14] flex items-center justify-center text-white",children:e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-2xl text-[#00c2ff]"})});return e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col",children:[e.jsx("style",{children:"\n                .platform-header {\n                    height: 75px;\n                    padding: 0 24px;\n                    display: flex;\n                    align-items: center;\n                    background: #0c0f14;\n                    border-bottom: 1px solid rgba(255, 255, 255, 0.05);\n                    position: sticky;\n                    top: 0;\n                    z-index: 40;\n                }\n                .owner-controls {\n                    position: fixed;\n                    top: 17px;\n                    right: 20px;\n                    z-index: 60;\n                    display: flex;\n                    gap: 12px;\n                    height: 40px;\n                    align-items: center;\n                }\n                .ctrl-btn {\n                    width: 42px;\n                    height: 42px;\n                    background: rgba(255,255,255,0.05);\n                    backdrop-filter: blur(15px);\n                    border: 1px solid rgba(255,255,255,0.1);\n                    border-radius: 14px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    color: #00c2ff;\n                    cursor: pointer;\n                    transition: all 0.3s;\n                }\n                .ctrl-btn:hover { \n                    background: #00c2ff; \n                    color: #000; \n                    box-shadow: 0 0 20px rgba(0, 194, 255, 0.4);\n                    transform: translateY(-2px);\n                }\n            "}),e.jsxs("header",{className:"platform-header",children:[e.jsx("button",{onClick:()=>s("/groups"),className:"text-[#00c2ff] text-xl p-2 -ml-4",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("div",{className:"ml-2 flex flex-col",children:e.jsx("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-[3px]",children:"Canais da Comunidade"})})]}),g&&e.jsx(r,{group:o}),e.jsxs("main",{className:"flex-1 p-5 pt-10 max-w-[600px] mx-auto w-full flex flex-col",children:[e.jsx(c,{groupName:o.name,coverImage:o.coverImage}),e.jsx(m,{group:o,isAdmin:g,onChannelClick:e=>{s(`/group-chat/${d}/${e}`)}}),e.jsx(f,{})]})]})};export{p as GroupChannelsList};
