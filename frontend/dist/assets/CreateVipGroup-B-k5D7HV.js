import{u as me,r as t,c as ce,g as Ce,j as e}from"./index-BC19Iu_T.js";import{p as xe}from"./postService-XFLx8Vj8.js";import{g as Ne}from"./idGenerator-C8OoQYlS.js";import{P as we}from"./PixelSettingsModal-DKkwl8oi.js";import{C as ke}from"./CurrencySelectorModal-XBEkBh7D.js";import{P as Ie}from"./ProviderSelectorModal-CFCoHoGU.js";import{I as Se}from"./ImageCropModal-DKSoCquK.js";import{U as Pe}from"./UploadProgressCard-CTKpf9n9.js";const ue={syncpay:["BRL"],stripe:["BRL","USD","EUR"],paypal:["BRL","USD","EUR"],btc_native:["BTC"]},Fe={syncpay:"BRL",stripe:"BRL",paypal:"BRL",btc_native:"BTC"},De=()=>{const o=me(),[i,p]=t.useState(""),[d,m]=t.useState(""),[l,j]=t.useState(void 0),[h,b]=t.useState(null),[u,C]=t.useState([]),[M,w]=t.useState(""),[S,k]=t.useState(""),[P,N]=t.useState(""),[y,F]=t.useState("BRL"),[n,U]=t.useState("lifetime"),[v,B]=t.useState(null),[f,D]=t.useState(null),[q,T]=t.useState(!1),[_,W]=t.useState(""),[E,z]=t.useState(""),[Y,R]=t.useState(!1),[X,J]=t.useState(!1),[K,Q]=t.useState(!1),[Z,L]=t.useState(!1),[ee,te]=t.useState(""),[G,$]=t.useState(!1),[re,ae]=t.useState(!1),[H,A]=t.useState(!1),[oe,O]=t.useState(0),[se,x]=t.useState(0),[V,fe]=t.useState(0);t.useEffect(()=>{const r=ce.getCurrentUser(),s=!!r?.paymentConfig?.isConnected||!!Object.values(r?.paymentConfigs||{}).some(a=>a.isConnected);if(ae(s),r?.paymentConfig?.isConnected)D(r.paymentConfig.providerId);else if(r?.paymentConfigs){const a=Object.values(r.paymentConfigs).find(c=>c.isConnected);a&&D(a.providerId)}},[]);const ge=t.useMemo(()=>f?(ue[f]||["BRL"]).filter(s=>["BRL","USD","EUR"].includes(s)):[],[f]);return{navigate:o,groupName:i,setGroupName:p,description:d,setDescription:m,coverImage:l,selectedCoverFile:h,vipMediaItems:u,vipDoorText:M,setVipDoorText:w,vipButtonText:S,setVipButtonText:k,price:P,currency:y,setCurrency:F,accessType:n,setAccessType:U,accessConfig:v,setAccessConfig:B,selectedProviderId:f,isProviderModalOpen:q,setIsProviderModalOpen:T,pixelId:_,pixelToken:E,isPixelModalOpen:Y,setIsPixelModalOpen:R,isAccessModalOpen:X,setIsAccessModalOpen:J,isCurrencyModalOpen:K,setIsCurrencyModalOpen:Q,isCropOpen:Z,setIsCropOpen:L,rawImage:ee,isCreating:G,hasProvider:re,isUploading:H,uploadProgress:oe,uploadCurrent:se,uploadTotal:V,allowedCurrencies:ge,handleProviderSelect:r=>{D(r);const a=(ue[r]||["BRL"]).filter(c=>["BRL","USD","EUR"].includes(c));a.includes(y)||F(Fe[r]||a[0]||"BRL")},handleCoverChange:r=>{const s=r.target.files?.[0];if(s){const a=new FileReader;a.onload=c=>{te(c.target?.result),L(!0)},a.readAsDataURL(s)}},handleCroppedImage:r=>{j(r),fetch(r).then(s=>s.blob()).then(s=>{const a=new File([s],"group_cover.jpg",{type:"image/jpeg"});b(a)})},handleVipMediaChange:r=>{const s=r.target.files;if(!s)return;const a=Array.from(s);if(u.length+a.length>10){alert("Máximo de 10 itens na galeria.");return}const c=a.map(I=>({file:I,url:URL.createObjectURL(I),type:I.type.startsWith("video/")?"video":"image"}));C(I=>[...I,...c])},moveVipMediaItem:(r,s)=>{const a=[...u],c=s==="left"?r-1:r+1;c<0||c>=a.length||([a[r],a[c]]=[a[c],a[r]],C(a))},removeMediaItem:r=>{C(s=>s.filter((a,c)=>c!==r))},handlePriceChange:r=>{let s=r.target.value;if(s=s.replace(/\D/g,""),s===""){N("");return}const a=parseFloat(s)/100;N(a.toLocaleString("pt-BR",{minimumFractionDigits:2}))},handleSavePixel:r=>{W(r.pixelId),z(r.pixelToken)},getCurrencySymbol:()=>{switch(y){case"USD":return"$";case"EUR":return"€";default:return"R$"}},getAccessTypeLabel:()=>n==="lifetime"?"Vitalício":n==="temporary"&&v?`Renova a cada ${v.interval} dias (Máx 2x)`:n==="one_time"&&v?`Expira em ${v.days}d ${v.hours}h`:"Escolher",getProviderLabel:()=>f?f==="syncpay"?"SyncPay (Pix)":f==="stripe"?"Stripe":f==="paypal"?"PayPal":f.toUpperCase():"Escolher",handleBack:()=>{o("/create-group",{replace:!0})},handleSubmit:async r=>{if(r.preventDefault(),G||H)return;if(!f){alert("⚠️ Selecione um provedor de pagamento para continuar."),T(!0);return}const s=P.replace(/\./g,"").replace(",","."),a=parseFloat(s);if(isNaN(a)||a<6){alert("⚠️ O preço mínimo para criar um grupo VIP é R$ 6,00.");return}$(!0),A(!0);try{const c=ce.getCurrentUserId(),I=ce.getCurrentUserEmail(),ie=u.filter(g=>g.file).length+(h?1:0);fe(ie),x(0),O(0);let de=l;h&&(x(g=>g+1),de=await xe.uploadMedia(h,"avatars"),O(Math.round(1/ie*100)));const pe=[],he=u.filter(g=>g.file),be=u.filter(g=>!g.file);let ne=h?1:0;for(const g of he){ne++,x(ne);const ye=await xe.uploadMedia(g.file,"vips_doors");pe.push({url:ye,type:g.type}),O(Math.round(ne/ie*100))}const ve=[...be.map(g=>({url:g.url,type:g.type})),...pe];let le;n==="temporary"?le=v?.interval:n==="one_time"&&(le=`${v?.days}d${v?.hours}h`);const je={id:Ne(),name:i,description:d,coverImage:de,isVip:!0,price:a.toString(),currency:y,accessType:n,selectedProviderId:f,expirationDate:le,vipDoor:{mediaItems:ve,text:M||"Bem-vindo ao VIP!",buttonText:S},lastMessage:"Grupo criado. Configure os conteúdos.",time:"Agora",creatorId:c||"",creatorEmail:I||void 0,memberIds:c?[c]:[],adminIds:c?[c]:[],status:"active",pixelId:_||void 0,pixelToken:E||void 0};await Ce.createGroup(je),setTimeout(()=>{A(!1),o("/groups",{replace:!0})},800)}catch{alert("Erro ao criar grupo VIP."),$(!1),A(!1)}}}},Me=({isOpen:o,onClose:i,currentType:p,onSelect:d})=>{const[m,l]=t.useState("selection"),[j,h]=t.useState(p),[b,u]=t.useState("30"),[C,M]=t.useState(2),[w,S]=t.useState("1"),[k,P]=t.useState("0");if(t.useEffect(()=>{o&&(l("selection"),h(p))},[o,p]),!o)return null;const N=n=>{h(n),n==="temporary"?l("config_periodic"):n==="one_time"?l("config_one_time"):(d("lifetime"),i())},y=()=>{d("temporary",{interval:b,maxCycles:2}),i()},F=()=>{d("one_time",{days:w,hours:k}),i()};return e.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-4 backdrop-blur-md animate-fade-in",onClick:n=>n.target===n.currentTarget&&i(),children:[e.jsx("style",{children:`
                .access-modal-card {
                    width: 100%;
                    max-width: 380px;
                    background: #1a1e26;
                    border: 1px solid rgba(255, 255, 255, 0.1);
                    border-radius: 28px;
                    padding: 24px;
                    box-shadow: 0 15px 50px rgba(0, 0, 0, 0.6);
                    animation: popIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
                }
                .access-option {
                    width: 100%;
                    padding: 16px;
                    background: rgba(255, 255, 255, 0.03);
                    border: 2px solid transparent;
                    border-radius: 20px;
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    cursor: pointer;
                    transition: 0.2s;
                    margin-bottom: 12px;
                    text-align: left;
                }
                .access-option:hover { background: rgba(255, 255, 255, 0.06); }
                .access-option.active { border-color: #00c2ff; background: rgba(0, 194, 255, 0.05); }
                
                .config-view { animation: fadeIn 0.3s ease; }
                .config-label { font-size: 11px; font-weight: 800; color: #555; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 12px; display: block; }
                
                .interval-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
                .interval-btn { padding: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: #fff; font-size: 12px; font-weight: 700; cursor: pointer; text-align: center; }
                .interval-btn.active { border-color: #00c2ff; background: rgba(0,194,255,0.1); color: #00c2ff; }

                .duration-inputs { display: flex; gap: 15px; margin-bottom: 20px; }
                .duration-field { flex: 1; }
                .duration-field input { width: 100%; background: #0c0f14; border: 1px solid #333; color: #fff; padding: 12px; border-radius: 12px; text-align: center; font-weight: 800; font-size: 18px; outline: none; }
                .duration-field input:focus { border-color: #00c2ff; }
                .duration-field span { display: block; text-align: center; font-size: 10px; color: #666; font-weight: 700; margin-top: 6px; text-transform: uppercase; }

                .action-btn-main { width: 100%; padding: 16px; background: #00c2ff; color: #000; border-radius: 16px; font-weight: 800; border: none; cursor: pointer; margin-top: 10px; transition: 0.2s; }
                .action-btn-main:active { transform: scale(0.98); }

                @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
            `}),e.jsxs("div",{className:"access-modal-card",onClick:n=>n.stopPropagation(),children:[m==="selection"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-6 text-white",children:"Tipo de Acesso"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{className:`access-option ${j==="lifetime"?"active":""}`,onClick:()=>N("lifetime"),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FFD700]1a flex items-center justify-center text-[#FFD700] text-xl",children:e.jsx("i",{className:"fa-solid fa-infinity"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Vitalício"}),e.jsx("p",{className:"text-[11px] text-gray-500",children:"Acesso permanente sem renovação."})]})]}),e.jsxs("button",{className:`access-option ${j==="temporary"?"active":""}`,onClick:()=>N("temporary"),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#00c2ff]1a flex items-center justify-center text-[#00c2ff] text-xl",children:e.jsx("i",{className:"fa-solid fa-calendar-days"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Periódico"}),e.jsx("p",{className:"text-[11px] text-gray-500",children:"Assinatura com cobranças recorrentes."})]})]}),e.jsxs("button",{className:`access-option ${j==="one_time"?"active":""}`,onClick:()=>N("one_time"),children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#00ff82]1a flex items-center justify-center text-[#00ff82] text-xl",children:e.jsx("i",{className:"fa-solid fa-ticket"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white",children:"Consumo Único"}),e.jsx("p",{className:"text-[11px] text-gray-500",children:"Acesso por tempo limitado."})]})]})]}),e.jsx("button",{className:"w-full mt-4 py-2 text-gray-500 font-bold uppercase text-[10px] tracking-widest hover:text-white transition-colors",onClick:i,children:"Cancelar"})]}),m==="config_periodic"&&e.jsxs("div",{className:"config-view",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("button",{onClick:()=>l("selection"),className:"text-gray-400",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Configurar Periódico"})]}),e.jsx("span",{className:"config-label",children:"Intervalo de Cobrança"}),e.jsxs("div",{className:"interval-grid",children:[e.jsx("button",{className:`interval-btn ${b==="7"?"active":""}`,onClick:()=>u("7"),children:"7 DIAS"}),e.jsx("button",{className:`interval-btn ${b==="15"?"active":""}`,onClick:()=>u("15"),children:"15 DIAS"}),e.jsx("button",{className:`interval-btn ${b==="30"?"active":""}`,onClick:()=>u("30"),children:"30 DIAS"})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-xl mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-bold text-blue-300 uppercase",children:"Máximo de Cobranças"}),e.jsx("span",{className:"bg-blue-500 text-black px-2 py-0.5 rounded font-black text-xs",children:"02"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Limite máximo de renovações automáticas permitido pelo sistema."})]}),e.jsx("button",{className:"action-btn-main",onClick:y,children:"CONFIRMAR"})]}),m==="config_one_time"&&e.jsxs("div",{className:"config-view",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("button",{onClick:()=>l("selection"),className:"text-gray-400",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Configurar Duração"})]}),e.jsx("span",{className:"config-label",children:"Tempo de Acesso"}),e.jsxs("div",{className:"duration-inputs",children:[e.jsxs("div",{className:"duration-field",children:[e.jsx("input",{type:"number",min:"0",value:w,onChange:n=>S(n.target.value)}),e.jsx("span",{children:"Dias"})]}),e.jsxs("div",{className:"duration-field",children:[e.jsx("input",{type:"number",min:"0",max:"23",value:k,onChange:n=>P(n.target.value)}),e.jsx("span",{children:"Horas"})]})]}),e.jsx("p",{className:"text-[11px] text-gray-500 text-center mb-6 px-4",children:"O membro será removido automaticamente do grupo após este período."}),e.jsx("button",{className:"action-btn-main",onClick:F,children:"DEFINIR TEMPO"})]})]})]})},Te=({onBack:o})=>{const i=me();return e.jsxs("header",{children:[e.jsx("button",{onClick:o,children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 w-[60px] h-[60px] bg-white/5 rounded-2xl flex justify-center items-center z-20 cursor-pointer shadow-[0_0_20px_rgba(0,194,255,0.3),inset_0_0_20px_rgba(0,194,255,0.08)]",onClick:()=>i("/feed"),children:[e.jsx("div",{className:"absolute w-[40px] h-[22px] rounded-[50%] border-[3px] border-[#00c2ff] rotate-[25deg]"}),e.jsx("div",{className:"absolute w-[40px] h-[22px] rounded-[50%] border-[3px] border-[#00c2ff] -rotate-[25deg]"})]})]})},Re=({coverImage:o,onCoverChange:i})=>e.jsxs("div",{className:"cover-upload-container",children:[e.jsx("label",{htmlFor:"coverImageInput",className:"cover-preview",children:o?e.jsx("img",{src:o,alt:"Cover"}):e.jsx("i",{className:"fa-solid fa-crown cover-icon"})}),e.jsx("label",{htmlFor:"coverImageInput",className:"cover-label",children:"Capa Principal"}),e.jsx("input",{type:"file",id:"coverImageInput",accept:"image/*",style:{display:"none"},onChange:i})]}),Ae=({groupName:o,onGroupNameChange:i,description:p,onDescriptionChange:d})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"groupName",children:"Nome do Grupo"}),e.jsx("input",{type:"text",id:"groupName",value:o,onChange:i,placeholder:"Ex: Comunidade Flux Pro",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"groupDescription",children:"Descrição"}),e.jsx("textarea",{id:"groupDescription",value:p,onChange:d,placeholder:"Sobre o que é este grupo?"})]})]}),Oe=({vipMediaItems:o,onVipMediaChange:i,onMoveVipMediaItem:p,onRemoveMediaItem:d})=>e.jsxs("div",{className:"vip-door-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("i",{className:"fa-solid fa-door-open"})," Galeria da Porta VIP"]}),e.jsxs("div",{className:"flex flex-wrap gap-2.5 mb-4",children:[o.map((m,l)=>e.jsxs("div",{className:"media-preview-item animate-fade-in",children:[m.type==="video"?e.jsx("video",{src:m.url}):e.jsx("img",{src:m.url,alt:`Preview ${l}`}),e.jsxs("div",{className:"media-controls-overlay",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{type:"button",onClick:()=>p(l,"left"),disabled:l===0,className:"reorder-btn",children:e.jsx("i",{className:"fa-solid fa-chevron-left"})}),e.jsx("button",{type:"button",onClick:()=>p(l,"right"),disabled:l===o.length-1,className:"reorder-btn",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsx("button",{type:"button",className:"remove-media-btn-new",onClick:()=>d(l),children:e.jsx("i",{className:"fa-solid fa-trash"})})]}),e.jsxs("div",{className:"absolute bottom-1 left-1 bg-black/60 text-[7px] font-black text-white px-1 py-0.5 rounded border border-white/5",children:["#",l+1]})]},l)),o.length<10&&e.jsxs("label",{htmlFor:"vipMediaInput",className:"add-media-btn",children:[e.jsx("i",{className:"fa-solid fa-plus"}),e.jsx("span",{children:"Adicionar"})]}),e.jsx("input",{type:"file",id:"vipMediaInput",accept:"image/*,video/*",multiple:!0,style:{display:"none"},onChange:i})]})]}),Ve=({vipDoorText:o,onVipDoorTextChange:i,vipButtonText:p,onVipButtonTextChange:d})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vipCopyright",children:"Texto de Venda"}),e.jsx("textarea",{id:"vipCopyright",value:o,onChange:i,placeholder:"Copy persuasiva..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"vipButtonText",children:"Texto do Botão (Opcional)"}),e.jsx("input",{type:"text",id:"vipButtonText",value:p,onChange:d,placeholder:"Ex: Assinar (Padrão: COMPRAR AGORA)",maxLength:20})]})]}),Ue=({selectedProviderId:o,onProviderClick:i,getProviderLabel:p,accessType:d,onAccessClick:m,getAccessTypeLabel:l,currency:j,onCurrencyClick:h,getCurrencySymbol:b,price:u,onPriceChange:C})=>e.jsxs("div",{className:"price-group",children:[e.jsx("label",{children:"Venda e Acesso"}),e.jsxs("div",{className:"selector-trigger",onClick:i,children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"label",children:"Escolher provedor:"}),e.jsxs("span",{className:"value",children:[e.jsx("i",{className:"fa-solid fa-wallet"}),p()]})]}),e.jsx("i",{className:"fa-solid fa-chevron-right text-[#FFD700]"})]}),e.jsxs("div",{className:"selector-trigger",onClick:m,children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"label",children:"Tipo de acesso:"}),e.jsxs("span",{className:"value",children:[e.jsx("i",{className:`fa-solid ${d==="lifetime"?"fa-infinity":d==="temporary"?"fa-calendar-days":"fa-ticket"}`}),l()]})]}),e.jsx("i",{className:"fa-solid fa-chevron-right text-[#FFD700]"})]}),e.jsxs("div",{className:"selector-trigger",onClick:h,children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"label",children:"Moeda para cobrança:"}),e.jsxs("span",{className:"value",children:[e.jsx("span",{className:"curr-sym",children:b()}),j]})]}),e.jsx("i",{className:"fa-solid fa-chevron-right text-[#FFD700]"})]}),e.jsxs("div",{className:"price-input-container",children:[e.jsx("span",{children:b()}),e.jsx("input",{type:"text",value:u,onChange:C,placeholder:"0,00",required:!0})]})]}),Be=({pixelId:o,onPixelClick:i})=>e.jsxs("div",{className:"vip-door-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("i",{className:"fa-solid fa-rocket"})," Marketing Avançado"]}),e.jsxs("button",{type:"button",className:"add-pixel-btn",onClick:i,children:[e.jsx("i",{className:"fa-solid fa-plus-circle"}),o?"PIXEL CONFIGURADO":"ADICIONAR PIXEL"]}),o&&e.jsxs("p",{className:"text-[10px] text-[#00ff82] text-center mt-2 font-bold uppercase tracking-widest",children:[e.jsx("i",{className:"fa-solid fa-check"})," Meta Pixel Ativo"]})]}),it=()=>{const{navigate:o,groupName:i,setGroupName:p,description:d,setDescription:m,coverImage:l,vipMediaItems:j,vipDoorText:h,setVipDoorText:b,vipButtonText:u,setVipButtonText:C,price:M,currency:w,setCurrency:S,accessType:k,setAccessType:P,setAccessConfig:N,selectedProviderId:y,isProviderModalOpen:F,setIsProviderModalOpen:n,pixelId:U,isPixelModalOpen:v,setIsPixelModalOpen:B,isAccessModalOpen:f,setIsAccessModalOpen:D,isCurrencyModalOpen:q,setIsCurrencyModalOpen:T,isCropOpen:_,setIsCropOpen:W,rawImage:E,isCreating:z,hasProvider:Y,isUploading:R,uploadProgress:X,uploadCurrent:J,uploadTotal:K,allowedCurrencies:Q,handleProviderSelect:Z,handleCoverChange:L,handleCroppedImage:ee,handleVipMediaChange:te,moveVipMediaItem:G,removeMediaItem:$,handlePriceChange:re,handleSavePixel:ae,getCurrencySymbol:H,getAccessTypeLabel:A,getProviderLabel:oe,handleBack:O,handleSubmit:se}=De();return e.jsxs("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top_left,_#0c0f14,_#0a0c10)] text-white font-['Inter'] flex flex-col overflow-x-hidden",children:[e.jsx("style",{children:`
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }
        header {
            display:flex; align-items:center; justify-content:space-between; padding:16px 32px;
            background: #0c0f14; position:fixed; width:100%; z-index:10; border-bottom:1px solid rgba(255,255,255,0.1);
            top: 0; left:0; height: 80px;
        }
        header button { background:none; border:none; color:#00c2ff; font-size:18px; cursor:pointer; transition:0.3s; }
        header button:hover { color:#fff; }
        main { flex-grow:1; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; width:100%; padding-top: 100px; padding-bottom: 150px; }
        #groupCreationForm { width:100%; max-width:500px; padding:0 20px; display: flex; flex-direction: column; gap: 20px; }
        h1 { font-size: 24px; text-align: center; margin-bottom: 20px; background: -webkit-linear-gradient(145deg, #FFD700, #B8860B); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; }
        .cover-upload-container { display: flex; flex-direction: column; align-items: center; margin-bottom: 10px; }
        .cover-preview { width: 120px; height: 120px; border-radius: 50%; border: 3px solid #FFD700; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 0 20px rgba(255, 215, 0, 0.2); }
        .cover-preview:hover { border-color: #fff; box-shadow: 0 0 25px rgba(255, 215, 0, 0.4); }
        .cover-preview img { width: 100%; height: 100%; object-fit: cover; }
        .cover-icon { font-size: 40px; color: rgba(255,255,255,0.3); }
        .cover-label { margin-top: 10px; font-size: 14px; color: #FFD700; cursor: pointer; font-weight: 600; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-size: 13px; color: #FFD700; margin-bottom: 8px; font-weight: 600; }
        .form-group input, .form-group textarea { background: #1e2531; border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; color: #fff; padding: 12px; font-size: 16px; transition: border-color 0.3s; }
        .form-group input:focus, .form-group textarea:focus { border-color: #FFD700; outline: none; box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
        .form-group textarea { resize: vertical; min-height: 100px; }
        .vip-door-section { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px; margin-top: 10px; }
        .section-title { font-size: 16px; color: #FFD700; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        
        .media-preview-item { width: 80px; height: 100px; flex-shrink: 0; border-radius: 12px; overflow: hidden; position: relative; border: 1px solid rgba(255, 215, 0, 0.2); background: #000; }
        .media-preview-item img, .media-preview-item video { width: 100%; height: 100%; object-fit: cover; }
        
        /* Controls Overlay */
        .media-controls-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.6); display: flex; flex-direction: column; align-items: center; justify-content: space-between; padding: 6px; opacity: 0; transition: 0.2s; }
        .media-preview-item:hover .media-controls-overlay { opacity: 1; }
        
        .reorder-btn { width: 22px; height: 22px; border-radius: 6px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 9px; }
        .reorder-btn:hover { background: #00c2ff; color: #000; border-color: #00c2ff; }
        .reorder-btn:disabled { opacity: 0.2; cursor: not-allowed; }
        
        .remove-media-btn-new { width: 22px; height: 22px; border-radius: 6px; background: rgba(255, 77, 77, 0.2); border: 1px solid rgba(255, 77, 77, 0.4); color: #ff4d4d; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 9px; }
        .remove-media-btn-new:hover { background: #ff4d4d; color: #fff; }

        .add-media-btn { width: 80px; height: 100px; flex-shrink: 0; border-radius: 12px; border: 1px dashed #FFD700; background: rgba(255, 215, 0, 0.05); display: flex; flex-direction: column; align-items: center; justify-content: center; color: #FFD700; cursor: pointer; gap: 5px; }
        .add-media-btn:hover { background: rgba(255, 215, 0, 0.1); }
        .add-media-btn span { font-size: 10px; font-weight: 600; text-align: center; }
        .common-button { background: #FFD700; border: none; border-radius: 8px; color: #000; padding: 16px 20px; font-size: 18px; font-weight: 700; cursor: pointer; transition: background 0.3s, transform 0.1s; display: flex; align-items: center; justify-content: center; gap: 8px; box-shadow: 0 4px 8px rgba(255, 215, 0, 0.3); margin-top: 20px; }
        .common-button:hover { background: #e6c200; }
        .common-button:active { transform: scale(0.99); }
        .common-button:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        .price-group { display: flex; flex-direction: column; gap: 10px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); }
        .price-group label { font-size: 16px; color: #FFD700; font-weight: 700; }
        .price-input-container { display: flex; align-items: center; background: #1e2531; border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 8px; overflow: hidden; margin-bottom: 5px; }
        .price-input-container span { padding: 12px; background: #28303f; color: #aaa; font-size: 16px; font-weight: 700; min-width: 50px; text-align: center; }
        .price-input-container input { flex-grow: 1; border: none; background: none; padding: 12px; text-align: right; color: #fff; font-weight: 700; }
        
        .selector-trigger {
            width: 100%;
            background: #1e2531;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            padding: 14px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: 0.3s;
            margin-bottom: 5px;
        }
        .selector-trigger:hover {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.05);
        }
        .selector-trigger .label { font-size: 13px; color: #888; font-weight: 500; }
        .selector-trigger .value { font-size: 14px; color: #fff; font-weight: 700; display: flex; align-items: center; gap: 10px; text-align: right; }
        .selector-trigger .value span.curr-sym { width: 32px; text-align: center; color: #FFD700; font-weight: 900; }

        .add-pixel-btn { width: 100%; padding: 14px; background: rgba(255, 255, 255, 0.05); border: 1px dashed #FFD700; border-radius: 12px; color: #FFD700; font-weight: 700; font-size: 14px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .add-pixel-btn:hover { background: rgba(255, 215, 0, 0.1); }
      `}),e.jsx(Te,{onBack:O}),e.jsxs("main",{children:[e.jsxs("form",{id:"groupCreationForm",onSubmit:se,children:[e.jsx("h1",{children:"Novo Grupo VIP"}),!Y&&e.jsxs("div",{style:{background:"rgba(234, 179, 8, 0.1)",border:"1px solid #eab308",borderRadius:"8px",padding:"12px",marginBottom:"20px",fontSize:"13px",color:"#fef08a"},children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation",style:{marginRight:"8px"}}),"Nenhum provedor conectado. ",e.jsx("button",{type:"button",onClick:()=>o("/financial/providers"),style:{textDecoration:"underline",fontWeight:"bold",background:"none",border:"none",color:"inherit",cursor:"pointer"},children:"Conectar agora"})]}),e.jsx(Re,{coverImage:l,onCoverChange:L}),e.jsx(Ae,{groupName:i,onGroupNameChange:x=>p(x.target.value),description:d,onDescriptionChange:x=>m(x.target.value)}),e.jsx(Oe,{vipMediaItems:j,onVipMediaChange:te,onMoveVipMediaItem:G,onRemoveMediaItem:$}),e.jsx(Ve,{vipDoorText:h,onVipDoorTextChange:x=>b(x.target.value),vipButtonText:u,onVipButtonTextChange:x=>C(x.target.value)}),e.jsx(Ue,{selectedProviderId:y,onProviderClick:()=>n(!0),getProviderLabel:oe,accessType:k,onAccessClick:()=>D(!0),getAccessTypeLabel:A,currency:w,onCurrencyClick:()=>T(!0),getCurrencySymbol:H,price:M,onPriceChange:re}),e.jsx(Be,{pixelId:U,onPixelClick:()=>B(!0)}),e.jsx("button",{type:"submit",className:"common-button",disabled:z||R,children:z||R?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin mr-2"}):"Criar Grupo"})]}),e.jsx(Pe,{progress:X,current:J,total:K,isVisible:R})]}),e.jsx(Ie,{isOpen:F,onClose:()=>n(!1),selectedProviderId:y,onSelect:Z}),e.jsx(we,{isOpen:v,onClose:()=>B(!1),initialData:{metaId:U,metaToken:null},onSave:(x,V)=>ae(V)}),e.jsx(Me,{isOpen:f,onClose:()=>D(!1),currentType:k,onSelect:(x,V)=>{P(x),N(V)}}),e.jsx(ke,{isOpen:q,onClose:()=>T(!1),currentCurrency:w,onSelect:x=>S(x),allowedCurrencies:Q}),e.jsx(Se,{isOpen:_,imageSrc:E,onClose:()=>W(!1),onSave:ee})]})};export{it as CreateVipGroup};
