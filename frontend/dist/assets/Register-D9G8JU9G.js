import{j as e,L as C,u as A,a as F,r,c as v,d as w}from"./index-BC19Iu_T.js";const R=({email:i,setEmail:d,password:l,setPassword:m,confirmPassword:a,setConfirmPassword:u,termsAccepted:o,setTermsAccepted:p,errors:t,loading:n,isValid:h,referredBy:x,onSubmit:b})=>e.jsxs("div",{className:"w-full max-w-[400px] bg-white/5 backdrop-blur-2xl rounded-[32px] p-10 border border-white/10 shadow-2xl flex flex-col items-center animate-fade-in",children:[e.jsxs("div",{className:"mb-8 w-[70px] h-[70px] bg-white/5 rounded-2xl flex items-center justify-center relative border border-white/10 shadow-[0_0_30px_rgba(0,194,255,0.2)]",children:[e.jsx("div",{className:"absolute w-[45px] h-[25px] rounded-[50%] border-[3.5px] border-[#00c2ff] rotate-[25deg]"}),e.jsx("div",{className:"absolute w-[45px] h-[25px] rounded-[50%] border-[3.5px] border-[#00c2ff] -rotate-[25deg]"})]}),e.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-white",children:"Criar Conta Flux"}),e.jsx("p",{className:"text-gray-400 text-sm text-center mb-8 leading-relaxed",children:"Junte-se à nossa plataforma de conexão."}),x&&e.jsxs("div",{className:"mb-6 w-full text-[10px] font-black uppercase tracking-widest bg-[#FFD7001a] border border-[#FFD70033] p-3 rounded-xl text-[#FFD700] flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-handshake"})," Indicação Ativa"]}),e.jsxs("form",{onSubmit:b,className:"w-full space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fa-solid fa-envelope absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm"}),e.jsx("input",{type:"email",placeholder:"E-mail",required:!0,value:i,onChange:s=>d(s.target.value),className:"w-full p-3.5 pl-11 bg-black/20 border border-white/10 rounded-xl text-white outline-none focus:border-[#00c2ff] transition-all placeholder-gray-600"}),t.email&&e.jsx("span",{className:"text-[10px] text-red-400 font-bold mt-1 block ml-1 uppercase",children:t.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fa-solid fa-lock absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm"}),e.jsx("input",{type:"password",placeholder:"Senha",required:!0,value:l,onChange:s=>m(s.target.value),className:"w-full p-3.5 pl-11 bg-black/20 border border-white/10 rounded-xl text-white outline-none focus:border-[#00c2ff] transition-all placeholder-gray-600"}),t.password&&e.jsx("span",{className:"text-[10px] text-red-400 font-bold mt-1 block ml-1 uppercase",children:t.password})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fa-solid fa-shield-check absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm"}),e.jsx("input",{type:"password",placeholder:"Confirmar Senha",required:!0,value:a,onChange:s=>u(s.target.value),className:"w-full p-3.5 pl-11 bg-black/20 border border-white/10 rounded-xl text-white outline-none focus:border-[#00c2ff] transition-all placeholder-gray-600"}),t.confirm&&e.jsx("span",{className:"text-[10px] text-red-400 font-bold mt-1 block ml-1 uppercase",children:t.confirm})]}),e.jsxs("div",{className:"flex items-center px-1 mb-2",children:[e.jsx("input",{type:"checkbox",id:"acceptTerms",required:!0,checked:o,onChange:s=>p(s.target.checked),className:"w-4 h-4 rounded border-white/10 bg-black/20 text-[#00c2ff] focus:ring-[#00c2ff] cursor-pointer"}),e.jsxs("label",{htmlFor:"acceptTerms",className:"ml-3 text-xs text-gray-400 cursor-pointer",children:["Aceito os ",e.jsx("a",{href:"#",className:"text-[#00c2ff] hover:underline font-bold",children:"Termos de Uso"})]})]}),t.form&&e.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-[11px] text-center font-bold",children:t.form}),e.jsx("button",{type:"submit",disabled:!h||n,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl hover:bg-[#00aaff] transition-all shadow-lg shadow-[#00c2ff]/20 disabled:opacity-50 active:scale-[0.98] uppercase tracking-widest text-sm",children:n?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"Criar Conta"})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-white/5 w-full text-center",children:e.jsxs("p",{className:"text-gray-500 text-xs",children:["Já possui uma conta? ",e.jsx(C,{to:"/",className:"text-[#00c2ff] hover:underline font-bold ml-1",children:"ENTRAR"})]})})]}),D=()=>{const i=A(),d=F(),[l,m]=r.useState(""),[a,u]=r.useState(""),[o,p]=r.useState(""),[t,n]=r.useState(!1),[h,x]=r.useState({}),[b,s]=r.useState(!1),[g,y]=r.useState(!1),[j,k]=r.useState(null);r.useEffect(()=>{const f=new URLSearchParams(d.search).get("ref");f&&k(f);const c={};l&&!v.isValidEmail(l)&&(c.email=w.INVALID_FORMAT),a&&a.length<6&&(c.password=w.PASSWORD_TOO_SHORT),o&&a!==o&&(c.confirm=w.PASSWORDS_DONT_MATCH),x(c),y(!!(l&&a&&o&&t)&&Object.keys(c).length===0)},[l,a,o,t,d]);const S=async N=>{if(N.preventDefault(),!!g){s(!0);try{await v.register(l,a,j||void 0),i("/verify-email")}catch(f){x(c=>({...c,form:f.message}))}finally{s(!1)}}};return e.jsxs("div",{className:"h-screen w-full overflow-y-auto bg-[#0c0f14] text-white font-['Inter'] flex items-center justify-center p-5",children:[e.jsx("header",{className:"fixed top-0 left-0 w-full flex justify-start p-5 z-10",children:e.jsx("button",{onClick:()=>i("/"),className:"bg-white/10 p-2 rounded-full border border-[#00c2ff] text-[#00c2ff]",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})})}),e.jsx(R,{email:l,setEmail:m,password:a,setPassword:u,confirmPassword:o,setConfirmPassword:p,termsAccepted:t,setTermsAccepted:n,errors:h,loading:b,isValid:g,referredBy:j,onSubmit:S})]})};export{D as Register};
