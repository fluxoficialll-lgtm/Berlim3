import{j as e,u as C,f as S,e as D,r as l,g as p}from"./index-BC19Iu_T.js";const T=({schedules:c,channels:t,onAddClick:d,onDelete:n})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("h2",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Postagens em Fila"}),e.jsx("button",{onClick:d,className:"bg-[#00c2ff] text-black px-4 py-2 rounded-xl font-black text-[10px] uppercase",children:"Programar"})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(a=>e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/10 flex items-center justify-center text-orange-400",children:e.jsx("i",{className:"fa-regular fa-clock"})}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-widest",children:["#",a.channelId==="general"?"Geral":t.find(r=>r.id===a.channelId)?.name]}),e.jsx("div",{className:"text-xs font-bold",children:new Date(a.scheduledTime).toLocaleString()})]})]}),e.jsx("button",{onClick:()=>n(a.id),className:"text-red-400 p-2",children:e.jsx("i",{className:"fa-solid fa-trash-can text-sm"})})]}),e.jsxs("p",{className:"text-sm text-gray-300 italic",children:['"',a.text,'"']})]},a.id)),c.length===0&&e.jsxs("div",{className:"text-center py-20 opacity-30",children:[e.jsx("i",{className:"fa-solid fa-calendar-plus text-5xl mb-4"}),e.jsx("p",{className:"text-sm font-bold",children:"Fila de agendamento vazia."})]})]})]}),M=()=>{const c=C(),{id:t}=S(),{showConfirm:d}=D(),[n,a]=l.useState([]),[r,j]=l.useState([]),[b,o]=l.useState(!1),[x,g]=l.useState(""),[m,N]=l.useState(""),[u,w]=l.useState(""),[f,v]=l.useState("general");l.useEffect(()=>{if(t){const s=p.getGroupById(t);s&&(a(s.scheduledMessages||[]),j(s.channels||[]))}},[t]);const k=()=>{if(!x||!m||!u)return;const s=new Date(`${m}T${u}`).getTime(),i=[{id:Date.now().toString(),channelId:f,text:x,scheduledTime:s,isSent:!1},...n];a(i),p.updateGroup({id:t,scheduledMessages:i}),o(!1),g("")},y=async s=>{if(await d("Cancelar Agendamento?")){const h=n.filter(i=>i.id!==s);a(h),p.updateGroup({id:t,scheduledMessages:h})}};return e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[e.jsx("button",{onClick:()=>c(`/group-settings/${t}`),className:"mr-4 text-white text-xl",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"font-bold",children:"Agendamentos"})]}),e.jsx("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-10 no-scrollbar",children:e.jsx(T,{schedules:n,channels:r,onAddClick:()=>o(!0),onDelete:y})}),b&&e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center p-6 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-[#1a1e26] p-8 rounded-3xl w-full max-w-sm border border-white/10 shadow-2xl animate-pop-in",children:[e.jsx("h3",{className:"text-lg font-black mb-6 uppercase tracking-wider text-center",children:"Programar Post"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"ConteÃºdo da Mensagem"}),e.jsx("textarea",{className:"input-field",value:x,onChange:s=>g(s.target.value),placeholder:"O que deseja postar?",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Data"}),e.jsx("input",{type:"date",className:"input-field",value:m,onChange:s=>N(s.target.value),style:{colorScheme:"dark"}})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{children:"Hora"}),e.jsx("input",{type:"time",className:"input-field",value:u,onChange:s=>w(s.target.value),style:{colorScheme:"dark"}})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("label",{children:"Destino"}),e.jsxs("select",{className:"input-field uppercase text-[10px] font-black",value:f,onChange:s=>v(s.target.value),children:[e.jsx("option",{value:"general",children:"# GERAL"}),r.map(s=>e.jsxs("option",{value:s.id,children:["# ",s.name.toUpperCase()]},s.id))]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsx("button",{className:"flex-1 py-4 bg-white/5 text-gray-400 font-bold rounded-2xl uppercase text-xs",onClick:()=>o(!1),children:"Cancelar"}),e.jsx("button",{className:"flex-1 py-4 bg-[#00c2ff] text-black font-black rounded-2xl uppercase text-xs shadow-lg shadow-[#00c2ff]/20",onClick:k,children:"Programar"})]})]})})]})};export{M as GroupSchedule};
