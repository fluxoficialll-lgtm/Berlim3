import{r as e,g as s,j as t,u as a,f as i}from"./index-CipjSFYz.js";const r=({log:e})=>{return t.jsxs("div",{className:"relative pl-6 border-l border-white/10 py-1",children:[t.jsx("div",{className:"absolute left-[-5px] top-2 w-2.5 h-2.5 rounded-full bg-[#00c2ff] shadow-[0_0_10px_#00c2ff]"}),t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("span",{className:"text-[11px] font-bold text-[#00c2ff] uppercase tracking-tighter",children:e.action}),t.jsx("span",{className:"text-[10px] text-gray-600",children:(s=e.timestamp,new Date(s).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}))})]}),t.jsx("p",{className:"text-sm text-white/90 font-medium mb-1",children:e.target}),t.jsxs("div",{className:"text-[10px] text-gray-500",children:["Por: ",t.jsx("strong",{className:"text-white/60",children:e.adminName})]})]});var s},l=()=>t.jsx("div",{className:"text-center py-10 text-gray-600 italic text-xs",children:"Nenhum log de auditoria disponível para este período."}),d=({logs:e})=>t.jsx("div",{className:"space-y-4",children:e.length>0?e.map(e=>t.jsx(r,{log:e},e.id)):t.jsx(l,{})}),c=()=>{const r=a(),{id:l}=i(),{logs:c,loading:n}=(t=>{const[a,i]=e.useState([]),[r,l]=e.useState(!0),d=()=>{if(t){l(!0);try{const e=s.getGroupById(t);if(e){const s=e.auditLogs||[{id:"1",adminId:"1",adminName:"Sistema Flux",action:"Criação do Grupo",target:"Estrutura inicial do grupo configurada",timestamp:Date.now()-72e5}];i(s.sort((e,s)=>s.timestamp-e.timestamp))}}catch(e){}finally{l(!1)}}};return e.useEffect(()=>{d()},[t]),{logs:a,loading:r,refresh:d}})(l);return t.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[t.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[t.jsx("button",{onClick:()=>r(`/group-settings/${l}`),className:"mr-4 text-white text-xl p-2 hover:bg-white/5 rounded-full transition-all",children:t.jsx("i",{className:"fa-solid fa-arrow-left"})}),t.jsx("h1",{className:"font-bold",children:"Logs de Auditoria"})]}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-10 no-scrollbar",children:[n?t.jsx("div",{className:"flex justify-center py-20",children:t.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-2xl text-[#00c2ff]"})}):t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 shadow-2xl animate-fade-in",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-400",children:t.jsx("i",{className:"fa-solid fa-list-check"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-bold",children:"Transparência Administrativa"}),t.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest",children:"Histórico de ações recentes"})]})]}),t.jsx(d,{logs:c})]}),t.jsx("div",{className:"mt-8 bg-blue-500/10 border border-blue-500/20 p-5 rounded-2xl",children:t.jsx("p",{className:"text-[11px] text-blue-300 leading-relaxed italic text-center",children:'"Logs de auditoria são imutáveis e essenciais para a segurança de grupos com múltiplos moderadores."'})})]})]})};export{c as GroupAuditLogs};
