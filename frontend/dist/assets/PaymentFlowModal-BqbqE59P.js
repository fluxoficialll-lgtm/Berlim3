import{R as C,r as j,j as e,c as $,w as W,D as ge,U as Ne,u as ye}from"./index-BC19Iu_T.js";import{c as je}from"./currencyService-BC2Bcej_.js";import{v as te}from"./VipSalesTracker-FD1TTkOP.js";import{p as K,s as J}from"./paypalService-Dk5je5dH.js";import{P as we}from"./PurchaseIntention-CwMn_lv1.js";var ke=Object.defineProperty,Q=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,Z=(l,o,i)=>o in l?ke(l,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[o]=i,q=(l,o)=>{for(var i in o||(o={}))ae.call(o,i)&&Z(l,i,o[i]);if(Q)for(var i of Q(o))se.call(o,i)&&Z(l,i,o[i]);return l},X=(l,o)=>{var i={};for(var c in l)ae.call(l,c)&&o.indexOf(c)<0&&(i[c]=l[c]);if(l!=null&&Q)for(var c of Q(l))o.indexOf(c)<0&&se.call(l,c)&&(i[c]=l[c]);return i};var _;(l=>{const o=class y{constructor(t,s,a,r){if(this.version=t,this.errorCorrectionLevel=s,this.modules=[],this.isFunction=[],t<y.MIN_VERSION||t>y.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let n=[];for(let u=0;u<this.size;u++)n.push(!1);for(let u=0;u<this.size;u++)this.modules.push(n.slice()),this.isFunction.push(n.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(a);if(this.drawCodewords(p),r==-1){let u=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const b=this.getPenaltyScore();b<u&&(r=g,u=b),this.applyMask(g)}}f(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}static encodeText(t,s){const a=l.QrSegment.makeSegments(t);return y.encodeSegments(a,s)}static encodeBinary(t,s){const a=l.QrSegment.makeBytes(t);return y.encodeSegments([a],s)}static encodeSegments(t,s,a=1,r=40,n=-1,p=!0){if(!(y.MIN_VERSION<=a&&a<=r&&r<=y.MAX_VERSION)||n<-1||n>7)throw new RangeError("Invalid value");let u,g;for(u=a;;u++){const N=y.getNumDataCodewords(u,s)*8,w=h.getTotalBits(t,u);if(w<=N){g=w;break}if(u>=r)throw new RangeError("Data too long")}for(const N of[y.Ecc.MEDIUM,y.Ecc.QUARTILE,y.Ecc.HIGH])p&&g<=y.getNumDataCodewords(u,N)*8&&(s=N);let b=[];for(const N of t){i(N.mode.modeBits,4,b),i(N.numChars,N.mode.numCharCountBits(u),b);for(const w of N.getData())b.push(w)}f(b.length==g);const k=y.getNumDataCodewords(u,s)*8;f(b.length<=k),i(0,Math.min(4,k-b.length),b),i(0,(8-b.length%8)%8,b),f(b.length%8==0);for(let N=236;b.length<k;N^=253)i(N,8,b);let x=[];for(;x.length*8<b.length;)x.push(0);return b.forEach((N,w)=>x[w>>>3]|=N<<7-(w&7)),new y(u,s,x,n)}getModule(t,s){return 0<=t&&t<this.size&&0<=s&&s<this.size&&this.modules[s][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),s=t.length;for(let a=0;a<s;a++)for(let r=0;r<s;r++)a==0&&r==0||a==0&&r==s-1||a==s-1&&r==0||this.drawAlignmentPattern(t[a],t[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const s=this.errorCorrectionLevel.formatBits<<3|t;let a=s;for(let n=0;n<10;n++)a=a<<1^(a>>>9)*1335;const r=(s<<10|a)^21522;f(r>>>15==0);for(let n=0;n<=5;n++)this.setFunctionModule(8,n,c(r,n));this.setFunctionModule(8,7,c(r,6)),this.setFunctionModule(8,8,c(r,7)),this.setFunctionModule(7,8,c(r,8));for(let n=9;n<15;n++)this.setFunctionModule(14-n,8,c(r,n));for(let n=0;n<8;n++)this.setFunctionModule(this.size-1-n,8,c(r,n));for(let n=8;n<15;n++)this.setFunctionModule(8,this.size-15+n,c(r,n));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let a=0;a<12;a++)t=t<<1^(t>>>11)*7973;const s=this.version<<12|t;f(s>>>18==0);for(let a=0;a<18;a++){const r=c(s,a),n=this.size-11+a%3,p=Math.floor(a/3);this.setFunctionModule(n,p,r),this.setFunctionModule(p,n,r)}}drawFinderPattern(t,s){for(let a=-4;a<=4;a++)for(let r=-4;r<=4;r++){const n=Math.max(Math.abs(r),Math.abs(a)),p=t+r,u=s+a;0<=p&&p<this.size&&0<=u&&u<this.size&&this.setFunctionModule(p,u,n!=2&&n!=4)}}drawAlignmentPattern(t,s){for(let a=-2;a<=2;a++)for(let r=-2;r<=2;r++)this.setFunctionModule(t+r,s+a,Math.max(Math.abs(r),Math.abs(a))!=1)}setFunctionModule(t,s,a){this.modules[s][t]=a,this.isFunction[s][t]=!0}addEccAndInterleave(t){const s=this.version,a=this.errorCorrectionLevel;if(t.length!=y.getNumDataCodewords(s,a))throw new RangeError("Invalid argument");const r=y.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][s],n=y.ECC_CODEWORDS_PER_BLOCK[a.ordinal][s],p=Math.floor(y.getNumRawDataModules(s)/8),u=r-p%r,g=Math.floor(p/r);let b=[];const k=y.reedSolomonComputeDivisor(n);for(let N=0,w=0;N<r;N++){let S=t.slice(w,w+g-n+(N<u?0:1));w+=S.length;const A=y.reedSolomonComputeRemainder(S,k);N<u&&S.push(0),b.push(S.concat(A))}let x=[];for(let N=0;N<b[0].length;N++)b.forEach((w,S)=>{(N!=g-n||S>=u)&&x.push(w[N])});return f(x.length==p),x}drawCodewords(t){if(t.length!=Math.floor(y.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let s=0;for(let a=this.size-1;a>=1;a-=2){a==6&&(a=5);for(let r=0;r<this.size;r++)for(let n=0;n<2;n++){const p=a-n,g=(a+1&2)==0?this.size-1-r:r;!this.isFunction[g][p]&&s<t.length*8&&(this.modules[g][p]=c(t[s>>>3],7-(s&7)),s++)}}f(s==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let s=0;s<this.size;s++)for(let a=0;a<this.size;a++){let r;switch(t){case 0:r=(a+s)%2==0;break;case 1:r=s%2==0;break;case 2:r=a%3==0;break;case 3:r=(a+s)%3==0;break;case 4:r=(Math.floor(a/3)+Math.floor(s/2))%2==0;break;case 5:r=a*s%2+a*s%3==0;break;case 6:r=(a*s%2+a*s%3)%2==0;break;case 7:r=((a+s)%2+a*s%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[s][a]&&r&&(this.modules[s][a]=!this.modules[s][a])}}getPenaltyScore(){let t=0;for(let n=0;n<this.size;n++){let p=!1,u=0,g=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[n][b]==p?(u++,u==5?t+=y.PENALTY_N1:u>5&&t++):(this.finderPenaltyAddHistory(u,g),p||(t+=this.finderPenaltyCountPatterns(g)*y.PENALTY_N3),p=this.modules[n][b],u=1);t+=this.finderPenaltyTerminateAndCount(p,u,g)*y.PENALTY_N3}for(let n=0;n<this.size;n++){let p=!1,u=0,g=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][n]==p?(u++,u==5?t+=y.PENALTY_N1:u>5&&t++):(this.finderPenaltyAddHistory(u,g),p||(t+=this.finderPenaltyCountPatterns(g)*y.PENALTY_N3),p=this.modules[b][n],u=1);t+=this.finderPenaltyTerminateAndCount(p,u,g)*y.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let p=0;p<this.size-1;p++){const u=this.modules[n][p];u==this.modules[n][p+1]&&u==this.modules[n+1][p]&&u==this.modules[n+1][p+1]&&(t+=y.PENALTY_N2)}let s=0;for(const n of this.modules)s=n.reduce((p,u)=>p+(u?1:0),s);const a=this.size*this.size,r=Math.ceil(Math.abs(s*20-a*10)/a)-1;return f(0<=r&&r<=9),t+=r*y.PENALTY_N4,f(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,s=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let a=[6];for(let r=this.size-7;a.length<t;r-=s)a.splice(1,0,r);return a}}static getNumRawDataModules(t){if(t<y.MIN_VERSION||t>y.MAX_VERSION)throw new RangeError("Version number out of range");let s=(16*t+128)*t+64;if(t>=2){const a=Math.floor(t/7)+2;s-=(25*a-10)*a-55,t>=7&&(s-=36)}return f(208<=s&&s<=29648),s}static getNumDataCodewords(t,s){return Math.floor(y.getNumRawDataModules(t)/8)-y.ECC_CODEWORDS_PER_BLOCK[s.ordinal][t]*y.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let s=[];for(let r=0;r<t-1;r++)s.push(0);s.push(1);let a=1;for(let r=0;r<t;r++){for(let n=0;n<s.length;n++)s[n]=y.reedSolomonMultiply(s[n],a),n+1<s.length&&(s[n]^=s[n+1]);a=y.reedSolomonMultiply(a,2)}return s}static reedSolomonComputeRemainder(t,s){let a=s.map(r=>0);for(const r of t){const n=r^a.shift();a.push(0),s.forEach((p,u)=>a[u]^=y.reedSolomonMultiply(p,n))}return a}static reedSolomonMultiply(t,s){if(t>>>8||s>>>8)throw new RangeError("Byte out of range");let a=0;for(let r=7;r>=0;r--)a=a<<1^(a>>>7)*285,a^=(s>>>r&1)*t;return f(a>>>8==0),a}finderPenaltyCountPatterns(t){const s=t[1];f(s<=this.size*3);const a=s>0&&t[2]==s&&t[3]==s*3&&t[4]==s&&t[5]==s;return(a&&t[0]>=s*4&&t[6]>=s?1:0)+(a&&t[6]>=s*4&&t[0]>=s?1:0)}finderPenaltyTerminateAndCount(t,s,a){return t&&(this.finderPenaltyAddHistory(s,a),s=0),s+=this.size,this.finderPenaltyAddHistory(s,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(t,s){s[0]==0&&(t+=this.size),s.pop(),s.unshift(t)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l.QrCode=o;function i(m,t,s){if(t<0||t>31||m>>>t)throw new RangeError("Value out of range");for(let a=t-1;a>=0;a--)s.push(m>>>a&1)}function c(m,t){return(m>>>t&1)!=0}function f(m){if(!m)throw new Error("Assertion error")}const d=class v{constructor(t,s,a){if(this.mode=t,this.numChars=s,this.bitData=a,s<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}static makeBytes(t){let s=[];for(const a of t)i(a,8,s);return new v(v.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!v.isNumeric(t))throw new RangeError("String contains non-numeric characters");let s=[];for(let a=0;a<t.length;){const r=Math.min(t.length-a,3);i(parseInt(t.substring(a,a+r),10),r*3+1,s),a+=r}return new v(v.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){if(!v.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s=[],a;for(a=0;a+2<=t.length;a+=2){let r=v.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a))*45;r+=v.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a+1)),i(r,11,s)}return a<t.length&&i(v.ALPHANUMERIC_CHARSET.indexOf(t.charAt(a)),6,s),new v(v.Mode.ALPHANUMERIC,t.length,s)}static makeSegments(t){return t==""?[]:v.isNumeric(t)?[v.makeNumeric(t)]:v.isAlphanumeric(t)?[v.makeAlphanumeric(t)]:[v.makeBytes(v.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)i(t,8,s);else if(t<16384)i(2,2,s),i(t,14,s);else if(t<1e6)i(6,3,s),i(t,21,s);else throw new RangeError("ECI assignment value out of range");return new v(v.Mode.ECI,0,s)}static isNumeric(t){return v.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return v.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,s){let a=0;for(const r of t){const n=r.mode.numCharCountBits(s);if(r.numChars>=1<<n)return 1/0;a+=4+n+r.bitData.length}return a}static toUtf8ByteArray(t){t=encodeURI(t);let s=[];for(let a=0;a<t.length;a++)t.charAt(a)!="%"?s.push(t.charCodeAt(a)):(s.push(parseInt(t.substring(a+1,a+3),16)),a+=2);return s}};d.NUMERIC_REGEX=/^[0-9]*$/,d.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,d.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=d;l.QrSegment=d})(_||(_={}));(l=>{(o=>{const i=class{constructor(f,d){this.ordinal=f,this.formatBits=d}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),o.Ecc=i})(l.QrCode||(l.QrCode={}))})(_||(_={}));(l=>{(o=>{const i=class{constructor(f,d){this.modeBits=f,this.numBitsCharCount=d}numCharCountBits(f){return this.numBitsCharCount[Math.floor((f+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),o.Mode=i})(l.QrSegment||(l.QrSegment={}))})(_||(_={}));var T=_;var ve={L:T.QrCode.Ecc.LOW,M:T.QrCode.Ecc.MEDIUM,Q:T.QrCode.Ecc.QUARTILE,H:T.QrCode.Ecc.HIGH},ie=128,re="L",le="#FFFFFF",ne="#000000",oe=!1,ce=1,Ce=4,Ee=0,Se=.1;function de(l,o=0){const i=[];return l.forEach(function(c,f){let d=null;c.forEach(function(h,m){if(!h&&d!==null){i.push(`M${d+o} ${f+o}h${m-d}v1H${d+o}z`),d=null;return}if(m===c.length-1){if(!h)return;d===null?i.push(`M${m+o},${f+o} h1v1H${m+o}z`):i.push(`M${d+o},${f+o} h${m+1-d}v1H${d+o}z`);return}h&&d===null&&(d=m)})}),i.join("")}function ue(l,o){return l.slice().map((i,c)=>c<o.y||c>=o.y+o.h?i:i.map((f,d)=>d<o.x||d>=o.x+o.w?f:!1))}function Pe(l,o,i,c){if(c==null)return null;const f=l.length+i*2,d=Math.floor(o*Se),h=f/o,m=(c.width||d)*h,t=(c.height||d)*h,s=c.x==null?l.length/2-m/2:c.x*h,a=c.y==null?l.length/2-t/2:c.y*h,r=c.opacity==null?1:c.opacity;let n=null;if(c.excavate){let u=Math.floor(s),g=Math.floor(a),b=Math.ceil(m+s-u),k=Math.ceil(t+a-g);n={x:u,y:g,w:b,h:k}}const p=c.crossOrigin;return{x:s,y:a,h:t,w:m,excavation:n,opacity:r,crossOrigin:p}}function Ae(l,o){return o!=null?Math.max(Math.floor(o),0):l?Ce:Ee}function fe({value:l,level:o,minVersion:i,includeMargin:c,marginSize:f,imageSettings:d,size:h,boostLevel:m}){let t=C.useMemo(()=>{const u=(Array.isArray(l)?l:[l]).reduce((g,b)=>(g.push(...T.QrSegment.makeSegments(b)),g),[]);return T.QrCode.encodeSegments(u,ve[o],i,void 0,void 0,m)},[l,o,i,m]);const{cells:s,margin:a,numCells:r,calculatedImageSettings:n}=C.useMemo(()=>{let p=t.getModules();const u=Ae(c,f),g=p.length+u*2,b=Pe(p,h,u,d);return{cells:p,margin:u,numCells:g,calculatedImageSettings:b}},[t,h,d,c,f]);return{qrcode:t,margin:a,cells:s,numCells:r,calculatedImageSettings:n}}var Ie=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Me=C.forwardRef(function(o,i){const c=o,{value:f,size:d=ie,level:h=re,bgColor:m=le,fgColor:t=ne,includeMargin:s=oe,minVersion:a=ce,boostLevel:r,marginSize:n,imageSettings:p}=c,g=X(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=g,k=X(g,["style"]),x=p?.src,N=C.useRef(null),w=C.useRef(null),S=C.useCallback(R=>{N.current=R,typeof i=="function"?i(R):i&&(i.current=R)},[i]),[A,O]=C.useState(!1),{margin:I,cells:M,numCells:D,calculatedImageSettings:E}=fe({value:f,level:h,minVersion:a,boostLevel:r,includeMargin:s,marginSize:n,imageSettings:p,size:d});C.useEffect(()=>{if(N.current!=null){const R=N.current,P=R.getContext("2d");if(!P)return;let z=M;const B=w.current,G=E!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;G&&E.excavation!=null&&(z=ue(M,E.excavation));const V=window.devicePixelRatio||1;R.height=R.width=d*V;const Y=d/D*V;P.scale(Y,Y),P.fillStyle=m,P.fillRect(0,0,D,D),P.fillStyle=t,Ie?P.fill(new Path2D(de(z,I))):M.forEach(function(me,xe){me.forEach(function(he,be){he&&P.fillRect(be+I,xe+I,1,1)})}),E&&(P.globalAlpha=E.opacity),G&&P.drawImage(B,E.x+I,E.y+I,E.w,E.h)}}),C.useEffect(()=>{O(!1)},[x]);const U=q({height:d,width:d},b);let L=null;return x!=null&&(L=C.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{O(!0)},ref:w,crossOrigin:E?.crossOrigin})),C.createElement(C.Fragment,null,C.createElement("canvas",q({style:U,height:d,width:d,ref:S,role:"img"},k)),L)});Me.displayName="QRCodeCanvas";var F=C.forwardRef(function(o,i){const c=o,{value:f,size:d=ie,level:h=re,bgColor:m=le,fgColor:t=ne,includeMargin:s=oe,minVersion:a=ce,boostLevel:r,title:n,marginSize:p,imageSettings:u}=c,g=X(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:k,numCells:x,calculatedImageSettings:N}=fe({value:f,level:h,minVersion:a,boostLevel:r,includeMargin:s,marginSize:p,imageSettings:u,size:d});let w=k,S=null;u!=null&&N!=null&&(N.excavation!=null&&(w=ue(k,N.excavation)),S=C.createElement("image",{href:u.src,height:N.h,width:N.w,x:N.x+b,y:N.y+b,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const A=de(w,b);return C.createElement("svg",q({height:d,width:d,viewBox:`0 0 ${x} ${x}`,ref:i,role:"img"},g),!!n&&C.createElement("title",null,n),C.createElement("path",{fill:m,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),C.createElement("path",{fill:t,d:A,shapeRendering:"crispEdges"}),S)});F.displayName="QRCodeSVG";const Re=({group:l,onSuccess:o,onError:i,onTransactionId:c})=>{const[f,d]=j.useState("pix"),[h,m]=j.useState(""),[t,s]=j.useState(void 0),[a,r]=j.useState(""),[n,p]=j.useState(!1),[u,g]=j.useState(!1),[b,k]=j.useState(!1),x=j.useRef(null);j.useEffect(()=>()=>{x.current&&clearInterval(x.current)},[]);const N=async A=>{g(!0),d(A);const O=$.getCurrentUser(),I=localStorage.getItem("guest_email_capture");if(!O&&!I){i("E-mail não identificado. Por favor, recarregue a página."),g(!1);return}const M=O?.email||I;try{const D=l.currency||"BRL",E=parseFloat(l.price||"0");let U=E,L=null;D!=="BRL"?(L=await je.convert(E,D,"BRL"),U=L.amount):L={amount:E,currency:"BRL",symbol:"R$",formatted:`R$ ${E.toFixed(2)}`},te.trackAddPaymentInfo(l,A,L);const R=l.creatorEmail||l.creatorId,P={...l,price:U.toString(),currency:"BRL",creatorEmail:R},{pixCode:z,identifier:B,qrCodeImage:G,boletoUrl:V}=await W.createPayment({email:M},P,A);m(z),s(G),r(V),c(B),g(!1),k(!0),w(B,R,M)}catch(D){console.error("Generate Payment Error:",D),i(D.message||"Erro ao gerar pagamento."),g(!1)}},w=(A,O,I)=>{x.current&&clearInterval(x.current),x.current=setInterval(async()=>{try{const M=await W.checkTransactionStatus(A,O,l.id,I);(M.status==="completed"||M.status==="paid")&&(clearInterval(x.current),o())}catch{}},3e3)},S=async()=>{await navigator.clipboard.writeText(h),p(!0),setTimeout(()=>p(!1),2e3)};return!b&&!u?e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Escolha como pagar"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>N("pix"),className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-4 hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-[#00c2ff]/10 rounded-lg flex items-center justify-center text-[#00c2ff]",children:e.jsx("i",{className:"fa-solid fa-pix text-xl"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-sm",children:"Pix Instantâneo"}),e.jsx("div",{className:"text-[10px] text-gray-500",children:"Liberação imediata"})]}),e.jsx("i",{className:"fa-solid fa-chevron-right ml-auto text-gray-600 text-xs"})]}),e.jsxs("button",{onClick:()=>N("boleto"),className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-4 hover:bg-white/10 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-[#aaa]/10 rounded-lg flex items-center justify-center text-[#aaa]",children:e.jsx("i",{className:"fa-solid fa-barcode text-xl"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-sm",children:"Boleto Bancário"}),e.jsx("div",{className:"text-[10px] text-gray-500",children:"Compensação em até 48h"})]}),e.jsx("i",{className:"fa-solid fa-chevron-right ml-auto text-gray-600 text-xs"})]})]})]}):u?e.jsxs("div",{className:"py-10 text-center",children:[e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-3xl text-[#00c2ff] mb-2"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Gerando seu ",f==="pix"?"Pix":"Boleto","..."]})]}):e.jsxs("div",{className:"animate-fade-in",children:[f==="pix"?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-[#00c2ff] mb-2",children:"Pagar com Pix"}),e.jsx("div",{className:"bg-white p-2.5 rounded-xl mb-4 inline-block shadow-lg",children:t?e.jsx("img",{src:t,className:"w-[180px]",alt:"QR"}):e.jsx(F,{value:h,size:180})}),e.jsx("textarea",{readOnly:!0,className:"w-full bg-[#1a1f26] text-white p-3 rounded-lg text-[10px] font-mono border border-dashed border-[#00c2ff] h-20 resize-none mb-4 outline-none",value:h}),e.jsx("button",{onClick:S,className:"w-full py-3 bg-[#00c2ff] text-black rounded-lg font-bold shadow-lg",children:n?"CÓDIGO COPIADO!":"COPIAR CÓDIGO PIX"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Boleto Gerado"}),e.jsx("i",{className:"fa-solid fa-file-pdf text-6xl text-red-500 my-6"}),e.jsx("p",{className:"text-gray-400 text-xs mb-6 px-4",children:"Seu boleto foi gerado. Você pode pagar em qualquer banco ou casa lotérica."}),e.jsxs("button",{onClick:()=>window.open(a,"_blank"),className:"w-full py-4 bg-white text-black rounded-lg font-bold flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-download"})," ABRIR BOLETO (PDF)"]}),e.jsx("button",{onClick:()=>k(!1),className:"mt-4 text-[10px] text-[#00c2ff] underline",children:"Trocar método de pagamento"})]}),e.jsxs("div",{className:"text-[10px] text-gray-500 mt-6 animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Aguardando confirmação do banco..."]})]})},ee={paypal:{name:"PayPal",icon:"fa-brands fa-paypal",color:"#003087",accent:"#00cfff",msg:"Você será levado ao ambiente oficial do PayPal para concluir sua transação com segurança."},stripe:{name:"Stripe",icon:"fa-brands fa-stripe",color:"#635bff",accent:"#80e9ff",msg:"Conclua seu pagamento via Checkout Seguro Stripe. Seus dados estão protegidos por criptografia de ponta a ponta."},stripe_link:{name:"Stripe Link",icon:"fa-solid fa-link",color:"#00d66f",accent:"#ffffff",msg:"Finalize sua compra em 1-clique. O sistema enviará um código SMS para confirmar sua identidade na Stripe."},wallet:{name:"Apple / Google Pay",icon:"fa-solid fa-wallet",color:"#ffffff",accent:"#000000",msg:"Ativando carteira digital. Você usará a biometria ou senha do seu dispositivo para autorizar o pagamento."},generic:{name:"Gateway Seguro",icon:"fa-solid fa-shield-halved",color:"#00c2ff",accent:"#00ff82",msg:"Estamos preparando sua conexão segura com o provedor de pagamentos."}},pe=({provider:l,price:o,onConfirm:i,onBack:c,isLoading:f})=>{const d=ee[l]||ee.generic,h=l==="wallet";return e.jsxs("div",{className:"redirection-bridge animate-fade-in flex flex-col items-center",children:[e.jsx("style",{children:`
                .bridge-container {
                    width: 100%;
                    padding: 20px 10px;
                }
                .provider-shield {
                    width: 70px;
                    height: 70px;
                    background: ${h?"rgba(255,255,255,0.1)":d.color+"1a"};
                    border: 2px solid ${h?"rgba(255,255,255,0.2)":d.color+"44"};
                    border-radius: 22px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 32px;
                    color: ${h?"#fff":d.color};
                    margin: 0 auto 20px;
                    box-shadow: 0 10px 25px ${h?"rgba(0,0,0,0.2)":d.color+"22"};
                    position: relative;
                }
                .secure-badge {
                    position: absolute;
                    bottom: -8px;
                    background: #00ff82;
                    color: #000;
                    font-size: 8px;
                    font-weight: 900;
                    padding: 2px 8px;
                    border-radius: 20px;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    box-shadow: 0 4px 10px rgba(0,255,130,0.3);
                }
                .price-tag-bridge {
                    font-size: 28px;
                    font-weight: 900;
                    color: #fff;
                    margin-bottom: 8px;
                }
                .redirect-msg {
                    font-size: 13px;
                    color: #888;
                    line-height: 1.6;
                    padding: 0 20px;
                    margin-bottom: 30px;
                }
                .confirm-redirect-btn {
                    width: 100%;
                    padding: 18px;
                    background: ${h?"#fff":d.color};
                    color: ${h?"#000":"#fff"};
                    border: none;
                    border-radius: 16px;
                    font-weight: 800;
                    font-size: 15px;
                    text-transform: uppercase;
                    letter-spacing: 1px;
                    cursor: pointer;
                    transition: 0.3s;
                    box-shadow: 0 10px 30px ${h?"rgba(255,255,255,0.1)":d.color+"44"};
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 12px;
                }
                .confirm-redirect-btn:hover {
                    filter: brightness(1.1);
                    transform: translateY(-2px);
                }
                .confirm-redirect-btn:active {
                    transform: scale(0.98);
                }
                .back-link {
                    margin-top: 20px;
                    font-size: 11px;
                    font-weight: 800;
                    color: #444;
                    text-transform: uppercase;
                    letter-spacing: 2px;
                    cursor: pointer;
                    background: none;
                    border: none;
                    transition: 0.2s;
                }
                .back-link:hover { color: #fff; }
            `}),e.jsxs("div",{className:"bridge-container",children:[e.jsxs("div",{className:"provider-shield",children:[e.jsx("i",{className:d.icon}),e.jsxs("div",{className:"secure-badge",children:[e.jsx("i",{className:"fa-solid fa-lock mr-1"})," Protegido"]})]}),e.jsx("div",{className:"price-tag-bridge",children:o}),e.jsxs("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-6",children:["Total a pagar via ",d.name]}),e.jsx("p",{className:"redirect-msg",children:d.msg}),e.jsx("button",{className:"confirm-redirect-btn",onClick:i,disabled:f,children:f?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:h?"Pagar agora":"Confirmar e Ir"}),e.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})}),e.jsxs("button",{className:"back-link",onClick:c,children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Alterar Método"]})]})]})},De=({group:l,onSuccess:o,onError:i,onTransactionId:c,convertedPriceInfo:f})=>{const[d,h]=j.useState(null),[m,t]=j.useState(!1),s=j.useRef(null);j.useEffect(()=>()=>{s.current&&clearInterval(s.current)},[]);const a=async()=>{const p=$.getCurrentUserEmail()||localStorage.getItem("guest_email_capture");if(!p){i("E-mail necessário.");return}t(!0);try{const u=f?.amount||parseFloat(l.price||"0"),g=f?.currency||l.currency||"BRL";l.pixelId&&ge.trackInitiateCheckout(l.pixelId,{content_ids:[l.id],content_type:"product_group",content_name:l.name,value:u,currency:g},{email:p});const b={...l,price:u.toString(),currency:g},k=await K.createOrder(b,l.creatorEmail);k.approvalLink&&(c(k.id),h(k.approvalLink),n(k.id))}catch(u){i(u.message||"Erro ao iniciar PayPal.")}finally{t(!1)}},r=()=>{d?window.open(d,"_blank"):a()},n=p=>{s.current&&clearInterval(s.current),s.current=setInterval(async()=>{try{(await K.checkOrderStatus(p,l.creatorEmail)).status==="paid"&&(clearInterval(s.current),o())}catch{}},4e3)};return e.jsx(pe,{provider:"paypal",price:f?.formatted||"...",isLoading:m,onConfirm:r,onBack:()=>window.location.reload()})},Be=({data:l,onBack:o})=>{const[i,c]=j.useState(!1),f=l?.next_action?.pix_display_qr_code?.data||"MOCK_PIX_CODE_STRIPE_FLUX_2024",d=()=>{navigator.clipboard.writeText(f),c(!0),setTimeout(()=>c(!1),2e3)};return e.jsxs("div",{className:"animate-fade-in text-center py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:o,className:"text-gray-500 text-xs font-bold uppercase hover:text-white transition-colors",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," Voltar"]}),e.jsx("div",{className:"bg-[#00ff82]/10 text-[#00ff82] px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider border border-[#00ff82]/20",children:"Pix Stripe"})]}),e.jsx("div",{className:"bg-white p-3 rounded-2xl inline-block shadow-2xl mb-6",children:e.jsx(F,{value:f,size:200})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-black/40 border border-dashed border-[#00c2ff]/30 p-4 rounded-xl relative group",children:e.jsx("p",{className:"text-[9px] text-gray-500 font-mono break-all line-clamp-2",children:f})}),e.jsx("button",{onClick:d,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg transition-all active:scale-95",children:i?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-check mr-2"})," COPIADO!"]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fa-solid fa-copy mr-2"})," COPIAR CÓDIGO PIX"]})}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-600 font-bold uppercase animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Aguardando Aprovação"]})]})]})},Oe=({geo:l,onBack:o,onSuccess:i})=>{const[c,f]=j.useState(!1),[d,h]=j.useState("1"),m=l?.countryCode?.toUpperCase()||"BR",t=m==="BR"||m==="MX",s=j.useMemo(()=>m==="MX"?"Meses sin Intereses":"Parcelamento",[m]),a=r=>{r.preventDefault(),f(!0),setTimeout(()=>{f(!1),i()},2e3)};return e.jsxs("form",{onSubmit:a,className:"animate-fade-in text-left",children:[e.jsx("style",{children:`
                .stripe-input { width: 100%; background: #0c0f14; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 14px; color: #fff; font-size: 14px; outline: none; transition: 0.3s; }
                .stripe-input:focus { border-color: #00c2ff; }
                .stripe-select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23666'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1.25rem; }
            `}),e.jsxs("button",{type:"button",onClick:o,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[e.jsx("i",{className:"fa-solid fa-arrow-left"})," Voltar aos métodos"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Número do Cartão"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"stripe-input",placeholder:"0000 0000 0000 0000",required:!0}),e.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-50",children:[e.jsx("i",{className:"fa-brands fa-cc-visa"}),e.jsx("i",{className:"fa-brands fa-cc-mastercard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Validade"}),e.jsx("input",{className:"stripe-input",placeholder:"MM/AA",required:!0})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"CVC"}),e.jsx("input",{className:"stripe-input",placeholder:"123",required:!0})]})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Nome no Cartão"}),e.jsx("input",{className:"stripe-input",placeholder:"NOME COMO ESCRITO",required:!0})]}),t&&e.jsxs("div",{className:"input-group mb-0 animate-slide-up",children:[e.jsx("label",{className:"text-[9px] font-black text-[#00c2ff] uppercase tracking-widest mb-1 block",children:s}),e.jsxs("select",{className:"stripe-input stripe-select",value:d,onChange:r=>h(r.target.value),children:[e.jsx("option",{value:"1",children:"1x à vista"}),e.jsx("option",{value:"2",children:"2x sem juros"}),e.jsx("option",{value:"3",children:"3x sem juros"}),e.jsx("option",{value:"4",children:"4x"}),e.jsx("option",{value:"5",children:"5x"}),e.jsx("option",{value:"6",children:"6x"}),e.jsx("option",{value:"7",children:"7x"}),e.jsx("option",{value:"8",children:"8x"}),e.jsx("option",{value:"9",children:"9x"}),e.jsx("option",{value:"10",children:"10x"}),e.jsx("option",{value:"11",children:"11x"}),e.jsx("option",{value:"12",children:"12x"})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:c?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM PAGAMENTO"})]})]})},Le=({onBack:l,data:o})=>e.jsxs("div",{className:"animate-fade-in text-center",children:[e.jsxs("button",{onClick:l,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Voltar"]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Oxxo_Logo.svg/1200px-Oxxo_Logo.svg.png",className:"h-8 mx-auto mb-6",alt:"OXXO"}),e.jsxs("div",{className:"bg-black/5 p-4 rounded-xl mb-6",children:[e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-2",children:"Número de Referencia"}),e.jsx("div",{className:"text-xl font-black text-black tracking-widest",children:o?.next_action?.oxxo_display_details?.number||"0000-0000-0000-00"})]}),e.jsx("div",{className:"w-full h-12 bg-black/10 rounded flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-barcode text-4xl text-black"})})]}),e.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:"Paga en efectivo en cualquier tienda OXXO. Tu acceso será liberado automáticamente tras la confirmación."})]}),_e=({onBack:l,onSuccess:o})=>{const[i,c]=j.useState(!1),f=d=>{d.preventDefault(),c(!0),setTimeout(()=>{c(!1),o()},2e3)};return e.jsxs("form",{onSubmit:f,className:"animate-fade-in text-left",children:[e.jsxs("button",{type:"button",onClick:l,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Voltar"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl mb-4",children:e.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed",children:"Ao fornecer seu IBAN, você autoriza a Stripe a enviar instruções ao seu banco para debitar sua conta."})}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Nome do Titular"}),e.jsx("input",{className:"input-field",placeholder:"Full Name",required:!0})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"IBAN"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fa-solid fa-university absolute left-4 top-1/2 -translate-y-1/2 text-gray-600"}),e.jsx("input",{className:"input-field pl-11",placeholder:"DE00 0000 0000...",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM SEPA DEBIT"})]})]})},Te=({data:l,onBack:o})=>{const[i,c]=j.useState(!1),f=l?.next_action?.display_details?.barcode_number||"00090.00005 00000.000005 00000.000005 0 000000000000",d=()=>{navigator.clipboard.writeText(f),c(!0),setTimeout(()=>c(!1),2e3)};return e.jsxs("div",{className:"animate-fade-in text-center py-2",children:[e.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6 hover:text-white transition-colors",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Alterar Método"]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b5/Logo_Boleto_Simples.png",className:"h-6",alt:"Boleto"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Vencimento em 3 dias"})]}),e.jsxs("div",{className:"bg-black/5 p-4 rounded-xl mb-4 text-left",children:[e.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase block mb-1",children:"Linha Digitável"}),e.jsx("div",{className:"text-[11px] font-mono text-black break-all leading-relaxed font-black",children:f})]}),e.jsx("div",{className:"w-full h-12 bg-black/5 rounded flex items-center justify-center opacity-40",children:e.jsx("i",{className:"fa-solid fa-barcode text-5xl text-black"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:d,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg transition-all active:scale-95",children:i?"CÓDIGO COPIADO!":"COPIAR LINHA DIGITÁVEL"}),e.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:["Seu acesso será liberado em até ",e.jsx("span",{className:"text-white font-bold",children:"24h úteis"})," após o pagamento do boleto."]})]})]})},Fe=({onBack:l,onSuccess:o})=>{const[i,c]=j.useState(!1),f=d=>{d.preventDefault(),c(!0),setTimeout(()=>{c(!1),o()},2500)};return e.jsxs("form",{onSubmit:f,className:"animate-fade-in text-left",children:[e.jsxs("button",{type:"button",onClick:l,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white transition-colors",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," UK Bank Transfer"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed uppercase tracking-wider",children:"BACS Direct Debit Protection"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Your payments are protected by the Direct Debit Guarantee."})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Holder Name"}),e.jsx("input",{className:"input-field",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Sort Code"}),e.jsx("input",{className:"input-field",placeholder:"00-00-00",required:!0})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),e.jsx("input",{className:"input-field",placeholder:"12345678",required:!0,maxLength:8})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM BACS DEBIT"})]})]})},Ue=({data:l,onBack:o})=>{const[i,c]=j.useState(!1),f=l?.next_action?.upi_display_qr_code?.vpa||"fluxplatform@upi",d=()=>{navigator.clipboard.writeText(f),c(!0),setTimeout(()=>c(!1),2e3)};return e.jsxs("div",{className:"animate-fade-in text-center py-2",children:[e.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," UPI Payment"]}),e.jsx("div",{className:"bg-white p-3 rounded-2xl inline-block shadow-2xl mb-6",children:e.jsx(F,{value:`upi://pay?pa=${f}`,size:180})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-black/40 border border-white/10 p-4 rounded-xl text-left",children:[e.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block mb-1",children:"VPA / UPI ID"}),e.jsx("div",{className:"text-sm font-black text-white",children:f})]}),e.jsx("button",{onClick:d,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg active:scale-95 transition-all",children:i?"ID COPIED!":"COPY UPI ID"}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-600 font-bold uppercase animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),"Waiting for app confirmation"]})]})]})},ze=({data:l,onBack:o})=>e.jsxs("div",{className:"animate-fade-in text-center py-2",children:[e.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Konbini Pay"]}),e.jsxs("div",{className:"bg-white rounded-[32px] p-8 mb-6 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-center gap-4 mb-8 opacity-60 grayscale",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/7-eleven_logo.svg/1200px-7-eleven_logo.svg.png",className:"h-6",alt:"7-11"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Lawson_logo.svg/1200px-Lawson_logo.svg.png",className:"h-6",alt:"Lawson"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-1",children:"Confirmation Number"}),e.jsx("div",{className:"text-2xl font-black text-black tracking-widest",children:l?.next_action?.konbini_display_details?.confirmation_number||"000-0000"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-1",children:"Payment Code"}),e.jsx("div",{className:"text-2xl font-black text-black tracking-widest",children:l?.next_action?.konbini_display_details?.payment_code||"1234567890"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-clock text-gray-400 text-xs"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Expires in 12 hours"})]})]}),e.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:"Please visit any major convenience store in Japan and provide these codes at the terminal."})]}),Ge=({data:l,onBack:o})=>{const[i,c]=j.useState(!1),f=l?.next_action?.paynow_display_qr_code?.data||"MOCK_PAYNOW_SGD_DATA_2024";return e.jsxs("div",{className:"animate-fade-in text-center py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:o,className:"text-gray-500 text-xs font-bold uppercase hover:text-white transition-colors",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," Back"]}),e.jsx("div",{className:"bg-[#635bff]/10 text-[#635bff] px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider border border-[#635bff]/20",children:"PayNow SG"})]}),e.jsx("div",{className:"bg-white p-4 rounded-[32px] inline-block shadow-2xl mb-8 border-4 border-[#635bff1a]",children:e.jsx(F,{value:f,size:220})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"px-6",children:[e.jsx("h3",{className:"text-white font-black text-lg mb-1",children:"Scan to Pay"}),e.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:"Open your banking app, select PayNow, and scan this QR to complete your SGD payment."})]}),e.jsxs("div",{className:"bg-[#1a1e26] p-4 rounded-2xl border border-white/5 flex items-center justify-center gap-3 animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-[#00c2ff] text-sm"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Waiting for bank confirm"})]})]}),e.jsx("div",{className:"mt-8 opacity-20 grayscale flex justify-center",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/d/d1/PayNow_logo.png/1200px-PayNow_logo.png",className:"h-4",alt:"PayNow"})})]})},Ve=({onBack:l,onSuccess:o})=>{const[i,c]=j.useState(!1),f=d=>{d.preventDefault(),c(!0),setTimeout(()=>{c(!1),o()},2e3)};return e.jsxs("form",{onSubmit:f,className:"animate-fade-in text-left",children:[e.jsxs("button",{type:"button",onClick:l,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," US Bank Account"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl mb-4",children:e.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed",children:"Securely connect your bank account via ACH Direct Debit. Payments are verified through Stripe's secure channel."})}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Holder Type"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:"flex-1 py-3 bg-[#0c0f14] border border-[#00c2ff] text-[#00c2ff] text-xs font-bold rounded-xl",children:"Individual"}),e.jsx("button",{type:"button",className:"flex-1 py-3 bg-[#0c0f14] border border-white/5 text-gray-500 text-xs font-bold rounded-xl",children:"Company"})]})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Routing Number"}),e.jsx("input",{className:"input-field",placeholder:"9 digits",required:!0,maxLength:9})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),e.jsx("input",{className:"input-field",placeholder:"Your checking account number",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM ACH DEBIT"})]})]})},$e=({onBack:l,data:o})=>e.jsxs("div",{className:"animate-fade-in text-left",children:[e.jsxs("button",{onClick:l,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Back"]}),e.jsxs("div",{className:"bg-[#1a1e26] border border-white/5 rounded-3xl p-8 mb-6 shadow-2xl",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Interac_logo.svg/2560px-Interac_logo.svg.png",className:"h-6",alt:"Interac"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Step 1"}),e.jsx("p",{className:"text-sm font-bold text-white",children:"Log in to your online bank."})]}),e.jsx("div",{className:"h-px bg-white/5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Step 2"}),e.jsx("p",{className:"text-sm font-bold text-white",children:"Send an e-Transfer to the email provided by Stripe after confirmation."})]}),e.jsx("div",{className:"bg-[#00c2ff11] p-4 rounded-xl border border-[#00c2ff22] animate-pulse",children:e.jsx("p",{className:"text-[11px] text-[#00c2ff] font-medium leading-relaxed",children:"Click below to generate your unique Interac reference."})})]})]}),e.jsx("button",{className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-2xl shadow-xl uppercase text-xs tracking-widest active:scale-95 transition-all",children:"Generate Transfer ID"})]}),Qe=({onBack:l,onSuccess:o})=>{const[i,c]=j.useState(!1),f=d=>{d.preventDefault(),c(!0),setTimeout(()=>{c(!1),o()},2e3)};return e.jsxs("form",{onSubmit:f,className:"animate-fade-in text-left",children:[e.jsxs("button",{type:"button",onClick:l,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," AU Direct Debit"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 p-4 rounded-2xl mb-4",children:e.jsx("p",{className:"text-[10px] text-orange-300 font-bold leading-relaxed",children:"BECS Direct Debit: By providing your details, you authorize Stripe to debit your AU bank account."})}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Name"}),e.jsx("input",{className:"input-field",placeholder:"Legal Name",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"BSB Number"}),e.jsx("input",{className:"input-field",placeholder:"000-000",required:!0,maxLength:7})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),e.jsx("input",{className:"input-field",placeholder:"9 digits",required:!0})]})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Email"}),e.jsx("input",{className:"input-field",type:"email",placeholder:"receipt@domain.au",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM BECS DEBIT"})]})]})},He=({onBack:l,onSuccess:o})=>{const[i,c]=j.useState(!1),f=d=>{d.preventDefault(),c(!0),setTimeout(()=>{c(!1),o()},2e3)};return e.jsxs("form",{onSubmit:f,className:"animate-fade-in text-left",children:[e.jsxs("button",{type:"button",onClick:l,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[e.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Canada Direct Debit (PAD)"]}),e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-2xl mb-4",children:e.jsx("p",{className:"text-[10px] text-red-400 font-bold leading-relaxed",children:"Pre-Authorized Debit (PAD) agreement. You agree to a one-time debit from your account."})}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Name"}),e.jsx("input",{className:"input-field",placeholder:"Full Name on Account",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Transit"}),e.jsx("input",{className:"input-field",placeholder:"5 digits",required:!0,maxLength:5})]}),e.jsxs("div",{className:"input-group mb-0",children:[e.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Inst."}),e.jsx("input",{className:"input-field",placeholder:"3 digits",required:!0,maxLength:3})]}),e.jsxs("div",{className:"input-group mb-0 col-span-1",children:[e.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account"}),e.jsx("input",{className:"input-field",placeholder:"No.",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM PAD DEBIT"})]})]})},H={BR:{flag:"🇧🇷",methods:[{id:"pix",icon:"fa-pix",title:"Pix Instantâneo",sub:"Liberação imediata",primary:!0},{id:"card",icon:"fa-credit-card",title:"Cartão de Crédito",sub:"À vista ou Parcelado"},{id:"debit_card",icon:"fa-credit-card",title:"Cartão de Débito",sub:"Pagamento imediato"},{id:"boleto",icon:"fa-barcode",title:"Boleto Bancário",sub:"Compensação em até 48h"},{id:"link",icon:"fa-link",title:"Link (1-Click)",sub:"Pagamento rápido Stripe"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Carteiras Digitais",sub:"Apple / Google Pay"}]},MX:{flag:"🇲🇽",methods:[{id:"oxxo",icon:"fa-barcode",title:"OXXO Cash",sub:"Pago en efectivo",primary:!0},{id:"card",icon:"fa-credit-card",title:"Tarjeta Crédito",sub:"Hasta 12 meses"},{id:"debit_card",icon:"fa-credit-card",title:"Tarjeta Débito",sub:"Pago imediato"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Checkout rápido"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Wallets",sub:"Google Pay"}]},US:{flag:"🇺🇸",methods:[{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Safe & Secure",primary:!0},{id:"ach",icon:"fa-building-columns",title:"Bank Debit (ACH)",sub:"Direct transfer"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"One-click pay"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},CA:{flag:"🇨🇦",methods:[{id:"interac",icon:"fa-exchange-alt",title:"Interac e-Transfer",sub:"Direct from bank",primary:!0},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / Mastercard"},{id:"pad",icon:"fa-university",title:"Pre-auth Debit",sub:"Account withdrawal"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Account"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},EU:{flag:"🇪🇺",methods:[{id:"sofort",icon:"fa-money-bill-transfer",title:"Sofort / Klarna",sub:"Instant bank transfer",primary:!0},{id:"sepa",icon:"fa-university",title:"SEPA Debit",sub:"Euro standard IBAN"},{id:"klarna",icon:"fa-shopping-bag",title:"Klarna BNPL",sub:"Buy now, pay later"},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / MC / Amex"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Auth"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Wallets",sub:"Apple / Google Pay"}]},GB:{flag:"🇬🇧",methods:[{id:"card",icon:"fa-credit-card",title:"Debit / Credit Card",sub:"UK Processing",primary:!0},{id:"bacs",icon:"fa-building-columns",title:"BACS Direct Debit",sub:"UK Bank Transfer"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Connect"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Secure Wallets",sub:"Apple / Google Pay"}]},IN:{flag:"🇮🇳",methods:[{id:"upi",icon:"fa-mobile-screen-button",title:"UPI Pay",sub:"Scan & Pay",primary:!0},{id:"card",icon:"fa-credit-card",title:"International Card",sub:"Visa / Mastercard"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Checkout"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Digital Wallet",sub:"Apple / Google Pay"}]},JP:{flag:"🇯🇵",methods:[{id:"konbini",icon:"fa-shop",title:"Konbini",sub:"Convenience store",primary:!0},{id:"card",title:"Credit Card (JCB)",icon:"fa-credit-card",color:"#00c2ff"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Pay"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Wallets",sub:"Apple / Google Pay"}]},AU:{flag:"🇦🇺",methods:[{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"AU Rates",primary:!0},{id:"becs",icon:"fa-university",title:"BECS Direct Debit",sub:"Bank account"},{id:"afterpay",icon:"fa-clock-rotate-left",title:"Afterpay",sub:"Installments"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Quick checkout"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},SG:{flag:"🇸🇬",methods:[{id:"paynow",icon:"fa-qrcode",title:"PayNow",sub:"Instant transfer",primary:!0},{id:"grabpay",icon:"fa-wallet",title:"GrabPay",sub:"Mobile wallet"},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / Mastercard"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Pay"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Wallets",sub:"Apple / Google Pay"}]},DEFAULT:{flag:"🌍",methods:[{id:"card",icon:"fa-credit-card",title:"International Card",sub:"Safe processing",primary:!0},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Checkout rápido"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Carteiras Digitais",sub:"Apple / Google Pay"}]}},qe=({group:l,geo:o,onSuccess:i,onError:c,onTransactionId:f,convertedPriceInfo:d})=>{const[h,m]=j.useState("selection"),[t,s]=j.useState("stripe"),[a,r]=j.useState(null),n=j.useRef(null),p=(o?.countryCode||"BR").toUpperCase(),u=j.useMemo(()=>["DE","FR","ES","IT","PT","NL","BE","AT","IE"].includes(p)?H.EU:H[p]||H.DEFAULT,[p]),g=j.useMemo(()=>{const x=l.checkoutConfig;return!x||!x.enabledMethods||x.enabledMethods.length===0?u.methods:u.methods.filter(N=>x.enabledMethods.includes(N.id))},[u.methods,l.checkoutConfig]);j.useEffect(()=>()=>{n.current&&clearInterval(n.current)},[]);const b=async x=>{if(te.trackAddPaymentInfo(l,x,d),["sofort","klarna","wallet","grabpay","afterpay","link","debit_card"].includes(x)){let w="stripe";x==="link"&&(w="stripe_link"),x==="wallet"&&(w="wallet"),s(w),m("redirection");return}if(["card","sepa","bacs","ach","becs","pad"].includes(x)){m(x);return}if(m("processing"),Ne){setTimeout(()=>{m(x),["pix","oxxo","konbini","upi","boleto","paynow","interac"].includes(x)?k("mock_id"):i()},1200);return}try{const w=await J.createPaymentIntent(l,l.creatorEmail,x);r(w),f(w.id),m(x),k(w.id)}catch(w){c(w.message||"Error processing local method."),m("selection")}},k=x=>{n.current&&clearInterval(n.current),n.current=setInterval(async()=>{try{(await J.checkSessionStatus(x,l.creatorEmail)).status==="paid"&&(clearInterval(n.current),i())}catch{}},4e3)};return e.jsxs("div",{className:"animate-fade-in min-h-[400px] flex flex-col",children:[h==="selection"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("span",{className:"text-2xl grayscale-0",children:u.flag}),e.jsxs("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-widest",children:[o?.countryName||"Global"," Gateway"]})]}),g.map((x,N)=>e.jsxs("div",{onClick:()=>b(x.id),className:`flex items-center gap-4 p-4 rounded-2xl cursor-pointer transition-all active:scale-[0.98] ${x.primary?"bg-[#00c2ff]/10 border-2 border-[#00c2ff]":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${x.primary?"bg-[#00c2ff] text-black":"bg-black/20 text-[#00c2ff]"}`,children:e.jsx("i",{className:`fa-solid ${x.icon} text-lg`})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"font-bold text-sm text-white block",children:x.title}),e.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-tighter",children:x.sub})]}),e.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-gray-700"})]},N))]}),h==="processing"&&e.jsxs("div",{className:"py-20 text-center animate-pulse",children:[e.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-3xl text-[#00c2ff] mb-4"}),e.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Bridging secure protocols..."})]}),h==="pix"&&e.jsx(Be,{data:a,onBack:()=>m("selection")}),h==="paynow"&&e.jsx(Ge,{data:a,onBack:()=>m("selection")}),h==="interac"&&e.jsx($e,{data:a,onBack:()=>m("selection")}),h==="boleto"&&e.jsx(Te,{data:a,onBack:()=>m("selection")}),h==="oxxo"&&e.jsx(Le,{data:a,onBack:()=>m("selection")}),h==="upi"&&e.jsx(Ue,{data:a,onBack:()=>m("selection")}),h==="konbini"&&e.jsx(ze,{data:a,onBack:()=>m("selection")}),h==="card"&&e.jsx(Oe,{group:l,geo:o,onBack:()=>m("selection"),onSuccess:i}),h==="sepa"&&e.jsx(_e,{onBack:()=>m("selection"),onSuccess:i}),h==="ach"&&e.jsx(Ve,{onBack:()=>m("selection"),onSuccess:i}),h==="bacs"&&e.jsx(Fe,{onBack:()=>m("selection"),onSuccess:i}),h==="becs"&&e.jsx(Qe,{onBack:()=>m("selection"),onSuccess:i}),h==="pad"&&e.jsx(He,{onBack:()=>m("selection"),onSuccess:i}),h==="redirection"&&e.jsx(pe,{provider:t,price:d?.formatted||"...",onConfirm:()=>{i()},onBack:()=>m("selection")}),e.jsxs("div",{className:"mt-auto pt-8 text-[9px] text-gray-700 uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fa-brands fa-stripe text-base"})," Transação criptografada • Stripe Global"]})]})},tt=({isOpen:l,onClose:o,group:i,provider:c,convertedPriceInfo:f,geo:d})=>{const h=ye(),[m,t]=j.useState("idle"),[s,a]=j.useState(""),[r,n]=j.useState(""),u=$.getCurrentUser()?.email===i.creatorEmail;j.useEffect(()=>{l||t("idle")},[l]);const g=()=>{we.set(i.id),t("success")},b=x=>{t("error"),a(x)},k=()=>{if(!($.getCurrentUserEmail()||localStorage.getItem("guest_email_capture"))){sessionStorage.setItem("redirect_after_login",`/payment-success-bridge/${i.id}`),h("/register");return}h(`/payment-success-bridge/${i.id}`,{replace:!0})};return l?e.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex justify-center items-center backdrop-blur-md animate-fade-in",onClick:x=>{x.target===x.currentTarget&&m!=="success"&&o()},children:[e.jsx("style",{children:`
                .payment-modal-card { 
                    background: #0c0f14; padding: 30px 24px; border-radius: 20px; 
                    width: 90%; max-width: 380px; text-align: center;
                    border: 1px solid #00c2ff; box-shadow: 0 0 40px rgba(0, 194, 255, 0.2);
                    max-height: 90vh; overflow-y: auto;
                    position: relative;
                }
                .sim-badge {
                    position: absolute; top: 0; left: 0; width: 100%;
                    background: #FFD700; color: #000; font-size: 10px; font-weight: 900;
                    padding: 4px; text-transform: uppercase; letter-spacing: 1px;
                }
            `}),e.jsxs("div",{className:"payment-modal-card animate-pop-in",children:[u&&e.jsxs("div",{className:"sim-badge",children:[e.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-1"})," Visualização de Proprietário"]}),m==="idle"&&e.jsxs(e.Fragment,{children:[c==="syncpay"&&e.jsx(Re,{group:i,onSuccess:g,onError:b,onTransactionId:n}),c==="paypal"&&e.jsx(De,{group:i,convertedPriceInfo:f,onSuccess:g,onError:b,onTransactionId:n}),c==="stripe"&&e.jsx(qe,{group:i,geo:d,convertedPriceInfo:f,onSuccess:g,onError:b,onTransactionId:n})]}),m==="success"&&e.jsxs("div",{className:"py-6 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 bg-[#00ff82]/10 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-[#00ff82]",children:e.jsx("i",{className:"fa-solid fa-check text-4xl text-[#00ff82]"})}),e.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"PAGAMENTO APROVADO"}),e.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Sua vaga na área VIP foi liberada com sucesso!"}),e.jsxs("button",{onClick:k,className:"w-full py-4 bg-[#00ff82] text-black rounded-xl font-bold text-lg shadow-[0_0_20px_rgba(0,255,130,0.3)]",children:["ACESSAR AGORA ",e.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]})]}),m==="error"&&e.jsxs("div",{className:"py-6",children:[e.jsx("i",{className:"fa-solid fa-circle-exclamation text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-red-400 mb-6",children:s}),e.jsx("button",{onClick:()=>t("idle"),className:"w-full py-3 bg-white/5 text-white rounded-lg font-bold border border-white/10",children:"TENTAR NOVAMENTE"})]})]})]}):null};export{tt as PaymentFlowModal};
