import{v as d,r as f,j as e,u as m,f as h}from"./index-BC19Iu_T.js";import{u as p}from"./useGroupSettings-CvPAF9AB.js";const u={ADMINS:5e3,MEMBERS:4999,OWNER:1},b={process(a,l){const i=a.filter(t=>t.role==="Dono").length||1,o=(l||[]).map(t=>({id:t.id,name:t.name,color:t.color,count:a.filter(s=>s.roleId===t.id).length})).sort((t,s)=>s.count-t.count),r=a.filter(t=>t.role!=="Dono"&&(!t.roleId||t.roleId==="")).length,n=a.reduce((t,s)=>{if(s.role==="Dono")return t+d.Dono;if(s.roleId){const c=l.find(x=>x.id===s.roleId);return t+(c?c.priority*10:10)}return t+d.Membro},0);return{counts:{owner:i,customRoles:o,unassigned:r},totalPower:n,limits:u}}},g=({members:a,roles:l,memberLimit:i})=>{const o=f.useMemo(()=>b.process(a,l),[a,l]),r=typeof i=="number"&&i>0,n=a.length,t=r?n/i*100:0;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/5 border border-[#00c2ff]/30 rounded-3xl p-6 shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#00c2ff] to-transparent opacity-50"}),e.jsx("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-[2px] block mb-2",children:"Capacidade Absoluta"}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:n.toLocaleString()}),e.jsxs("span",{className:"text-gray-500 font-bold flex items-center",children:["/ ",r?i?.toLocaleString():e.jsx("i",{className:"fa-solid fa-infinity text-sm ml-1.5 text-[#00c2ff]/60"})]})]}),e.jsx("div",{className:"w-full h-3 bg-white/5 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:"h-full rounded-full transition-all duration-1000 bg-[#00c2ff]",style:{width:`${r?Math.min(100,t):100}%`,boxShadow:"0 0 15px rgba(0, 194, 255, 0.4)"}})}),e.jsx("p",{className:"text-[11px] text-gray-500 font-bold uppercase tracking-wider text-right",children:r?`${Math.min(100,t).toFixed(1)}% preenchido`:"Capacidade Adaptativa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-[9px] font-black text-gray-600 uppercase tracking-[3px] ml-2 mb-4",children:"Distribuição de Cargos"}),e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#FFD7001a] flex items-center justify-center text-[#FFD700] border border-[#FFD70033]",children:e.jsx("i",{className:"fa-solid fa-crown"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white",children:"Dono"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Proprietário"})]})]}),e.jsx("span",{className:"text-lg font-black text-[#FFD700]",children:o.counts.owner})]}),o.counts.customRoles.map(s=>e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-xs font-black",style:{backgroundColor:`${s.color}1a`,color:s.color,border:`1px solid ${s.color}33`},children:e.jsx("i",{className:"fa-solid fa-user-shield"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white",children:s.name}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Cargo Customizado"})]})]}),e.jsx("span",{className:"text-lg font-black text-white",style:{color:s.count>0?s.color:void 0},children:s.count})]},s.id)),e.jsxs("div",{className:"bg-white/[0.03] border border-white/5 p-4 rounded-2xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-gray-400",children:e.jsx("i",{className:"fa-solid fa-users"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-white",children:"Membros"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Sem cargo atribuído"})]})]}),e.jsx("span",{className:"text-lg font-black text-gray-500",children:o.counts.unassigned})]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5 opacity-50 flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-gray-500",children:"Força da Comunidade"}),e.jsxs("span",{className:"text-xs font-black text-[#00c2ff]",children:[o.totalPower.toLocaleString()," pts"]})]})]})},N=()=>{const a=m(),{id:l}=h(),{group:i,loading:o,form:r}=p();return o||!i?null:e.jsxs("div",{className:"min-h-screen bg-[#0a0c10] text-white font-['Inter'] flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex items-center p-4 bg-[#0c0f14] border-b border-white/10 h-[65px] sticky top-0 z-50",children:[e.jsx("button",{onClick:()=>a(`/group-settings/${l}`),className:"mr-4 text-white text-xl",children:e.jsx("i",{className:"fa-solid fa-arrow-left"})}),e.jsx("h1",{className:"font-bold",children:"Estrutura e Estatísticas"})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto p-5 max-w-[600px] mx-auto w-full pb-24 no-scrollbar",children:[e.jsx(g,{members:r.members,roles:r.roles||[],memberLimit:r.memberLimit}),e.jsx("div",{className:"mt-8 bg-[#00c2ff1a] border border-[#00c2ff33] p-5 rounded-2xl",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("i",{className:"fa-solid fa-circle-nodes text-[#00c2ff] text-xl"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-black text-[#00c2ff] uppercase tracking-wider mb-1",children:"Escalabilidade Flux"}),e.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:"Seu grupo está preparado para o crescimento em massa. Os limites garantem que comunidades gigantescas mantenham uma moderação eficiente."})]})]})})]}),e.jsx("div",{className:"fixed bottom-0 left-0 w-full p-6 bg-gradient-to-t from-[#0a0c10] to-transparent",children:e.jsx("button",{className:"w-full py-4 bg-white/5 border border-white/10 text-white font-black rounded-2xl uppercase tracking-widest text-xs transition-all hover:bg-white/10",onClick:()=>a(`/group-settings/${l}`),children:"Voltar"})})]})};export{N as GroupStatisticsPage};
