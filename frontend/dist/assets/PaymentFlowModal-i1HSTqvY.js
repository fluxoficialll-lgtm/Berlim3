import{R as e,r as t,j as a,c as s,v as i,C as n,U as r,u as l}from"./index-Bkpya5GW.js";import{c as o}from"./currencyService-CUGBeSum.js";import{v as c}from"./VipSalesTracker-CtpqEFrn.js";import{p as d,s as u}from"./paypalService-D9R1o7YD.js";import{P as m}from"./PurchaseIntention-BPUq0Pu8.js";var x,p,f=Object.defineProperty,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,N=(e,t,a)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,v=(e,t)=>{for(var a in t||(t={}))b.call(t,a)&&N(e,a,t[a]);if(h)for(var a of h(t))g.call(t,a)&&N(e,a,t[a]);return e},j=(e,t)=>{var a={};for(var s in e)b.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&h)for(var s of h(e))t.indexOf(s)<0&&g.call(e,s)&&(a[s]=e[s]);return a};(e=>{const t=class t{constructor(e,a,s,n){if(this.version=e,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let r=[];for(let t=0;t<this.size;t++)r.push(!1);for(let t=0;t<this.size;t++)this.modules.push(r.slice()),this.isFunction.push(r.slice());this.drawFunctionPatterns();const l=this.addEccAndInterleave(s);if(this.drawCodewords(l),-1==n){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const a=this.getPenaltyScore();a<e&&(n=t,e=a),this.applyMask(t)}}i(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}static encodeText(a,s){const i=e.QrSegment.makeSegments(a);return t.encodeSegments(i,s)}static encodeBinary(a,s){const i=e.QrSegment.makeBytes(a);return t.encodeSegments([i],s)}static encodeSegments(e,s,n=1,l=40,o=-1,c=!0){if(!(t.MIN_VERSION<=n&&n<=l&&l<=t.MAX_VERSION)||o<-1||o>7)throw new RangeError("Invalid value");let d,u;for(d=n;;d++){const a=8*t.getNumDataCodewords(d,s),i=r.getTotalBits(e,d);if(i<=a){u=i;break}if(d>=l)throw new RangeError("Data too long")}for(const a of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&u<=8*t.getNumDataCodewords(d,a)&&(s=a);let m=[];for(const t of e){a(t.mode.modeBits,4,m),a(t.numChars,t.mode.numCharCountBits(d),m);for(const e of t.getData())m.push(e)}i(m.length==u);const x=8*t.getNumDataCodewords(d,s);i(m.length<=x),a(0,Math.min(4,x-m.length),m),a(0,(8-m.length%8)%8,m),i(m.length%8==0);for(let t=236;m.length<x;t^=253)a(t,8,m);let p=[];for(;8*p.length<m.length;)p.push(0);return m.forEach((e,t)=>p[t>>>3]|=e<<7-(7&t)),new t(d,s,p,o)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let a=0;a<t;a++)for(let s=0;s<t;s++)0==a&&0==s||0==a&&s==t-1||a==t-1&&0==s||this.drawAlignmentPattern(e[a],e[s]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let a=t;for(let s=0;s<10;s++)a=a<<1^1335*(a>>>9);const n=21522^(t<<10|a);i(n>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,s(n,i));this.setFunctionModule(8,7,s(n,6)),this.setFunctionModule(8,8,s(n,7)),this.setFunctionModule(7,8,s(n,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,s(n,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,s(n,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,s(n,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let a=0;a<12;a++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let a=0;a<18;a++){const e=s(t,a),i=this.size-11+a%3,n=Math.floor(a/3);this.setFunctionModule(i,n,e),this.setFunctionModule(n,i,e)}}drawFinderPattern(e,t){for(let a=-4;a<=4;a++)for(let s=-4;s<=4;s++){const i=Math.max(Math.abs(s),Math.abs(a)),n=e+s,r=t+a;0<=n&&n<this.size&&0<=r&&r<this.size&&this.setFunctionModule(n,r,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let a=-2;a<=2;a++)for(let s=-2;s<=2;s++)this.setFunctionModule(e+s,t+a,1!=Math.max(Math.abs(s),Math.abs(a)))}setFunctionModule(e,t,a){this.modules[t][e]=a,this.isFunction[t][e]=!0}addEccAndInterleave(e){const a=this.version,s=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(a,s))throw new RangeError("Invalid argument");const n=t.NUM_ERROR_CORRECTION_BLOCKS[s.ordinal][a],r=t.ECC_CODEWORDS_PER_BLOCK[s.ordinal][a],l=Math.floor(t.getNumRawDataModules(a)/8),o=n-l%n,c=Math.floor(l/n);let d=[];const u=t.reedSolomonComputeDivisor(r);for(let i=0,x=0;i<n;i++){let a=e.slice(x,x+c-r+(i<o?0:1));x+=a.length;const s=t.reedSolomonComputeRemainder(a,u);i<o&&a.push(0),d.push(a.concat(s))}let m=[];for(let t=0;t<d[0].length;t++)d.forEach((e,a)=>{(t!=c-r||a>=o)&&m.push(e[t])});return i(m.length==l),m}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let a=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let n=0;n<2;n++){const r=t-n,l=!(t+1&2)?this.size-1-i:i;!this.isFunction[l][r]&&a<8*e.length&&(this.modules[l][r]=s(e[a>>>3],7-(7&a)),a++)}}i(a==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let a=0;a<this.size;a++){let s;switch(e){case 0:s=(a+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=a%3==0;break;case 3:s=(a+t)%3==0;break;case 4:s=(Math.floor(a/3)+Math.floor(t/2))%2==0;break;case 5:s=a*t%2+a*t%3==0;break;case 6:s=(a*t%2+a*t%3)%2==0;break;case 7:s=((a+t)%2+a*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][a]&&s&&(this.modules[t][a]=!this.modules[t][a])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let a=!1,s=0,n=[0,0,0,0,0,0,0];for(let r=0;r<this.size;r++)this.modules[i][r]==a?(s++,5==s?e+=t.PENALTY_N1:s>5&&e++):(this.finderPenaltyAddHistory(s,n),a||(e+=this.finderPenaltyCountPatterns(n)*t.PENALTY_N3),a=this.modules[i][r],s=1);e+=this.finderPenaltyTerminateAndCount(a,s,n)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let a=!1,s=0,n=[0,0,0,0,0,0,0];for(let r=0;r<this.size;r++)this.modules[r][i]==a?(s++,5==s?e+=t.PENALTY_N1:s>5&&e++):(this.finderPenaltyAddHistory(s,n),a||(e+=this.finderPenaltyCountPatterns(n)*t.PENALTY_N3),a=this.modules[r][i],s=1);e+=this.finderPenaltyTerminateAndCount(a,s,n)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let a=0;a<this.size-1;a++){const s=this.modules[i][a];s==this.modules[i][a+1]&&s==this.modules[i+1][a]&&s==this.modules[i+1][a+1]&&(e+=t.PENALTY_N2)}let a=0;for(const t of this.modules)a=t.reduce((e,t)=>e+(t?1:0),a);const s=this.size*this.size,n=Math.ceil(Math.abs(20*a-10*s)/s)-1;return i(0<=n&&n<=9),e+=n*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let a=[6];for(let s=this.size-7;a.length<e;s-=t)a.splice(1,0,s);return a}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let a=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;a-=(25*t-10)*t-55,e>=7&&(a-=36)}return i(208<=a&&a<=29648),a}static getNumDataCodewords(e,a){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[a.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let a=[];for(let t=0;t<e-1;t++)a.push(0);a.push(1);let s=1;for(let i=0;i<e;i++){for(let e=0;e<a.length;e++)a[e]=t.reedSolomonMultiply(a[e],s),e+1<a.length&&(a[e]^=a[e+1]);s=t.reedSolomonMultiply(s,2)}return a}static reedSolomonComputeRemainder(e,a){let s=a.map(e=>0);for(const i of e){const e=i^s.shift();s.push(0),a.forEach((a,i)=>s[i]^=t.reedSolomonMultiply(a,e))}return s}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let a=0;for(let s=7;s>=0;s--)a=a<<1^285*(a>>>7),a^=(t>>>s&1)*e;return i(a>>>8==0),a}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const a=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(a&&e[0]>=4*t&&e[6]>=t?1:0)+(a&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,a){return e&&(this.finderPenaltyAddHistory(t,a),t=0),t+=this.size,this.finderPenaltyAddHistory(t,a),this.finderPenaltyCountPatterns(a)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function a(e,t,a){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let s=t-1;s>=0;s--)a.push(e>>>s&1)}function s(e,t){return!!(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;const n=class e{constructor(e,t,a){if(this.mode=e,this.numChars=t,this.bitData=a,t<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}static makeBytes(t){let s=[];for(const e of t)a(e,8,s);return new e(e.Mode.BYTE,t.length,s)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let s=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);a(parseInt(t.substring(e,e+i),10),3*i+1,s),e+=i}return new e(e.Mode.NUMERIC,t.length,s)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let s,i=[];for(s=0;s+2<=t.length;s+=2){let n=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s));n+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s+1)),a(n,11,i)}return s<t.length&&a(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(s)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let s=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)a(t,8,s);else if(t<16384)a(2,2,s),a(t,14,s);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");a(6,3,s),a(t,21,s)}return new e(e.Mode.ECI,0,s)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let a=0;for(const s of e){const e=s.mode.numCharCountBits(t);if(s.numChars>=1<<e)return 1/0;a+=4+e+s.bitData.length}return a}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let a=0;a<e.length;a++)"%"!=e.charAt(a)?t.push(e.charCodeAt(a)):(t.push(parseInt(e.substring(a+1,a+3),16)),a+=2);return t}};n.NUMERIC_REGEX=/^[0-9]*$/,n.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,n.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let r=n;e.QrSegment=n})(x||(x={})),(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})((p=x||(x={})).QrCode||(p.QrCode={})),(e=>{(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||(e.QrSegment={}))})(x||(x={}));var y=x,k={L:y.QrCode.Ecc.LOW,M:y.QrCode.Ecc.MEDIUM,Q:y.QrCode.Ecc.QUARTILE,H:y.QrCode.Ecc.HIGH},w=128,C="L",S="#FFFFFF",E="#000000",P=!1,A=1;
/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */function I(e,t=0){const a=[];return e.forEach(function(e,s){let i=null;e.forEach(function(n,r){if(!n&&null!==i)return a.push(`M${i+t} ${s+t}h${r-i}v1H${i+t}z`),void(i=null);if(r!==e.length-1)n&&null===i&&(i=r);else{if(!n)return;null===i?a.push(`M${r+t},${s+t} h1v1H${r+t}z`):a.push(`M${i+t},${s+t} h${r+1-i}v1H${i+t}z`)}})}),a.join("")}function M(e,t){return e.slice().map((e,a)=>a<t.y||a>=t.y+t.h?e:e.map((e,a)=>(a<t.x||a>=t.x+t.w)&&e))}function R({value:t,level:a,minVersion:s,includeMargin:i,marginSize:n,imageSettings:r,size:l,boostLevel:o}){let c=e.useMemo(()=>{const e=(Array.isArray(t)?t:[t]).reduce((e,t)=>(e.push(...y.QrSegment.makeSegments(t)),e),[]);return y.QrCode.encodeSegments(e,k[a],s,void 0,void 0,o)},[t,a,s,o]);const{cells:d,margin:u,numCells:m,calculatedImageSettings:x}=e.useMemo(()=>{let e=c.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(i,n),a=e.length+2*t,s=function(e,t,a,s){if(null==s)return null;const i=e.length+2*a,n=Math.floor(.1*t),r=i/t,l=(s.width||n)*r,o=(s.height||n)*r,c=null==s.x?e.length/2-l/2:s.x*r,d=null==s.y?e.length/2-o/2:s.y*r,u=null==s.opacity?1:s.opacity;let m=null;if(s.excavate){let e=Math.floor(c),t=Math.floor(d);m={x:e,y:t,w:Math.ceil(l+c-e),h:Math.ceil(o+d-t)}}return{x:c,y:d,h:o,w:l,excavation:m,opacity:u,crossOrigin:s.crossOrigin}}(e,l,t,r);return{cells:e,margin:t,numCells:a,calculatedImageSettings:s}},[c,l,r,i,n]);return{qrcode:c,margin:u,cells:d,numCells:m,calculatedImageSettings:x}}var _=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();e.forwardRef(function(t,a){const s=t,{value:i,size:n=w,level:r=C,bgColor:l=S,fgColor:o=E,includeMargin:c=P,minVersion:d=A,boostLevel:u,marginSize:m,imageSettings:x}=s,p=j(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:f}=p,h=j(p,["style"]),b=null==x?void 0:x.src,g=e.useRef(null),N=e.useRef(null),y=e.useCallback(e=>{g.current=e,"function"==typeof a?a(e):a&&(a.current=e)},[a]),[k,B]=e.useState(!1),{margin:D,cells:O,numCells:L,calculatedImageSettings:T}=R({value:i,level:r,minVersion:d,boostLevel:u,includeMargin:c,marginSize:m,imageSettings:x,size:n});e.useEffect(()=>{if(null!=g.current){const e=g.current,t=e.getContext("2d");if(!t)return;let a=O;const s=N.current,i=null!=T&&null!==s&&s.complete&&0!==s.naturalHeight&&0!==s.naturalWidth;i&&null!=T.excavation&&(a=M(O,T.excavation));const r=window.devicePixelRatio||1;e.height=e.width=n*r;const c=n/L*r;t.scale(c,c),t.fillStyle=l,t.fillRect(0,0,L,L),t.fillStyle=o,_?t.fill(new Path2D(I(a,D))):O.forEach(function(e,a){e.forEach(function(e,s){e&&t.fillRect(s+D,a+D,1,1)})}),T&&(t.globalAlpha=T.opacity),i&&t.drawImage(s,T.x+D,T.y+D,T.w,T.h)}}),e.useEffect(()=>{B(!1)},[b]);const z=v({height:n,width:n},f);let F=null;return null!=b&&(F=e.createElement("img",{src:b,key:b,style:{display:"none"},onLoad:()=>{B(!0)},ref:N,crossOrigin:null==T?void 0:T.crossOrigin})),e.createElement(e.Fragment,null,e.createElement("canvas",v({style:z,height:n,width:n,ref:y,role:"img"},h)),F)}).displayName="QRCodeCanvas";var B=e.forwardRef(function(t,a){const s=t,{value:i,size:n=w,level:r=C,bgColor:l=S,fgColor:o=E,includeMargin:c=P,minVersion:d=A,boostLevel:u,title:m,marginSize:x,imageSettings:p}=s,f=j(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:h,cells:b,numCells:g,calculatedImageSettings:N}=R({value:i,level:r,minVersion:d,boostLevel:u,includeMargin:c,marginSize:x,imageSettings:p,size:n});let y=b,k=null;null!=p&&null!=N&&(null!=N.excavation&&(y=M(b,N.excavation)),k=e.createElement("image",{href:p.src,height:N.h,width:N.w,x:N.x+h,y:N.y+h,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const _=I(y,h);return e.createElement("svg",v({height:n,width:n,viewBox:`0 0 ${g} ${g}`,ref:a,role:"img"},f),!!m&&e.createElement("title",null,m),e.createElement("path",{fill:l,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),e.createElement("path",{fill:o,d:_,shapeRendering:"crispEdges"}),k)});B.displayName="QRCodeSVG";const D=({group:e,onSuccess:n,onError:r,onTransactionId:l})=>{const[d,u]=t.useState("pix"),[m,x]=t.useState(""),[p,f]=t.useState(void 0),[h,b]=t.useState(""),[g,N]=t.useState(!1),[v,j]=t.useState(!1),[y,k]=t.useState(!1),w=t.useRef(null);t.useEffect(()=>()=>{w.current&&clearInterval(w.current)},[]);const C=async t=>{j(!0),u(t);const a=s.getCurrentUser(),n=localStorage.getItem("guest_email_capture");if(!a&&!n)return r("E-mail não identificado. Por favor, recarregue a página."),void j(!1);const d=(null==a?void 0:a.email)||n;try{const a=e.currency||"BRL",s=parseFloat(e.price||"0");let n=s,r=null;"BRL"!==a?(r=await o.convert(s,a,"BRL"),n=r.amount):r={amount:s,currency:"BRL",symbol:"R$",formatted:`R$ ${s.toFixed(2)}`},c.trackAddPaymentInfo(e,t,r);const u=e.creatorEmail||e.creatorId,m={...e,price:n.toString(),currency:"BRL",creatorEmail:u},{pixCode:p,identifier:h,qrCodeImage:g,boletoUrl:N}=await i.createPayment({email:d},m,t);x(p),f(g),b(N),l(h),j(!1),k(!0),S(h,u,d)}catch(m){r(m.message||"Erro ao gerar pagamento."),j(!1)}},S=(t,a,s)=>{w.current&&clearInterval(w.current),w.current=setInterval(async()=>{try{const r=await i.checkTransactionStatus(t,a,e.id,s);"completed"!==r.status&&"paid"!==r.status||(clearInterval(w.current),n())}catch(r){}},3e3)};return y||v?v?a.jsxs("div",{className:"py-10 text-center",children:[a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-3xl text-[#00c2ff] mb-2"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Gerando seu ","pix"===d?"Pix":"Boleto","..."]})]}):a.jsxs("div",{className:"animate-fade-in",children:["pix"===d?a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-bold text-[#00c2ff] mb-2",children:"Pagar com Pix"}),a.jsx("div",{className:"bg-white p-2.5 rounded-xl mb-4 inline-block shadow-lg",children:p?a.jsx("img",{src:p,className:"w-[180px]",alt:"QR"}):a.jsx(B,{value:m,size:180})}),a.jsx("textarea",{readOnly:!0,className:"w-full bg-[#1a1f26] text-white p-3 rounded-lg text-[10px] font-mono border border-dashed border-[#00c2ff] h-20 resize-none mb-4 outline-none",value:m}),a.jsx("button",{onClick:async()=>{await navigator.clipboard.writeText(m),N(!0),setTimeout(()=>N(!1),2e3)},className:"w-full py-3 bg-[#00c2ff] text-black rounded-lg font-bold shadow-lg",children:g?"CÓDIGO COPIADO!":"COPIAR CÓDIGO PIX"})]}):a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Boleto Gerado"}),a.jsx("i",{className:"fa-solid fa-file-pdf text-6xl text-red-500 my-6"}),a.jsx("p",{className:"text-gray-400 text-xs mb-6 px-4",children:"Seu boleto foi gerado. Você pode pagar em qualquer banco ou casa lotérica."}),a.jsxs("button",{onClick:()=>window.open(h,"_blank"),className:"w-full py-4 bg-white text-black rounded-lg font-bold flex items-center justify-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-download"})," ABRIR BOLETO (PDF)"]}),a.jsx("button",{onClick:()=>k(!1),className:"mt-4 text-[10px] text-[#00c2ff] underline",children:"Trocar método de pagamento"})]}),a.jsxs("div",{className:"text-[10px] text-gray-500 mt-6 animate-pulse",children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-2"}),"Aguardando confirmação do banco..."]})]}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Escolha como pagar"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>C("pix"),className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-4 hover:bg-white/10 transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-[#00c2ff]/10 rounded-lg flex items-center justify-center text-[#00c2ff]",children:a.jsx("i",{className:"fa-solid fa-pix text-xl"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Pix Instantâneo"}),a.jsx("div",{className:"text-[10px] text-gray-500",children:"Liberação imediata"})]}),a.jsx("i",{className:"fa-solid fa-chevron-right ml-auto text-gray-600 text-xs"})]}),a.jsxs("button",{onClick:()=>C("boleto"),className:"w-full p-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-4 hover:bg-white/10 transition-all",children:[a.jsx("div",{className:"w-10 h-10 bg-[#aaa]/10 rounded-lg flex items-center justify-center text-[#aaa]",children:a.jsx("i",{className:"fa-solid fa-barcode text-xl"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold text-sm",children:"Boleto Bancário"}),a.jsx("div",{className:"text-[10px] text-gray-500",children:"Compensação em até 48h"})]}),a.jsx("i",{className:"fa-solid fa-chevron-right ml-auto text-gray-600 text-xs"})]})]})]})},O={paypal:{name:"PayPal",icon:"fa-brands fa-paypal",color:"#003087",accent:"#00cfff",msg:"Você será levado ao ambiente oficial do PayPal para concluir sua transação com segurança."},stripe:{name:"Stripe",icon:"fa-brands fa-stripe",color:"#635bff",accent:"#80e9ff",msg:"Conclua seu pagamento via Checkout Seguro Stripe. Seus dados estão protegidos por criptografia de ponta a ponta."},stripe_link:{name:"Stripe Link",icon:"fa-solid fa-link",color:"#00d66f",accent:"#ffffff",msg:"Finalize sua compra em 1-clique. O sistema enviará um código SMS para confirmar sua identidade na Stripe."},wallet:{name:"Apple / Google Pay",icon:"fa-solid fa-wallet",color:"#ffffff",accent:"#000000",msg:"Ativando carteira digital. Você usará a biometria ou senha do seu dispositivo para autorizar o pagamento."},generic:{name:"Gateway Seguro",icon:"fa-solid fa-shield-halved",color:"#00c2ff",accent:"#00ff82",msg:"Estamos preparando sua conexão segura com o provedor de pagamentos."}},L=({provider:e,price:t,onConfirm:s,onBack:i,isLoading:n})=>{const r=O[e]||O.generic,l="wallet"===e;return a.jsxs("div",{className:"redirection-bridge animate-fade-in flex flex-col items-center",children:[a.jsx("style",{children:`\n                .bridge-container {\n                    width: 100%;\n                    padding: 20px 10px;\n                }\n                .provider-shield {\n                    width: 70px;\n                    height: 70px;\n                    background: ${l?"rgba(255,255,255,0.1)":r.color+"1a"};\n                    border: 2px solid ${l?"rgba(255,255,255,0.2)":r.color+"44"};\n                    border-radius: 22px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    font-size: 32px;\n                    color: ${l?"#fff":r.color};\n                    margin: 0 auto 20px;\n                    box-shadow: 0 10px 25px ${l?"rgba(0,0,0,0.2)":r.color+"22"};\n                    position: relative;\n                }\n                .secure-badge {\n                    position: absolute;\n                    bottom: -8px;\n                    background: #00ff82;\n                    color: #000;\n                    font-size: 8px;\n                    font-weight: 900;\n                    padding: 2px 8px;\n                    border-radius: 20px;\n                    text-transform: uppercase;\n                    letter-spacing: 1px;\n                    box-shadow: 0 4px 10px rgba(0,255,130,0.3);\n                }\n                .price-tag-bridge {\n                    font-size: 28px;\n                    font-weight: 900;\n                    color: #fff;\n                    margin-bottom: 8px;\n                }\n                .redirect-msg {\n                    font-size: 13px;\n                    color: #888;\n                    line-height: 1.6;\n                    padding: 0 20px;\n                    margin-bottom: 30px;\n                }\n                .confirm-redirect-btn {\n                    width: 100%;\n                    padding: 18px;\n                    background: ${l?"#fff":r.color};\n                    color: ${l?"#000":"#fff"};\n                    border: none;\n                    border-radius: 16px;\n                    font-weight: 800;\n                    font-size: 15px;\n                    text-transform: uppercase;\n                    letter-spacing: 1px;\n                    cursor: pointer;\n                    transition: 0.3s;\n                    box-shadow: 0 10px 30px ${l?"rgba(255,255,255,0.1)":r.color+"44"};\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 12px;\n                }\n                .confirm-redirect-btn:hover {\n                    filter: brightness(1.1);\n                    transform: translateY(-2px);\n                }\n                .confirm-redirect-btn:active {\n                    transform: scale(0.98);\n                }\n                .back-link {\n                    margin-top: 20px;\n                    font-size: 11px;\n                    font-weight: 800;\n                    color: #444;\n                    text-transform: uppercase;\n                    letter-spacing: 2px;\n                    cursor: pointer;\n                    background: none;\n                    border: none;\n                    transition: 0.2s;\n                }\n                .back-link:hover { color: #fff; }\n            `}),a.jsxs("div",{className:"bridge-container",children:[a.jsxs("div",{className:"provider-shield",children:[a.jsx("i",{className:r.icon}),a.jsxs("div",{className:"secure-badge",children:[a.jsx("i",{className:"fa-solid fa-lock mr-1"})," Protegido"]})]}),a.jsx("div",{className:"price-tag-bridge",children:t}),a.jsxs("div",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest mb-6",children:["Total a pagar via ",r.name]}),a.jsx("p",{className:"redirect-msg",children:r.msg}),a.jsx("button",{className:"confirm-redirect-btn",onClick:s,disabled:n,children:n?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:l?"Pagar agora":"Confirmar e Ir"}),a.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})}),a.jsxs("button",{className:"back-link",onClick:i,children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Alterar Método"]})]})]})},T=({group:e,onSuccess:i,onError:r,onTransactionId:l,convertedPriceInfo:o})=>{const[c,u]=t.useState(null),[m,x]=t.useState(!1),p=t.useRef(null);t.useEffect(()=>()=>{p.current&&clearInterval(p.current)},[]);const f=t=>{p.current&&clearInterval(p.current),p.current=setInterval(async()=>{try{"paid"===(await d.checkOrderStatus(t,e.creatorEmail)).status&&(clearInterval(p.current),i())}catch(a){}},4e3)};return a.jsx(L,{provider:"paypal",price:(null==o?void 0:o.formatted)||"...",isLoading:m,onConfirm:()=>{c?window.open(c,"_blank"):(async()=>{const t=s.getCurrentUserEmail()||localStorage.getItem("guest_email_capture");if(t){x(!0);try{const a=(null==o?void 0:o.amount)||parseFloat(e.price||"0"),s=(null==o?void 0:o.currency)||e.currency||"BRL";e.pixelId&&n.trackInitiateCheckout(e.pixelId,{content_ids:[e.id],content_type:"product_group",content_name:e.name,value:a,currency:s},{email:t});const i={...e,price:a.toString(),currency:s},r=await d.createOrder(i,e.creatorEmail);r.approvalLink&&(l(r.id),u(r.approvalLink),f(r.id))}catch(a){r(a.message||"Erro ao iniciar PayPal.")}finally{x(!1)}}else r("E-mail necessário.")})()},onBack:()=>window.location.reload()})},z=({data:e,onBack:s})=>{var i,n;const[r,l]=t.useState(!1),o=(null==(n=null==(i=null==e?void 0:e.next_action)?void 0:i.pix_display_qr_code)?void 0:n.data)||"MOCK_PIX_CODE_STRIPE_FLUX_2024";return a.jsxs("div",{className:"animate-fade-in text-center py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:s,className:"text-gray-500 text-xs font-bold uppercase hover:text-white transition-colors",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," Voltar"]}),a.jsx("div",{className:"bg-[#00ff82]/10 text-[#00ff82] px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider border border-[#00ff82]/20",children:"Pix Stripe"})]}),a.jsx("div",{className:"bg-white p-3 rounded-2xl inline-block shadow-2xl mb-6",children:a.jsx(B,{value:o,size:200})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-black/40 border border-dashed border-[#00c2ff]/30 p-4 rounded-xl relative group",children:a.jsx("p",{className:"text-[9px] text-gray-500 font-mono break-all line-clamp-2",children:o})}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o),l(!0),setTimeout(()=>l(!1),2e3)},className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg transition-all active:scale-95",children:r?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-check mr-2"})," COPIADO!"]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-copy mr-2"})," COPIAR CÓDIGO PIX"]})}),a.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-600 font-bold uppercase animate-pulse",children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Aguardando Aprovação"]})]})]})},F=({geo:e,onBack:s,onSuccess:i})=>{var n;const[r,l]=t.useState(!1),[o,c]=t.useState("1"),d=(null==(n=null==e?void 0:e.countryCode)?void 0:n.toUpperCase())||"BR",u="BR"===d||"MX"===d,m=t.useMemo(()=>"MX"===d?"Meses sin Intereses":"Parcelamento",[d]);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),l(!0),setTimeout(()=>{l(!1),i()},2e3)},className:"animate-fade-in text-left",children:[a.jsx("style",{children:"\n                .stripe-input { width: 100%; background: #0c0f14; border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 14px; color: #fff; font-size: 14px; outline: none; transition: 0.3s; }\n                .stripe-input:focus { border-color: #00c2ff; }\n                .stripe-select { appearance: none; background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23666'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\"); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1.25rem; }\n            "}),a.jsxs("button",{type:"button",onClick:s,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[a.jsx("i",{className:"fa-solid fa-arrow-left"})," Voltar aos métodos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Número do Cartão"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{className:"stripe-input",placeholder:"0000 0000 0000 0000",required:!0}),a.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex gap-1 opacity-50",children:[a.jsx("i",{className:"fa-brands fa-cc-visa"}),a.jsx("i",{className:"fa-brands fa-cc-mastercard"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Validade"}),a.jsx("input",{className:"stripe-input",placeholder:"MM/AA",required:!0})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"CVC"}),a.jsx("input",{className:"stripe-input",placeholder:"123",required:!0})]})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Nome no Cartão"}),a.jsx("input",{className:"stripe-input",placeholder:"NOME COMO ESCRITO",required:!0})]}),u&&a.jsxs("div",{className:"input-group mb-0 animate-slide-up",children:[a.jsx("label",{className:"text-[9px] font-black text-[#00c2ff] uppercase tracking-widest mb-1 block",children:m}),a.jsxs("select",{className:"stripe-input stripe-select",value:o,onChange:e=>c(e.target.value),children:[a.jsx("option",{value:"1",children:"1x à vista"}),a.jsx("option",{value:"2",children:"2x sem juros"}),a.jsx("option",{value:"3",children:"3x sem juros"}),a.jsx("option",{value:"4",children:"4x"}),a.jsx("option",{value:"5",children:"5x"}),a.jsx("option",{value:"6",children:"6x"}),a.jsx("option",{value:"7",children:"7x"}),a.jsx("option",{value:"8",children:"8x"}),a.jsx("option",{value:"9",children:"9x"}),a.jsx("option",{value:"10",children:"10x"}),a.jsx("option",{value:"11",children:"11x"}),a.jsx("option",{value:"12",children:"12x"})]})]}),a.jsx("button",{type:"submit",disabled:r,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:r?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM PAGAMENTO"})]})]})},U=({onBack:e,data:t})=>{var s,i;return a.jsxs("div",{className:"animate-fade-in text-center",children:[a.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Voltar"]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Oxxo_Logo.svg/1200px-Oxxo_Logo.svg.png",className:"h-8 mx-auto mb-6",alt:"OXXO"}),a.jsxs("div",{className:"bg-black/5 p-4 rounded-xl mb-6",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-2",children:"Número de Referencia"}),a.jsx("div",{className:"text-xl font-black text-black tracking-widest",children:(null==(i=null==(s=null==t?void 0:t.next_action)?void 0:s.oxxo_display_details)?void 0:i.number)||"0000-0000-0000-00"})]}),a.jsx("div",{className:"w-full h-12 bg-black/10 rounded flex items-center justify-center",children:a.jsx("i",{className:"fa-solid fa-barcode text-4xl text-black"})})]}),a.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:"Paga en efectivo en cualquier tienda OXXO. Tu acceso será liberado automáticamente tras la confirmación."})]})},G=({onBack:e,onSuccess:s})=>{const[i,n]=t.useState(!1);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),s()},2e3)},className:"animate-fade-in text-left",children:[a.jsxs("button",{type:"button",onClick:e,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Voltar"]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl mb-4",children:a.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed",children:"Ao fornecer seu IBAN, você autoriza a Stripe a enviar instruções ao seu banco para debitar sua conta."})}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Nome do Titular"}),a.jsx("input",{className:"input-field",placeholder:"Full Name",required:!0})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"IBAN"}),a.jsxs("div",{className:"relative",children:[a.jsx("i",{className:"fa-solid fa-university absolute left-4 top-1/2 -translate-y-1/2 text-gray-600"}),a.jsx("input",{className:"input-field pl-11",placeholder:"DE00 0000 0000...",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM SEPA DEBIT"})]})]})},V=({data:e,onBack:s})=>{var i,n;const[r,l]=t.useState(!1),o=(null==(n=null==(i=null==e?void 0:e.next_action)?void 0:i.display_details)?void 0:n.barcode_number)||"00090.00005 00000.000005 00000.000005 0 000000000000";return a.jsxs("div",{className:"animate-fade-in text-center py-2",children:[a.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6 hover:text-white transition-colors",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Alterar Método"]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-100 pb-4",children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b5/Logo_Boleto_Simples.png",className:"h-6",alt:"Boleto"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Vencimento em 3 dias"})]}),a.jsxs("div",{className:"bg-black/5 p-4 rounded-xl mb-4 text-left",children:[a.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase block mb-1",children:"Linha Digitável"}),a.jsx("div",{className:"text-[11px] font-mono text-black break-all leading-relaxed font-black",children:o})]}),a.jsx("div",{className:"w-full h-12 bg-black/5 rounded flex items-center justify-center opacity-40",children:a.jsx("i",{className:"fa-solid fa-barcode text-5xl text-black"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o),l(!0),setTimeout(()=>l(!1),2e3)},className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg transition-all active:scale-95",children:r?"CÓDIGO COPIADO!":"COPIAR LINHA DIGITÁVEL"}),a.jsxs("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:["Seu acesso será liberado em até ",a.jsx("span",{className:"text-white font-bold",children:"24h úteis"})," após o pagamento do boleto."]})]})]})},H=({onBack:e,onSuccess:s})=>{const[i,n]=t.useState(!1);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),s()},2500)},className:"animate-fade-in text-left",children:[a.jsxs("button",{type:"button",onClick:e,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white transition-colors",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," UK Bank Transfer"]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl",children:[a.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed uppercase tracking-wider",children:"BACS Direct Debit Protection"}),a.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Your payments are protected by the Direct Debit Guarantee."})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Holder Name"}),a.jsx("input",{className:"input-field",placeholder:"John Doe",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Sort Code"}),a.jsx("input",{className:"input-field",placeholder:"00-00-00",required:!0})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),a.jsx("input",{className:"input-field",placeholder:"12345678",required:!0,maxLength:8})]})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM BACS DEBIT"})]})]})},$=({data:e,onBack:s})=>{var i,n;const[r,l]=t.useState(!1),o=(null==(n=null==(i=null==e?void 0:e.next_action)?void 0:i.upi_display_qr_code)?void 0:n.vpa)||"fluxplatform@upi";return a.jsxs("div",{className:"animate-fade-in text-center py-2",children:[a.jsxs("button",{onClick:s,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," UPI Payment"]}),a.jsx("div",{className:"bg-white p-3 rounded-2xl inline-block shadow-2xl mb-6",children:a.jsx(B,{value:`upi://pay?pa=${o}`,size:180})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-black/40 border border-white/10 p-4 rounded-xl text-left",children:[a.jsx("span",{className:"text-[9px] text-gray-500 font-bold uppercase block mb-1",children:"VPA / UPI ID"}),a.jsx("div",{className:"text-sm font-black text-white",children:o})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o),l(!0),setTimeout(()=>l(!1),2e3)},className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg active:scale-95 transition-all",children:r?"ID COPIED!":"COPY UPI ID"}),a.jsxs("div",{className:"flex items-center justify-center gap-3 text-[10px] text-gray-600 font-bold uppercase animate-pulse",children:[a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),"Waiting for app confirmation"]})]})]})},q=({data:e,onBack:t})=>{var s,i,n,r;return a.jsxs("div",{className:"animate-fade-in text-center py-2",children:[a.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Konbini Pay"]}),a.jsxs("div",{className:"bg-white rounded-[32px] p-8 mb-6 shadow-2xl",children:[a.jsxs("div",{className:"flex justify-center gap-4 mb-8 opacity-60 grayscale",children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/7-eleven_logo.svg/1200px-7-eleven_logo.svg.png",className:"h-6",alt:"7-11"}),a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Lawson_logo.svg/1200px-Lawson_logo.svg.png",className:"h-6",alt:"Lawson"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-1",children:"Confirmation Number"}),a.jsx("div",{className:"text-2xl font-black text-black tracking-widest",children:(null==(i=null==(s=null==e?void 0:e.next_action)?void 0:s.konbini_display_details)?void 0:i.confirmation_number)||"000-0000"})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase block mb-1",children:"Payment Code"}),a.jsx("div",{className:"text-2xl font-black text-black tracking-widest",children:(null==(r=null==(n=null==e?void 0:e.next_action)?void 0:n.konbini_display_details)?void 0:r.payment_code)||"1234567890"})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex items-center justify-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-clock text-gray-400 text-xs"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Expires in 12 hours"})]})]}),a.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed px-4",children:"Please visit any major convenience store in Japan and provide these codes at the terminal."})]})},Q=({data:e,onBack:s})=>{var i,n;const[r,l]=t.useState(!1),o=(null==(n=null==(i=null==e?void 0:e.next_action)?void 0:i.paynow_display_qr_code)?void 0:n.data)||"MOCK_PAYNOW_SGD_DATA_2024";return a.jsxs("div",{className:"animate-fade-in text-center py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:s,className:"text-gray-500 text-xs font-bold uppercase hover:text-white transition-colors",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," Back"]}),a.jsx("div",{className:"bg-[#635bff]/10 text-[#635bff] px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-wider border border-[#635bff]/20",children:"PayNow SG"})]}),a.jsx("div",{className:"bg-white p-4 rounded-[32px] inline-block shadow-2xl mb-8 border-4 border-[#635bff1a]",children:a.jsx(B,{value:o,size:220})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"px-6",children:[a.jsx("h3",{className:"text-white font-black text-lg mb-1",children:"Scan to Pay"}),a.jsx("p",{className:"text-gray-500 text-xs leading-relaxed",children:"Open your banking app, select PayNow, and scan this QR to complete your SGD payment."})]}),a.jsxs("div",{className:"bg-[#1a1e26] p-4 rounded-2xl border border-white/5 flex items-center justify-center gap-3 animate-pulse",children:[a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-[#00c2ff] text-sm"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Waiting for bank confirm"})]})]}),a.jsx("div",{className:"mt-8 opacity-20 grayscale flex justify-center",children:a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/d/d1/PayNow_logo.png/1200px-PayNow_logo.png",className:"h-4",alt:"PayNow"})})]})},X=({onBack:e,onSuccess:s})=>{const[i,n]=t.useState(!1);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),s()},2e3)},className:"animate-fade-in text-left",children:[a.jsxs("button",{type:"button",onClick:e,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," US Bank Account"]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-2xl mb-4",children:a.jsx("p",{className:"text-[10px] text-blue-300 font-bold leading-relaxed",children:"Securely connect your bank account via ACH Direct Debit. Payments are verified through Stripe's secure channel."})}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Holder Type"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",className:"flex-1 py-3 bg-[#0c0f14] border border-[#00c2ff] text-[#00c2ff] text-xs font-bold rounded-xl",children:"Individual"}),a.jsx("button",{type:"button",className:"flex-1 py-3 bg-[#0c0f14] border border-white/5 text-gray-500 text-xs font-bold rounded-xl",children:"Company"})]})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Routing Number"}),a.jsx("input",{className:"input-field",placeholder:"9 digits",required:!0,maxLength:9})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),a.jsx("input",{className:"input-field",placeholder:"Your checking account number",required:!0})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM ACH DEBIT"})]})]})},Y=({onBack:e,data:t})=>a.jsxs("div",{className:"animate-fade-in text-left",children:[a.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 text-[10px] font-black uppercase mb-6",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Back"]}),a.jsxs("div",{className:"bg-[#1a1e26] border border-white/5 rounded-3xl p-8 mb-6 shadow-2xl",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Interac_logo.svg/2560px-Interac_logo.svg.png",className:"h-6",alt:"Interac"})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Step 1"}),a.jsx("p",{className:"text-sm font-bold text-white",children:"Log in to your online bank."})]}),a.jsx("div",{className:"h-px bg-white/5"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest block mb-2",children:"Step 2"}),a.jsx("p",{className:"text-sm font-bold text-white",children:"Send an e-Transfer to the email provided by Stripe after confirmation."})]}),a.jsx("div",{className:"bg-[#00c2ff11] p-4 rounded-xl border border-[#00c2ff22] animate-pulse",children:a.jsx("p",{className:"text-[11px] text-[#00c2ff] font-medium leading-relaxed",children:"Click below to generate your unique Interac reference."})})]})]}),a.jsx("button",{className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-2xl shadow-xl uppercase text-xs tracking-widest active:scale-95 transition-all",children:"Generate Transfer ID"})]}),W=({onBack:e,onSuccess:s})=>{const[i,n]=t.useState(!1);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),s()},2e3)},className:"animate-fade-in text-left",children:[a.jsxs("button",{type:"button",onClick:e,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," AU Direct Debit"]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 p-4 rounded-2xl mb-4",children:a.jsx("p",{className:"text-[10px] text-orange-300 font-bold leading-relaxed",children:"BECS Direct Debit: By providing your details, you authorize Stripe to debit your AU bank account."})}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Name"}),a.jsx("input",{className:"input-field",placeholder:"Legal Name",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"BSB Number"}),a.jsx("input",{className:"input-field",placeholder:"000-000",required:!0,maxLength:7})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Number"}),a.jsx("input",{className:"input-field",placeholder:"9 digits",required:!0})]})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Email"}),a.jsx("input",{className:"input-field",type:"email",placeholder:"receipt@domain.au",required:!0})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM BECS DEBIT"})]})]})},K=({onBack:e,onSuccess:s})=>{const[i,n]=t.useState(!1);return a.jsxs("form",{onSubmit:e=>{e.preventDefault(),n(!0),setTimeout(()=>{n(!1),s()},2e3)},className:"animate-fade-in text-left",children:[a.jsxs("button",{type:"button",onClick:e,className:"text-gray-500 text-[10px] font-black uppercase mb-6 hover:text-white",children:[a.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," Canada Direct Debit (PAD)"]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-2xl mb-4",children:a.jsx("p",{className:"text-[10px] text-red-400 font-bold leading-relaxed",children:"Pre-Authorized Debit (PAD) agreement. You agree to a one-time debit from your account."})}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[9px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account Name"}),a.jsx("input",{className:"input-field",placeholder:"Full Name on Account",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Transit"}),a.jsx("input",{className:"input-field",placeholder:"5 digits",required:!0,maxLength:5})]}),a.jsxs("div",{className:"input-group mb-0",children:[a.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Inst."}),a.jsx("input",{className:"input-field",placeholder:"3 digits",required:!0,maxLength:3})]}),a.jsxs("div",{className:"input-group mb-0 col-span-1",children:[a.jsx("label",{className:"text-[8px] font-black text-gray-600 uppercase tracking-widest mb-1 block",children:"Account"}),a.jsx("input",{className:"input-field",placeholder:"No.",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-[#00c2ff] text-black font-black rounded-xl shadow-lg mt-6 active:scale-95 transition-all",children:i?a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):"CONFIRM PAD DEBIT"})]})]})},J={BR:{flag:"🇧🇷",methods:[{id:"pix",icon:"fa-pix",title:"Pix Instantâneo",sub:"Liberação imediata",primary:!0},{id:"card",icon:"fa-credit-card",title:"Cartão de Crédito",sub:"À vista ou Parcelado"},{id:"debit_card",icon:"fa-credit-card",title:"Cartão de Débito",sub:"Pagamento imediato"},{id:"boleto",icon:"fa-barcode",title:"Boleto Bancário",sub:"Compensação em até 48h"},{id:"link",icon:"fa-link",title:"Link (1-Click)",sub:"Pagamento rápido Stripe"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Carteiras Digitais",sub:"Apple / Google Pay"}]},MX:{flag:"🇲🇽",methods:[{id:"oxxo",icon:"fa-barcode",title:"OXXO Cash",sub:"Pago en efectivo",primary:!0},{id:"card",icon:"fa-credit-card",title:"Tarjeta Crédito",sub:"Hasta 12 meses"},{id:"debit_card",icon:"fa-credit-card",title:"Tarjeta Débito",sub:"Pago imediato"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Checkout rápido"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Wallets",sub:"Google Pay"}]},US:{flag:"🇺🇸",methods:[{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Safe & Secure",primary:!0},{id:"ach",icon:"fa-building-columns",title:"Bank Debit (ACH)",sub:"Direct transfer"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"One-click pay"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},CA:{flag:"🇨🇦",methods:[{id:"interac",icon:"fa-exchange-alt",title:"Interac e-Transfer",sub:"Direct from bank",primary:!0},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / Mastercard"},{id:"pad",icon:"fa-university",title:"Pre-auth Debit",sub:"Account withdrawal"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Account"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},EU:{flag:"🇪🇺",methods:[{id:"sofort",icon:"fa-money-bill-transfer",title:"Sofort / Klarna",sub:"Instant bank transfer",primary:!0},{id:"sepa",icon:"fa-university",title:"SEPA Debit",sub:"Euro standard IBAN"},{id:"klarna",icon:"fa-shopping-bag",title:"Klarna BNPL",sub:"Buy now, pay later"},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / MC / Amex"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Auth"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Wallets",sub:"Apple / Google Pay"}]},GB:{flag:"🇬🇧",methods:[{id:"card",icon:"fa-credit-card",title:"Debit / Credit Card",sub:"UK Processing",primary:!0},{id:"bacs",icon:"fa-building-columns",title:"BACS Direct Debit",sub:"UK Bank Transfer"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Stripe Connect"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Secure Wallets",sub:"Apple / Google Pay"}]},IN:{flag:"🇮🇳",methods:[{id:"upi",icon:"fa-mobile-screen-button",title:"UPI Pay",sub:"Scan & Pay",primary:!0},{id:"card",icon:"fa-credit-card",title:"International Card",sub:"Visa / Mastercard"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Checkout"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Digital Wallet",sub:"Apple / Google Pay"}]},JP:{flag:"🇯🇵",methods:[{id:"konbini",icon:"fa-shop",title:"Konbini",sub:"Convenience store",primary:!0},{id:"card",title:"Credit Card (JCB)",icon:"fa-credit-card",color:"#00c2ff"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Pay"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Wallets",sub:"Apple / Google Pay"}]},AU:{flag:"🇦🇺",methods:[{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"AU Rates",primary:!0},{id:"becs",icon:"fa-university",title:"BECS Direct Debit",sub:"Bank account"},{id:"afterpay",icon:"fa-clock-rotate-left",title:"Afterpay",sub:"Installments"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Quick checkout"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Digital Wallets",sub:"Apple / Google Pay"}]},SG:{flag:"🇸🇬",methods:[{id:"paynow",icon:"fa-qrcode",title:"PayNow",sub:"Instant transfer",primary:!0},{id:"grabpay",icon:"fa-wallet",title:"GrabPay",sub:"Mobile wallet"},{id:"card",icon:"fa-credit-card",title:"Credit Card",sub:"Visa / Mastercard"},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Fast Pay"},{id:"wallet",icon:"fa-brands fa-google-pay",title:"Wallets",sub:"Apple / Google Pay"}]},DEFAULT:{flag:"🌍",methods:[{id:"card",icon:"fa-credit-card",title:"International Card",sub:"Safe processing",primary:!0},{id:"link",icon:"fa-link",title:"Stripe Link",sub:"Checkout rápido"},{id:"wallet",icon:"fa-brands fa-apple-pay",title:"Carteiras Digitais",sub:"Apple / Google Pay"}]}},Z=({group:e,geo:s,onSuccess:i,onError:n,onTransactionId:l,convertedPriceInfo:o})=>{const[d,m]=t.useState("selection"),[x,p]=t.useState("stripe"),[f,h]=t.useState(null),b=t.useRef(null),g=((null==s?void 0:s.countryCode)||"BR").toUpperCase(),N=t.useMemo(()=>["DE","FR","ES","IT","PT","NL","BE","AT","IE"].includes(g)?J.EU:J[g]||J.DEFAULT,[g]),v=t.useMemo(()=>{const t=e.checkoutConfig;return t&&t.enabledMethods&&0!==t.enabledMethods.length?N.methods.filter(e=>t.enabledMethods.includes(e.id)):N.methods},[N.methods,e.checkoutConfig]);t.useEffect(()=>()=>{b.current&&clearInterval(b.current)},[]);const j=t=>{b.current&&clearInterval(b.current),b.current=setInterval(async()=>{try{"paid"===(await u.checkSessionStatus(t,e.creatorEmail)).status&&(clearInterval(b.current),i())}catch(a){}},4e3)};return a.jsxs("div",{className:"animate-fade-in min-h-[400px] flex flex-col",children:["selection"===d&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("span",{className:"text-2xl grayscale-0",children:N.flag}),a.jsxs("span",{className:"text-[10px] font-black text-[#00c2ff] uppercase tracking-widest",children:[(null==s?void 0:s.countryName)||"Global"," Gateway"]})]}),v.map((t,s)=>a.jsxs("div",{onClick:()=>(async t=>{if(c.trackAddPaymentInfo(e,t,o),["sofort","klarna","wallet","grabpay","afterpay","link","debit_card"].includes(t)){let e="stripe";return"link"===t&&(e="stripe_link"),"wallet"===t&&(e="wallet"),p(e),void m("redirection")}if(["card","sepa","bacs","ach","becs","pad"].includes(t))m(t);else if(m("processing"),r)setTimeout(()=>{m(t),["pix","oxxo","konbini","upi","boleto","paynow","interac"].includes(t)?j("mock_id"):i()},1200);else try{const a=await u.createPaymentIntent(e,e.creatorEmail,t);h(a),l(a.id),m(t),j(a.id)}catch(a){n(a.message||"Error processing local method."),m("selection")}})(t.id),className:"flex items-center gap-4 p-4 rounded-2xl cursor-pointer transition-all active:scale-[0.98] "+(t.primary?"bg-[#00c2ff]/10 border-2 border-[#00c2ff]":"bg-white/5 border border-white/10 hover:bg-white/10"),children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center "+(t.primary?"bg-[#00c2ff] text-black":"bg-black/20 text-[#00c2ff]"),children:a.jsx("i",{className:`fa-solid ${t.icon} text-lg`})}),a.jsxs("div",{className:"text-left flex-1",children:[a.jsx("span",{className:"font-bold text-sm text-white block",children:t.title}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-tighter",children:t.sub})]}),a.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] text-gray-700"})]},s))]}),"processing"===d&&a.jsxs("div",{className:"py-20 text-center animate-pulse",children:[a.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-3xl text-[#00c2ff] mb-4"}),a.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Bridging secure protocols..."})]}),"pix"===d&&a.jsx(z,{data:f,onBack:()=>m("selection")}),"paynow"===d&&a.jsx(Q,{data:f,onBack:()=>m("selection")}),"interac"===d&&a.jsx(Y,{data:f,onBack:()=>m("selection")}),"boleto"===d&&a.jsx(V,{data:f,onBack:()=>m("selection")}),"oxxo"===d&&a.jsx(U,{data:f,onBack:()=>m("selection")}),"upi"===d&&a.jsx($,{data:f,onBack:()=>m("selection")}),"konbini"===d&&a.jsx(q,{data:f,onBack:()=>m("selection")}),"card"===d&&a.jsx(F,{group:e,geo:s,onBack:()=>m("selection"),onSuccess:i}),"sepa"===d&&a.jsx(G,{onBack:()=>m("selection"),onSuccess:i}),"ach"===d&&a.jsx(X,{onBack:()=>m("selection"),onSuccess:i}),"bacs"===d&&a.jsx(H,{onBack:()=>m("selection"),onSuccess:i}),"becs"===d&&a.jsx(W,{onBack:()=>m("selection"),onSuccess:i}),"pad"===d&&a.jsx(K,{onBack:()=>m("selection"),onSuccess:i}),"redirection"===d&&a.jsx(L,{provider:x,price:(null==o?void 0:o.formatted)||"...",onConfirm:()=>{i()},onBack:()=>m("selection")}),a.jsxs("div",{className:"mt-auto pt-8 text-[9px] text-gray-700 uppercase tracking-widest flex items-center justify-center gap-2",children:[a.jsx("i",{className:"fa-brands fa-stripe text-base"})," Transação criptografada • Stripe Global"]})]})},ee=({isOpen:e,onClose:i,group:n,provider:r,convertedPriceInfo:o,geo:c})=>{const d=l(),[u,x]=t.useState("idle"),[p,f]=t.useState(""),[h,b]=t.useState(""),g=s.getCurrentUser(),N=(null==g?void 0:g.email)===n.creatorEmail;t.useEffect(()=>{e||x("idle")},[e]);const v=()=>{m.set(n.id),x("success")},j=e=>{x("error"),f(e)};return e?a.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[100] flex justify-center items-center backdrop-blur-md animate-fade-in",onClick:e=>{e.target===e.currentTarget&&"success"!==u&&i()},children:[a.jsx("style",{children:"\n                .payment-modal-card { \n                    background: #0c0f14; padding: 30px 24px; border-radius: 20px; \n                    width: 90%; max-width: 380px; text-align: center;\n                    border: 1px solid #00c2ff; box-shadow: 0 0 40px rgba(0, 194, 255, 0.2);\n                    max-height: 90vh; overflow-y: auto;\n                    position: relative;\n                }\n                .sim-badge {\n                    position: absolute; top: 0; left: 0; width: 100%;\n                    background: #FFD700; color: #000; font-size: 10px; font-weight: 900;\n                    padding: 4px; text-transform: uppercase; letter-spacing: 1px;\n                }\n            "}),a.jsxs("div",{className:"payment-modal-card animate-pop-in",children:[N&&a.jsxs("div",{className:"sim-badge",children:[a.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-1"})," Visualização de Proprietário"]}),"idle"===u&&a.jsxs(a.Fragment,{children:["syncpay"===r&&a.jsx(D,{group:n,onSuccess:v,onError:j,onTransactionId:b}),"paypal"===r&&a.jsx(T,{group:n,convertedPriceInfo:o,onSuccess:v,onError:j,onTransactionId:b}),"stripe"===r&&a.jsx(Z,{group:n,geo:c,convertedPriceInfo:o,onSuccess:v,onError:j,onTransactionId:b})]}),"success"===u&&a.jsxs("div",{className:"py-6 animate-fade-in",children:[a.jsx("div",{className:"w-20 h-20 bg-[#00ff82]/10 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-[#00ff82]",children:a.jsx("i",{className:"fa-solid fa-check text-4xl text-[#00ff82]"})}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"PAGAMENTO APROVADO"}),a.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"Sua vaga na área VIP foi liberada com sucesso!"}),a.jsxs("button",{onClick:()=>{if(!(s.getCurrentUserEmail()||localStorage.getItem("guest_email_capture")))return sessionStorage.setItem("redirect_after_login",`/payment-success-bridge/${n.id}`),void d("/register");d(`/payment-success-bridge/${n.id}`,{replace:!0})},className:"w-full py-4 bg-[#00ff82] text-black rounded-xl font-bold text-lg shadow-[0_0_20px_rgba(0,255,130,0.3)]",children:["ACESSAR AGORA ",a.jsx("i",{className:"fa-solid fa-arrow-right ml-2"})]})]}),"error"===u&&a.jsxs("div",{className:"py-6",children:[a.jsx("i",{className:"fa-solid fa-circle-exclamation text-5xl text-red-500 mb-4"}),a.jsx("p",{className:"text-red-400 mb-6",children:p}),a.jsx("button",{onClick:()=>x("idle"),className:"w-full py-3 bg-white/5 text-white rounded-lg font-bold border border-white/10",children:"TENTAR NOVAMENTE"})]})]})]}):null};export{ee as PaymentFlowModal};
